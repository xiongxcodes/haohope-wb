{"hidden":true,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"itemId":"win","defaults":"{\n  padding: 8,\n  layout: 'hbox'\n}","editWin":"true","width":"900","layoutType":"anchorForm","iconCls":"user_group_icon","autoShow":"true"},"expanded":true,"children":[{"configs":{"itemId":"userFs","title":"指定人员："},"expanded":true,"children":[{"configs":{"fieldCls":"wb-disabled x-form-field","itemId":"userCombo","onTriggerClick":"Wb.run({\n  url: 'user-selector',\n  single: true,\n  success: function(scope) {\n    scope.show(function(userData, win) {\n      Wb.apply(app.data, userData);\n      app.userCombo.setValue(Wb.joinArray(userData.displayName, userData.userName));\n      win.close();\n    }, {\n      userId: app.data.userId\n    });\n  }\n});","editable":"false","flex":"1","triggerCls":"x-form-ellipsis-trigger"},"expanded":false,"children":[],"type":"combo"},{"configs":{"itemId":"delBtn","glyph":"f00d","buttonStyle":"default","tooltip":"删除"},"expanded":false,"children":[],"type":"button","events":{"click":"app.userCombo.reset();\ndelete app.data.userId;\ndelete app.data.userName;\ndelete app.data.displayName;"}}],"type":"fieldset"},{"configs":{"itemId":"roleFs","title":"指定人员所属角色："},"expanded":true,"children":[{"configs":{"fieldCls":"wb-disabled x-form-field","itemId":"roleCombo","onTriggerClick":"Wb.run({\n  url: 'role-selector',\n  single: true,\n  success: function(scope) {\n    scope.show(function(roleId, roleName, win) {\n      app.data.roleId = roleId;\n      app.data.roleName = roleName;\n      app.roleCombo.setValue(Wb.joinArray(roleName));\n      win.close();\n    }, {\n      roleId: app.data.roleId\n    });\n  }\n});","editable":"false","flex":"1","triggerCls":"x-form-ellipsis-trigger"},"expanded":false,"children":[],"type":"combo"},{"configs":{"itemId":"delBtn","glyph":"f00d","buttonStyle":"default","tooltip":"删除"},"expanded":false,"children":[],"type":"button","events":{"click":"app.roleCombo.reset();\ndelete app.data.roleId;\ndelete app.data.roleName;"}}],"type":"fieldset"},{"configs":{"itemId":"deptFs","title":"指定人员所属部门："},"expanded":true,"children":[{"configs":{"fieldCls":"wb-disabled x-form-field","itemId":"deptCombo","onTriggerClick":"Wb.run({\n  url: 'dept-selector',\n  single: true,\n  success: function(scope) {\n    scope.show(function(deptId, deptName, win) {\n      app.data.deptId = deptId;\n      app.data.deptName = deptName;\n      app.deptCombo.setValue(Wb.joinArray(deptName));\n      win.close();\n    }, {\n      deptId: app.data.deptId\n    });\n  }\n});","editable":"false","flex":"1","triggerCls":"x-form-ellipsis-trigger"},"expanded":false,"children":[],"type":"combo"},{"configs":{"itemId":"delBtn","glyph":"f00d","buttonStyle":"default","tooltip":"删除"},"expanded":false,"children":[],"type":"button","events":{"click":"app.deptCombo.reset();\ndelete app.data.deptId;\ndelete app.data.deptName;"}}],"type":"fieldset"},{"configs":{"itemId":"moduleFs","title":"通过自定义模块指定人员："},"expanded":true,"children":[{"configs":{"itemId":"moduleCombo","onTriggerClick":"Wb.run({\n  url: 'module-selector',\n  single: true,\n  success: function(scope) {\n    scope.show(function(value, win) {\n      app.data.module = value;\n      app.moduleCombo.setValue(value);\n      win.close();\n    });\n  }\n});","flex":"1","triggerCls":"x-form-ellipsis-trigger"},"expanded":false,"children":[],"type":"combo"},{"configs":{"itemId":"delBtn","glyph":"f00d","buttonStyle":"default","tooltip":"删除"},"expanded":false,"children":[],"type":"button","events":{"click":"app.moduleCombo.reset();\ndelete app.data.module;"}}],"type":"fieldset"}],"type":"window","events":{"ok":"app.data.module = app.moduleCombo.getValue();\nif (Wb.isEmpty(app.data.module))\n  delete app.data.module;\nExt.callback(app.callback, app, [app.data, win]);"}}],"type":"module","events":{"initialize":"Wb.apply(app, {\n  /**\n   * 显示综合选择对话框。\n   * @param {Function} callback 点击确定按钮后的回调函数。\n   * @param {Object} callback.data 选择的数据。\n   * @param {Ext.window.Window} callback.win 窗口对象。\n   * @param {Object} [params] 可选参数。\n   * @param {String} [params.title] 窗口标题。\n   * @param {Object} [params.data] 已经选择的数据。\n   */\n  show: function(callback, params) {\n    if (!params)\n      params = {};\n    app.win.show();\n    app.callback = callback;\n    app.win.setTitle(params.title || '处理人员选择');\n    if (params.data) {\n      var data = app.data = params.data;\n      if (data.userId)\n        app.data.userId = data.userId;\n      if (data.userName && data.displayName)\n        app.userCombo.setValue(Wb.joinArray(data.displayName, data.userName));\n      if (data.roleName)\n        app.roleCombo.setValue(Wb.joinArray(data.roleName));\n      if (data.deptName)\n        app.deptCombo.setValue(Wb.joinArray(data.deptName));\n      if (data.module)\n        app.moduleCombo.setValue(data.module);\n    } else\n      app.data = {};\n  }\n});"}}],"roles":{},"title":"综合选择器","iconCls":"","inframe":false,"pageLink":""}