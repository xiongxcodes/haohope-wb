{"hidden":false,"children":[{"configs":{"itemId":"module","serverScript":"var whereSql = '',\n  params = app.get();\nif (params.beginDate)\n  whereSql += ' and a.START_DATE >= {?timestamp.beginDate?}';\nif (params.endDate) {\n  //结束日期使用开区间，因此在日期上加1天\n  app.set({\n    endDate: DateUtil.incDay(app.getJavaDate('endDate'), 1)\n  });\n  whereSql += ' and a.LAST_MODIFY_DATE < {?endDate?}'; //此处endDate为日期型值，可不加timestamp.前缀\n}\nif (Wb.parseBool(params.viewUnDone)) {\n  whereSql += ' and b.NEED_PROCESS=1 and a.STATUS=1';\n}\nif (params.searchTitleCombo) {\n  app.set({\n    searchTitleCombo: '%' + params.searchTitleCombo + '%'\n  });\n  whereSql += ' and a.TITLE like {?searchTitleCombo?}';\n}\napp.set({\n  'whereSql': whereSql,\n  'orderFields': DbUtil.getOrderSql(params.sort, '{FLOW_ID:\"a\"}')\n});"},"expanded":true,"children":[{"configs":{"itemId":"selectSql","default":"select a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\na.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\nb.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\nfrom WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#} order by {#orderFields#}\n","oracle":"select t2.* from (\n  select ROWNUM as \"RN\",t1.* from (\n    select\n    a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\n    a.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\n    b.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\n    from WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#}\n    order by {#orderFields#}\n  ) t1) t2\nwhere RN >= {?bigint.beginIndex?} and RN<={?bigint.endIndex?}","sqlserver":"select * from (\n  select row_number() over (order by {#orderFields#}) as \"RN\",\n  a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\n  a.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\n  b.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\n  from WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#}\n) t1\nwhere RN between {?bigint.beginIndex?} and {?bigint.endIndex?}","postgresql":"select a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\na.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\nb.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\nfrom WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#} order by {#orderFields#}\nlimit {?bigint.limit?} offset {?bigint.start?}","db2":"select * from (\n  select row_number() over (order by {#orderFields#}) as \"RN\",\n  a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\n  a.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\n  b.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\n  from WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#}\n) t1\nwhere RN between {?bigint.beginIndex?} and {?bigint.endIndex?}","mysql":"select a.LIST_ID,a.FLOW_ID,a.NODE_NAME,a.TITLE,a.START_DATE,a.START_USER_ID,a.START_USER_DISP_NAME,\na.LAST_MODIFY_DATE,a.LAST_USER_ID,a.LAST_USER_DISP_NAME,a.FLOW_NAME,a.STATUS,\nb.S_ID,b.USER_ID,b.NEED_PROCESS,b.IS_PROCESSED,b.IS_CC,{?sys.user?} as \"MY_ID\"\nfrom WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} {#whereSql#} order by {#orderFields#}\nlimit {?bigint.start?},{?bigint.limit?}"},"expanded":false,"children":[],"type":"sqlswitcher"},{"configs":{"itemId":"serverscript1","script":"app.output(app.get('selectSql'), {\n  autoPage: app.get('sql.autoPage'),\n  totalSql: 'select count(*) from WB_FLOW_LIST a,WB_FLOW_USER b where a.FLOW_ID=b.FLOW_ID and b.USER_ID={?sys.user?} ' + app.get('whereSql')\n});"},"expanded":false,"children":[],"type":"serverscript"}],"type":"module"}],"roles":{},"title":"查询","iconCls":"","inframe":false,"pageLink":""}