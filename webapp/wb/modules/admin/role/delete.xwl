{"hidden":false,"children":[{"configs":{"serverScript":"var rows = Wb.decode(app.get('destroy'));\n//检查是否包含admin和default角色，如果包含则抛出异常\nWb.each(rows, function(row) {\n  if (['admin', 'default'].indexOf(row.ROLE_ID) != -1)\n    throw Wb.format('\"%s\" 是系统保留角色，不能删除。', row.ROLE_ID);\n});\n//删除WB_ROLE记录\napp.update({\n  tableName: 'WB_ROLE'\n});\n//删除WB_USER_ROLE记录\napp.run('delete from WB_USER_ROLE where ROLE_ID={?ROLE_ID?}', {\n  arrayName: 'destroy'\n});\n//删除文件中的角色信息\ncom.wb.interact.Tools.delModulesPerm(request, response);","itemId":"module"},"expanded":true,"children":[],"type":"module"}],"roles":{},"title":"删除","iconCls":"","inframe":false,"pageLink":""}