{"hidden":true,"children":[{"configs":{"itemId":"module","internalCall":"true"},"expanded":true,"children":[{"configs":{"itemId":"USER_NAME","allowBlank":"false","createInstance":"false","fieldLabel":"用户名称","validator":"var me = this;\nif (me.getValue())\n  return app.errorMsg;\nelse\n  return true;"},"expanded":false,"children":[],"type":"text","events":{"change":"if (newValue) {\n  if (app.checkAjax)\n    Ext.Ajax.abort(app.checkAjax);\n  app.checkAjax = Wb.request({\n    url: 'm?xwl=sys/app/user/check-username',\n    timeout: 8000,\n    showMask: false,\n    showError: false,\n    params: {\n      userName: newValue,\n      exceptName: this.exceptName\n    },\n    success: function(resp) {\n      var userName = Wb.decode(resp.responseText).USER_NAME;\n      if (userName) {\n        app.errorMsg = Wb.format('用户名称\u201c{0}\u201d已经存在', newValue);\n        text.markInvalid(app.errorMsg);\n      } else {\n        app.errorMsg = true;\n        text.clearInvalid();\n      }\n    }\n  });\n}"}}],"type":"module","events":{"initialize":"Wb.apply(app, {\n  errorMsg: true\n});"}}],"roles":{"default":1},"title":"用户名称控件","iconCls":"","inframe":false,"pageLink":""}