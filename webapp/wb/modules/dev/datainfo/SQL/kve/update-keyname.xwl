{"hidden":true,"children":[{"configs":{"serverScript":"var keyName = app.get('KEY_NAME'),\n  type = app.getInt('TYPE'),\n  KVBuffer = com.wb.common.KVBuffer;\n\nif (type == 3) {\n  app.run('select 1 from WB_KEY_TREE where KEY_NAME={?KEY_NAME?} and KEY_ID<>{?KEY_ID?} and PARENT_ID={?PARENT_ID?}', {\n    errorText: '目录 \u201c' + keyName + '\u201d 已经存在。'\n  });\n} else {\n  app.run('select 1 from WB_KEY_TREE where KEY_NAME={?KEY_NAME?} and KEY_ID<>{?KEY_ID?} and TYPE<>3', {\n    errorText: '键名 \u201c' + keyName + '\u201d 已经存在。'\n  });\n}\napp.run('update WB_KEY_TREE set KEY_NAME={?KEY_NAME?} where KEY_ID={?KEY_ID?}');\nif (type < 3) {\n  KVBuffer.buffer.remove(app.get('oldName'));\n  KVBuffer.reloadKey(DbUtil.getConnection(request), keyName, type);\n}","itemId":"module"},"expanded":true,"children":[],"type":"module"}],"roles":{},"title":"修改","iconCls":"","inframe":false,"pageLink":""}