{"hidden":true,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"itemId":"win","focusControl":"nodeName","resizable":"true","editWin":"true","width":"1000","layoutType":"vboxForm","autoShow":"true","maximizable":"true","height":"500"},"expanded":true,"children":[{"configs":{"layout":"hbox","itemId":"container1"},"expanded":true,"children":[{"configs":{"itemId":"label1","text":"节点名称："},"expanded":false,"children":[],"type":"label"},{"configs":{"itemId":"nodeName","allowBlank":"false","flex":"1"},"expanded":false,"children":[],"type":"text"},{"configs":{"itemId":"item1","xtype":"tbspacer","flex":"0","width":"20"},"expanded":false,"children":[],"type":"item"},{"configs":{"itemId":"label2","text":"按钮标题："},"expanded":false,"children":[],"type":"label"},{"configs":{"itemId":"passName","allowBlank":"false","flex":"1"},"expanded":false,"children":[],"type":"text"},{"configs":{"itemId":"item2","xtype":"tbspacer","flex":"0","width":"20"},"expanded":false,"children":[],"type":"item"},{"configs":{"itemId":"label3","text":"节点标题："},"expanded":false,"children":[],"type":"label"},{"configs":{"itemId":"nodeTitle","flex":"1"},"expanded":false,"children":[],"type":"text"},{"configs":{"itemId":"item3","xtype":"tbspacer","flex":"0","width":"20"},"expanded":false,"children":[],"type":"item"},{"configs":{"itemId":"label4","text":"通过人数："},"expanded":false,"children":[],"type":"label"},{"configs":{"itemId":"passUsers","flex":"1"},"expanded":false,"children":[],"type":"text"}],"type":"container"},{"configs":{"layout":"fit","itemId":"fieldset1","padding":"8","flex":"1","title":"请选择加签的用户"},"expanded":true,"children":[{"configs":{"itemId":"xwl1","file":"m?xwl=sys/app/user/user-select-panel"},"expanded":false,"children":[],"type":"xwl"}],"type":"fieldset"}],"type":"window","events":{"hide":"app.xwl1.sourceStore.removeAll();\napp.xwl1.destStore.removeAll();","ok":"var recs = app.xwl1.destStore.getRange(),\n  userId = Wb.pluck(recs, 'USER_ID'),\n  userName = Wb.pluck(recs, 'USER_NAME'),\n  displayName = Wb.pluck(recs, 'DISPLAY_NAME');\nif (!recs.length) {\n  Wb.warn('请选择至少1个用户。');\n  return;\n}\nExt.callback(app.callback, app, [{\n  userId: userId,\n  userName: userName,\n  displayName: displayName\n}, app.nodeName.getValue(), app.passName.getValue(), app.nodeTitle.getValue(), app.passUsers.getValue(), win]);"}}],"type":"module","events":{"initialize":"Wb.apply(app, {\n  /**\n   * 显示加签操作对话框。\n   * @param {Function} callback 点击确定按钮后的回调函数。\n   * @param {Object} callback.userData 选择的用户数据。\n   * @param {String} callback.nodeName 节点名称。\n   * @param {String} callback.passName 按钮标题。\n   * @param {String} callback.nodeTitle 节点标题。\n   * @param {String} callback.passUsers 通过人数。\n   * @param {Ext.window.Window} callback.win 窗口对象。\n   * @param {Object} [params] 可选参数。\n   * @param {String} [params.nodeName} 节点名称。\n   * @param {String} [params.title] 窗口标题。\n   * @param {String} [params.iconCls] 窗口图标。\n   */\n  show: function(callback, params) {\n    if (!params)\n      params = {};\n    app.callback = callback;\n    app.win.show();\n    app.win.setTitle(params.title || '加签');\n    app.win.setIconCls(params.iconCls || 'file_edit');\n    app.nodeName.setValue(params.nodeName + params.title);\n    app.passName.setValue('通过');\n    app.xwl1.load();\n  }\n});"}}],"roles":{},"title":"加签对话框","iconCls":"","inframe":false,"pageLink":""}