{"hidden":false,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"quoted":"true","itemId":"text","js":"//可以使用app.run运行所有sql语句，包括dql, ddl, dml以及对过程和函数的访问等\n//使用app.run系统会自动关闭用到的connection, statement和resultSet\n//具体使用说明请参考app.run方法和query控件\nvar affectedCount = app.run('update WB_MISC set INT_FIELD=35 where 1=0'); //update语句返回影响记录数\nvar text = [],\n  result = app.run('select * from WB_MISC'); //获得结果集\nwhile (result.next()) {\n  text.push(result.getString('STRING_FIELD')); //读取指定名称字段内容到数组\n}\napp.send(text.join(',')); //发送到客户端\n// for (i = 0; i < 10000; i++) {\n//   rs=app.run(sql); //不可在大循环内使用该方法，因为该方法用到的数据库资源要到请求结束后才释放，会抛出数据库资源耗尽的异常\n//   st=rs.getStatement();DbUtil.close(rs); DbUtil.close(st);//通过手动关闭来释放资源的方法可解决上述问题\n//   大循环内对数据的处理可以通过批处理或通过statement直接操作\n// }"},"expanded":false,"children":[],"type":"string"},{"configs":{"layout":"fit","itemId":"viewport1"},"expanded":true,"children":[{"configs":{"itemId":"xwl1","file":"m?xwl=sys/tool/dev/script-editor","params":"{\n  readOnly: true\n}"},"expanded":false,"children":[],"type":"xwl"}],"type":"viewport","events":{"afterrender":"app.xwl1.setValue(\"{#text#}\");"}}],"type":"module"}],"roles":{},"title":"运行 SQL 语句","iconCls":"","inframe":false,"pageLink":""}