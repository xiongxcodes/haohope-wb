{"hidden":false,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"layout":"fit","itemId":"viewport1"},"expanded":true,"children":[{"configs":{"itemId":"grid1"},"expanded":true,"children":[{"configs":{"itemId":"tbar"},"expanded":true,"children":[{"configs":{"itemId":"toggleGroup","text":"切换分组"},"expanded":false,"children":[],"type":"item","events":{"click":"var feature = app.grid1.view.findFeature('groupingsummary');\nif (feature.disabled)\n  feature.enable();\nelse\n  feature.disable();"}}],"type":"toolbar"},{"configs":{"groupField":"DEPT_NAME","itemId":"store","autoLoad":"true","pageSize":"-1","url":"m?xwl=examples/controls/grid/data-source/select-employee"},"expanded":false,"children":[],"type":"store"},{"configs":{"itemId":"features"},"expanded":true,"children":[{"configs":{"itemId":"groupingsummary","ftype":"groupingsummary","groupHeaderTpl":"{name}"},"expanded":false,"children":[],"type":"feature"},{"configs":{"itemId":"summary","ftype":"summary"},"expanded":false,"children":[],"type":"feature"}],"type":"array"},{"configs":{"itemId":"columns"},"expanded":true,"children":[{"configs":{"itemId":"realNameCol","summaryRenderer":"return summaryData._featureObject instanceof Ext.grid.feature.Summary ? '总计：' : '合计：';","renderer":"var sex = record.get('SEX');\nreturn Wb.getIcon(record.get('SEX') == '2' ? 'user1_icon' : 'user_icon', sex) + value;","dataIndex":"REAL_NAME","width":"180","text":"姓名"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"sexCol","summaryRenderer":"return Wb.format('共 {0} 人', value);","dataIndex":"SEX","summaryType":"count","keyName":"sex","width":"80","text":"性别"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"birthDateCol","summaryRenderer":"return '最年轻：' + Wb.dateToText(value);","dataIndex":"BIRTH_DATE","summaryType":"max","width":"130","text":"生日"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"vacationHoursCol","summaryRenderer":"return '平均时长： ' + Wb.format(value, '0.#');","dataIndex":"VACATION_HOURS","summaryType":"average","width":"110","text":"休假时长","align":"right"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"vocationDaysCol","summaryRenderer":"//该计算字段在后台模块dataProvider控件中定义\nreturn '平均天数：' + Wb.format(summaryData.VACATION_HOURS / 8, '0.0');","dataIndex":"VACATION_DAYS","width":"180","format":"0.0","text":"计算字段（休假天数）","align":"right"},"expanded":false,"children":[],"type":"column"}],"type":"array"}],"type":"grid"}],"type":"viewport"}],"type":"module"}],"roles":{},"title":"分组合计总计","iconCls":"","inframe":false,"pageLink":""}