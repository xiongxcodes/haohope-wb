if(!Array.prototype.forEach){Array.prototype.forEach=function(d,c){var b,a=this.length;for(b=0;b<a;b++){d.call(c,this[b],b,this)}}}(function(a){if(typeof exports=="object"&&typeof module=="object"){module.exports=a()}else{if(typeof define=="function"&&define.amd){return define([],a)}else{this.CodeMirror=a()}}})(function(){var co=/gecko\/\d/i.test(navigator.userAgent);var eG=/MSIE \d/.test(navigator.userAgent);var bI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var dG=eG||bI;var k=dG&&(eG?document.documentMode||6:bI[1]);var cY=/WebKit\//.test(navigator.userAgent);var dJ=cY&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var da=/Chrome\//.test(navigator.userAgent);var dY=/Opera\//.test(navigator.userAgent);var aA=/Apple Computer/.test(navigator.vendor);var a8=/KHTML\//.test(navigator.userAgent);var c5=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var fr=/PhantomJS/.test(navigator.userAgent);var eX=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var ec=eX||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var b6=eX||/Mac/.test(navigator.platform);var aM=/win/i.test(navigator.platform);var aV=dY&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(aV){aV=Number(aV[1])}if(aV&&aV>=15){dY=false;cY=true}var bP=b6&&(dJ||dY&&(aV==null||aV<12.11));var f0=co||(dG&&k>=9);var f3=false,a4=false;function I(f8,f9){if(!(this instanceof I)){return new I(f8,f9)}this.options=f9=f9?aK(f9):{};aK(eZ,f9,false);cd(f9);var gd=f9.value;if(typeof gd=="string"){gd=new ar(gd,f9.mode)}this.doc=gd;var gc=this.display=new eE(f8,gd);gc.wrapper.CodeMirror=this;d8(this);cM(this);if(f9.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(f9.autofocus&&!ec){ev(this)}aB(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new f7(),keySeq:null};if(dG&&k<11){setTimeout(cv(fl,this,true),20)}fM(this);bg();cG(this);this.curOp.forceUpdate=true;d7(this,gd);if((f9.autofocus&&!ec)||dK()==gc.input){setTimeout(cv(cA,this),20)}else{aS(this)}for(var gb in bc){if(bc.hasOwnProperty(gb)){bc[gb](this,f9[gb],cb)}}d1(this);for(var ga=0;ga<a5.length;++ga){a5[ga](this)}al(this);if(cY&&f9.lineWrapping&&getComputedStyle(gc.lineDiv).textRendering=="optimizelegibility"){gc.lineDiv.style.textRendering="auto"}}function eE(f8,ga){var gb=this;var f9=gb.input=fT("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(cY){f9.style.width="1000px"}else{f9.setAttribute("wrap","off")}if(eX){f9.style.border="1px solid black"}f9.setAttribute("autocorrect","off");f9.setAttribute("autocapitalize","off");f9.setAttribute("spellcheck","false");gb.inputDiv=fT("div",[f9],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");gb.scrollbarFiller=fT("div",null,"CodeMirror-scrollbar-filler");gb.scrollbarFiller.setAttribute("not-content","true");gb.gutterFiller=fT("div",null,"CodeMirror-gutter-filler");gb.gutterFiller.setAttribute("not-content","true");gb.lineDiv=fT("div",null,"CodeMirror-code");gb.selectionDiv=fT("div",null,null,"position: relative; z-index: 1");gb.cursorDiv=fT("div",null,"CodeMirror-cursors");gb.measure=fT("div",null,"CodeMirror-measure");gb.lineMeasure=fT("div",null,"CodeMirror-measure");gb.lineSpace=fT("div",[gb.measure,gb.lineMeasure,gb.selectionDiv,gb.cursorDiv,gb.lineDiv],null,"position: relative; outline: none");gb.mover=fT("div",[fT("div",[gb.lineSpace],"CodeMirror-lines")],null,"position: relative");gb.sizer=fT("div",[gb.mover],"CodeMirror-sizer");gb.sizerWidth=null;gb.heightForcer=fT("div",null,null,"position: absolute; height: "+dF+"px; width: 1px;");gb.gutters=fT("div",null,"CodeMirror-gutters");gb.lineGutter=null;gb.scroller=fT("div",[gb.sizer,gb.heightForcer,gb.gutters],"CodeMirror-scroll");gb.scroller.setAttribute("tabIndex","-1");gb.wrapper=fT("div",[gb.inputDiv,gb.scrollbarFiller,gb.gutterFiller,gb.scroller],"CodeMirror");if(dG&&k<8){gb.gutters.style.zIndex=-1;gb.scroller.style.paddingRight=0}if(eX){f9.style.width="0px"}if(!cY){gb.scroller.draggable=true}if(a8){gb.inputDiv.style.height="1px";gb.inputDiv.style.position="absolute"}if(f8){if(f8.appendChild){f8.appendChild(gb.wrapper)}else{f8(gb.wrapper)}}gb.viewFrom=gb.viewTo=ga.first;gb.reportedViewFrom=gb.reportedViewTo=ga.first;gb.view=[];gb.renderedView=null;gb.externalMeasured=null;gb.viewOffset=0;gb.lastWrapHeight=gb.lastWrapWidth=0;gb.updateLineNumbers=null;gb.nativeBarWidth=gb.barHeight=gb.barWidth=0;gb.scrollbarsClipped=false;gb.lineNumWidth=gb.lineNumInnerWidth=gb.lineNumChars=null;gb.prevInput="";gb.alignWidgets=false;gb.pollingFast=false;gb.poll=new f7();gb.cachedCharWidth=gb.cachedTextHeight=gb.cachedPaddingH=null;gb.inaccurateSelection=false;gb.maxLine=null;gb.maxLineLength=0;gb.maxLineChanged=false;gb.wheelDX=gb.wheelDY=gb.wheelStartX=gb.wheelStartY=null;gb.shift=false;gb.selForContextMenu=null}function bq(f8){f8.doc.mode=I.getMode(f8.options,f8.doc.modeOption);eh(f8)}function eh(f8){f8.doc.iter(function(f9){if(f9.stateAfter){f9.stateAfter=null}if(f9.styles){f9.styles=null}});f8.doc.frontier=f8.doc.first;eb(f8,100);f8.state.modeGen++;if(f8.curOp){ag(f8)}}function eC(f8){if(f8.options.lineWrapping){fx(f8.display.wrapper,"CodeMirror-wrap");f8.display.sizer.style.minWidth="";f8.display.sizerWidth=null}else{f(f8.display.wrapper,"CodeMirror-wrap");g(f8)}Y(f8);ag(f8);aj(f8);setTimeout(function(){eU(f8)},100)}function bb(f8){var ga=aU(f8.display),f9=f8.options.lineWrapping;var gb=f9&&Math.max(5,f8.display.scroller.clientWidth/dz(f8.display)-3);return function(gd){if(ft(f8.doc,gd)){return 0}var gc=0;if(gd.widgets){for(var ge=0;ge<gd.widgets.length;ge++){if(gd.widgets[ge].height){gc+=gd.widgets[ge].height}}}if(f9){return gc+(Math.ceil(gd.text.length/gb)||1)*ga}else{return gc+ga}}}function Y(f8){var ga=f8.doc,f9=bb(f8);ga.iter(function(gb){var gc=f9(gb);if(gc!=gb.height){fW(gb,gc)}})}function cM(f8){f8.display.wrapper.className=f8.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f8.options.theme.replace(/(^|\s)\s*/g," cm-s-");aj(f8)}function ds(f8){d8(f8);ag(f8);setTimeout(function(){eA(f8)},20)}function d8(f8){var f9=f8.display.gutters,gd=f8.options.gutters;dX(f9);for(var ga=0;ga<gd.length;++ga){var gb=gd[ga];var gc=f9.appendChild(fT("div",null,"CodeMirror-gutter "+gb));if(gb=="CodeMirror-linenumbers"){f8.display.lineGutter=gc;gc.style.width=(f8.display.lineNumWidth||1)+"px"}}f9.style.display=ga?"":"none";c2(f8)}function c2(f8){var f9=f8.display.gutters.offsetWidth;f8.display.sizer.style.marginLeft=f9+"px"}function ej(ga){if(ga.height==0){return 0}var f9=ga.text.length,f8,gc=ga;while(f8=eK(gc)){var gb=f8.find(0,true);gc=gb.from.line;f9+=gb.from.ch-gb.to.ch}gc=ga;while(f8=er(gc)){var gb=f8.find(0,true);f9-=gc.text.length-gb.from.ch;gc=gb.to.line;f9+=gc.text.length-gb.to.ch}return f9}function g(f8){var ga=f8.display,f9=f8.doc;ga.maxLine=fb(f9,f9.first);ga.maxLineLength=ej(ga.maxLine);ga.maxLineChanged=true;f9.iter(function(gc){var gb=ej(gc);if(gb>ga.maxLineLength){ga.maxLineLength=gb;ga.maxLine=gc}})}function cd(f8){var f9=df(f8.gutters,"CodeMirror-linenumbers");if(f9==-1&&f8.lineNumbers){f8.gutters=f8.gutters.concat(["CodeMirror-linenumbers"])}else{if(f9>-1&&!f8.lineNumbers){f8.gutters=f8.gutters.slice(0);f8.gutters.splice(f9,1)}}}function dw(f8){var gb=f8.display,ga=gb.gutters.offsetWidth;var f9=Math.round(f8.doc.height+bH(f8.display));return{clientHeight:gb.scroller.clientHeight,viewHeight:gb.wrapper.clientHeight,scrollWidth:gb.scroller.scrollWidth,clientWidth:gb.scroller.clientWidth,viewWidth:gb.wrapper.clientWidth,barLeft:f8.options.fixedGutter?ga:0,docHeight:f9,scrollHeight:f9+cR(f8)+gb.barHeight,nativeBarWidth:gb.nativeBarWidth,gutterWidth:ga}}function dh(ga,f9,f8){this.cm=f8;var gb=this.vert=fT("div",[fT("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var gc=this.horiz=fT("div",[fT("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");ga(gb);ga(gc);bW(gb,"scroll",function(){if(gb.clientHeight){f9(gb.scrollTop,"vertical")}});bW(gc,"scroll",function(){if(gc.clientWidth){f9(gc.scrollLeft,"horizontal")}});this.checkedOverlay=false;if(dG&&k<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}}dh.prototype=aK({update:function(gb){var gd=gb.scrollWidth>gb.clientWidth+1;var ga=gb.scrollHeight>gb.clientHeight+1;var ge=gb.nativeBarWidth;if(ga){this.vert.style.display="block";this.vert.style.bottom=gd?ge+"px":"0";var f9=gb.viewHeight-(gd?ge:0);this.vert.firstChild.style.height=Math.max(0,gb.scrollHeight-gb.clientHeight+f9)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(gd){this.horiz.style.display="block";this.horiz.style.right=ga?ge+"px":"0";this.horiz.style.left=gb.barLeft+"px";var f8=gb.viewWidth-gb.barLeft-(ga?ge:0),gc;gc=gb.scrollWidth-gb.clientWidth+f8;if(gc>=0){this.horiz.firstChild.style.width=gc+"px"}}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedOverlay&&gb.clientHeight>0){if(ge==0){this.overlayHack()}this.checkedOverlay=true}return{right:ga?ge:0,bottom:gd?ge:0}},setScrollLeft:function(f8){if(this.horiz.scrollLeft!=f8){this.horiz.scrollLeft=f8}},setScrollTop:function(f8){if(this.vert.scrollTop!=f8){this.vert.scrollTop=f8}},overlayHack:function(){var f8=b6&&!c5?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=f8;var f9=this;var ga=function(gb){if(M(gb)!=f9.vert&&M(gb)!=f9.horiz){c0(f9.cm,ep)(gb)}};bW(this.vert,"mousedown",ga);bW(this.horiz,"mousedown",ga)},clear:function(){var f8=this.horiz.parentNode;f8.removeChild(this.horiz);f8.removeChild(this.vert)}},dh.prototype);function e0(){}e0.prototype=aK({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},e0.prototype);I.scrollbarModel={"native":dh,"null":e0};function aB(f8){if(f8.display.scrollbars){f8.display.scrollbars.clear();if(f8.display.scrollbars.addClass){f(f8.display.wrapper,f8.display.scrollbars.addClass)}}f8.display.scrollbars=new I.scrollbarModel[f8.options.scrollbarStyle](function(f9){f8.display.wrapper.insertBefore(f9,f8.display.scrollbarFiller);bW(f9,"mousedown",function(){if(f8.state.focused){setTimeout(cv(ev,f8),0)}});f9.setAttribute("not-content","true")},function(ga,f9){if(f9=="horizontal"){bD(f8,ga)}else{O(f8,ga)}},f8);if(f8.display.scrollbars.addClass){fx(f8.display.wrapper,f8.display.scrollbars.addClass)}}function eU(ga,gc){if(!gc){gc=dw(ga)}var f9=ga.display.barWidth,f8=ga.display.barHeight;aR(ga,gc);for(var gb=0;gb<4&&f9!=ga.display.barWidth||f8!=ga.display.barHeight;gb++){if(f9!=ga.display.barWidth&&ga.options.lineWrapping){a6(ga)}aR(ga,dw(ga));f9=ga.display.barWidth;f8=ga.display.barHeight}}function aR(f8,f9){var gb=f8.display;var ga=gb.scrollbars.update(f9);gb.sizer.style.paddingRight=(gb.barWidth=ga.right)+"px";gb.sizer.style.paddingBottom=(gb.barHeight=ga.bottom)+"px";if(ga.right&&ga.bottom){gb.scrollbarFiller.style.display="block";gb.scrollbarFiller.style.height=ga.bottom+"px";gb.scrollbarFiller.style.width=ga.right+"px"}else{gb.scrollbarFiller.style.display=""}if(ga.bottom&&f8.options.coverGutterNextToScrollbar&&f8.options.fixedGutter){gb.gutterFiller.style.display="block";gb.gutterFiller.style.height=ga.bottom+"px";gb.gutterFiller.style.width=f9.gutterWidth+"px"}else{gb.gutterFiller.style.display=""}}function b5(gb,gf,ga){var gc=ga&&ga.top!=null?Math.max(0,ga.top):gb.scroller.scrollTop;gc=Math.floor(gc-e4(gb));var f8=ga&&ga.bottom!=null?ga.bottom:gc+gb.wrapper.clientHeight;var gd=bF(gf,gc),ge=bF(gf,f8);if(ga&&ga.ensure){var f9=ga.ensure.from.line,gg=ga.ensure.to.line;if(f9<gd){gd=f9;ge=bF(gf,bL(fb(gf,f9))+gb.wrapper.clientHeight)}else{if(Math.min(gg,gf.lastLine())>=ge){gd=bF(gf,bL(fb(gf,gg))-gb.wrapper.clientHeight);ge=gg}}}return{from:gd,to:Math.max(ge,gd+1)}}function eA(gg){var ge=gg.display,gf=ge.view;if(!ge.alignWidgets&&(!ge.gutters.firstChild||!gg.options.fixedGutter)){return}var gc=dT(ge)-ge.scroller.scrollLeft+gg.doc.scrollLeft;var f8=ge.gutters.offsetWidth,f9=gc+"px";for(var gb=0;gb<gf.length;gb++){if(!gf[gb].hidden){if(gg.options.fixedGutter&&gf[gb].gutter){gf[gb].gutter.style.left=f9}var gd=gf[gb].alignable;if(gd){for(var ga=0;ga<gd.length;ga++){gd[ga].style.left=f9}}}}if(gg.options.fixedGutter){ge.gutters.style.left=(gc+f8)+"px"}}function d1(f8){if(!f8.options.lineNumbers){return false}var gd=f8.doc,f9=eo(f8.options,gd.first+gd.size-1),gc=f8.display;if(f9.length!=gc.lineNumChars){var ge=gc.measure.appendChild(fT("div",[fT("div",f9)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var ga=ge.firstChild.offsetWidth,gb=ge.offsetWidth-ga;gc.lineGutter.style.width="";gc.lineNumInnerWidth=Math.max(ga,gc.lineGutter.offsetWidth-gb);gc.lineNumWidth=gc.lineNumInnerWidth+gb;gc.lineNumChars=gc.lineNumInnerWidth?f9.length:-1;gc.lineGutter.style.width=gc.lineNumWidth+"px";c2(f8);return true}return false}function eo(f8,f9){return String(f8.lineNumberFormatter(f9+f8.firstLineNumber))}function dT(f8){return f8.scroller.getBoundingClientRect().left-f8.sizer.getBoundingClientRect().left}function aG(f9,f8,ga){var gb=f9.display;this.viewport=f8;this.visible=b5(gb,f9.doc,f8);this.editorIsHidden=!gb.wrapper.offsetWidth;this.wrapperHeight=gb.wrapper.clientHeight;this.wrapperWidth=gb.wrapper.clientWidth;this.oldDisplayWidth=di(f9);this.force=ga;this.dims=e9(f9)}function K(f8){var f9=f8.display;if(!f9.scrollbarsClipped&&f9.scroller.offsetWidth){f9.nativeBarWidth=f9.scroller.offsetWidth-f9.scroller.clientWidth;f9.heightForcer.style.height=cR(f8)+"px";f9.sizer.style.marginBottom=-f9.nativeBarWidth+"px";f9.sizer.style.borderRightWidth=cR(f8)+"px";f9.scrollbarsClipped=true}}function C(gh,gb){var gc=gh.display,gg=gh.doc;if(gb.editorIsHidden){es(gh);return false}if(!gb.force&&gb.visible.from>=gc.viewFrom&&gb.visible.to<=gc.viewTo&&(gc.updateLineNumbers==null||gc.updateLineNumbers>=gc.viewTo)&&gc.renderedView==gc.view&&c9(gh)==0){return false}if(d1(gh)){es(gh);gb.dims=e9(gh)}var ga=gg.first+gg.size;var ge=Math.max(gb.visible.from-gh.options.viewportMargin,gg.first);var gf=Math.min(ga,gb.visible.to+gh.options.viewportMargin);if(gc.viewFrom<ge&&ge-gc.viewFrom<20){ge=Math.max(gg.first,gc.viewFrom)}if(gc.viewTo>gf&&gc.viewTo-gf<20){gf=Math.min(ga,gc.viewTo)}if(a4){ge=aT(gh.doc,ge);gf=dZ(gh.doc,gf)}var f9=ge!=gc.viewFrom||gf!=gc.viewTo||gc.lastWrapHeight!=gb.wrapperHeight||gc.lastWrapWidth!=gb.wrapperWidth;cP(gh,ge,gf);gc.viewOffset=bL(fb(gh.doc,gc.viewFrom));gh.display.mover.style.top=gc.viewOffset+"px";var f8=c9(gh);if(!f9&&f8==0&&!gb.force&&gc.renderedView==gc.view&&(gc.updateLineNumbers==null||gc.updateLineNumbers>=gc.viewTo)){return false}var gd=dK();if(f8>4){gc.lineDiv.style.display="none"}cm(gh,gc.updateLineNumbers,gb.dims);if(f8>4){gc.lineDiv.style.display=""}gc.renderedView=gc.view;if(gd&&dK()!=gd&&gd.offsetHeight){gd.focus()}dX(gc.cursorDiv);dX(gc.selectionDiv);gc.gutters.style.height=0;if(f9){gc.lastWrapHeight=gb.wrapperHeight;gc.lastWrapWidth=gb.wrapperWidth;eb(gh,400)}gc.updateLineNumbers=null;return true}function cj(f9,gd){var gb=gd.force,f8=gd.viewport;for(var gc=true;;gc=false){if(gc&&f9.options.lineWrapping&&gd.oldDisplayWidth!=di(f9)){gb=true}else{gb=false;if(f8&&f8.top!=null){f8={top:Math.min(f9.doc.height+bH(f9.display)-cT(f9),f8.top)}}gd.visible=b5(f9.display,f9.doc,f8);if(gd.visible.from>=f9.display.viewFrom&&gd.visible.to<=f9.display.viewTo){break}}if(!C(f9,gd)){break}a6(f9);var ga=dw(f9);bB(f9);dv(f9,ga);eU(f9,ga)}ad(f9,"update",f9);if(f9.display.viewFrom!=f9.display.reportedViewFrom||f9.display.viewTo!=f9.display.reportedViewTo){ad(f9,"viewportChange",f9,f9.display.viewFrom,f9.display.viewTo);f9.display.reportedViewFrom=f9.display.viewFrom;f9.display.reportedViewTo=f9.display.viewTo}}function dP(f9,f8){var gb=new aG(f9,f8);if(C(f9,gb)){a6(f9);cj(f9,gb);var ga=dw(f9);bB(f9);dv(f9,ga);eU(f9,ga)}}function dv(f8,f9){f8.display.sizer.style.minHeight=f9.docHeight+"px";var ga=f9.docHeight+f8.display.barHeight;f8.display.heightForcer.style.top=ga+"px";f8.display.gutters.style.height=Math.max(ga+cR(f8),f9.clientHeight)+"px"}function a6(gf){var gd=gf.display;var f9=gd.lineDiv.offsetTop;for(var ga=0;ga<gd.view.length;ga++){var gg=gd.view[ga],gh;if(gg.hidden){continue}if(dG&&k<8){var gc=gg.node.offsetTop+gg.node.offsetHeight;gh=gc-f9;f9=gc}else{var gb=gg.node.getBoundingClientRect();gh=gb.bottom-gb.top}var ge=gg.line.height-gh;if(gh<2){gh=aU(gd)}if(ge>0.001||ge<-0.001){fW(gg.line,gh);ca(gg.line);if(gg.rest){for(var f8=0;f8<gg.rest.length;f8++){ca(gg.rest[f8])}}}}}function ca(f8){if(f8.widgets){for(var f9=0;f9<f8.widgets.length;++f9){f8.widgets[f9].height=f8.widgets[f9].node.offsetHeight}}}function e9(f8){var gd=f8.display,gb={},ga={};var gc=gd.gutters.clientLeft;for(var ge=gd.gutters.firstChild,f9=0;ge;ge=ge.nextSibling,++f9){gb[f8.options.gutters[f9]]=ge.offsetLeft+ge.clientLeft+gc;ga[f8.options.gutters[f9]]=ge.clientWidth}return{fixedPos:dT(gd),gutterTotalWidth:gd.gutters.offsetWidth,gutterLeft:gb,gutterWidth:ga,wrapperWidth:gd.wrapper.clientWidth}}function cm(gj,ga,gi){var gf=gj.display,gl=gj.options.lineNumbers;var f8=gf.lineDiv,gk=f8.firstChild;function ge(gn){var gm=gn.nextSibling;if(cY&&b6&&gj.display.currentWheelTarget==gn){gn.style.display="none"}else{gn.parentNode.removeChild(gn)}return gm}var gg=gf.view,gd=gf.viewFrom;for(var gb=0;gb<gg.length;gb++){var gc=gg[gb];if(gc.hidden){}else{if(!gc.node){var f9=aD(gj,gc,gd,gi);f8.insertBefore(f9,gk)}else{while(gk!=gc.node){gk=ge(gk)}var gh=gl&&ga!=null&&ga<=gd&&gc.lineNumber;if(gc.changes){if(df(gc.changes,"gutter")>-1){gh=false}aa(gj,gc,gd,gi)}if(gh){dX(gc.lineNumber);gc.lineNumber.appendChild(document.createTextNode(eo(gj.options,gd)))}gk=gc.node.nextSibling}}gd+=gc.size}while(gk){gk=ge(gk)}}function aa(f8,ga,gc,gd){for(var f9=0;f9<ga.changes.length;f9++){var gb=ga.changes[f9];if(gb=="text"){fh(f8,ga)}else{if(gb=="gutter"){dd(f8,ga,gc,gd)}else{if(gb=="class"){dC(ga)}else{if(gb=="widget"){an(ga,gd)}}}}}ga.changes=null}function fF(f8){if(f8.node==f8.text){f8.node=fT("div",null,null,"position: relative");if(f8.text.parentNode){f8.text.parentNode.replaceChild(f8.node,f8.text)}f8.node.appendChild(f8.text);if(dG&&k<8){f8.node.style.zIndex=2}}return f8.node}function eq(f9){var f8=f9.bgClass?f9.bgClass+" "+(f9.line.bgClass||""):f9.line.bgClass;if(f8){f8+=" CodeMirror-linebackground"}if(f9.background){if(f8){f9.background.className=f8}else{f9.background.parentNode.removeChild(f9.background);f9.background=null}}else{if(f8){var ga=fF(f9);f9.background=ga.insertBefore(fT("div",null,f8),ga.firstChild)}}}function dR(f8,f9){var ga=f8.display.externalMeasured;if(ga&&ga.line==f9.line){f8.display.externalMeasured=null;f9.measure=ga.measure;return ga.built}return eN(f8,f9)}function fh(f8,gb){var f9=gb.text.className;var ga=dR(f8,gb);if(gb.text==gb.node){gb.node=ga.pre}gb.text.parentNode.replaceChild(ga.pre,gb.text);gb.text=ga.pre;if(ga.bgClass!=gb.bgClass||ga.textClass!=gb.textClass){gb.bgClass=ga.bgClass;gb.textClass=ga.textClass;dC(gb)}else{if(f9){gb.text.className=f9}}}function dC(f9){eq(f9);if(f9.line.wrapClass){fF(f9).className=f9.line.wrapClass}else{if(f9.node!=f9.text){f9.node.className=""}}var f8=f9.textClass?f9.textClass+" "+(f9.line.textClass||""):f9.line.textClass;f9.text.className=f8||""}function dd(gg,ge,gd,gf){if(ge.gutter){ge.node.removeChild(ge.gutter);ge.gutter=null}var gb=ge.line.gutterMarkers;if(gg.options.lineNumbers||gb){var f9=fF(ge);var gc=ge.gutter=f9.insertBefore(fT("div",null,"CodeMirror-gutter-wrapper","left: "+(gg.options.fixedGutter?gf.fixedPos:-gf.gutterTotalWidth)+"px; width: "+gf.gutterTotalWidth+"px"),ge.text);if(ge.line.gutterClass){gc.className+=" "+ge.line.gutterClass}if(gg.options.lineNumbers&&(!gb||!gb["CodeMirror-linenumbers"])){ge.lineNumber=gc.appendChild(fT("div",eo(gg.options,gd),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+gf.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+gg.display.lineNumInnerWidth+"px"))}if(gb){for(var ga=0;ga<gg.options.gutters.length;++ga){var f8=gg.options.gutters[ga],gh=gb.hasOwnProperty(f8)&&gb[f8];if(gh){gc.appendChild(fT("div",[gh],"CodeMirror-gutter-elt","left: "+gf.gutterLeft[f8]+"px; width: "+gf.gutterWidth[f8]+"px"))}}}}}function an(f8,gb){if(f8.alignable){f8.alignable=null}for(var ga=f8.node.firstChild,f9;ga;ga=f9){var f9=ga.nextSibling;if(ga.className=="CodeMirror-linewidget"){f8.node.removeChild(ga)}}fq(f8,gb)}function aD(f8,ga,gb,gc){var f9=dR(f8,ga);ga.text=ga.node=f9.pre;if(f9.bgClass){ga.bgClass=f9.bgClass}if(f9.textClass){ga.textClass=f9.textClass}dC(ga);dd(f8,ga,gb,gc);fq(ga,gc);return ga.node}function fq(f9,ga){fY(f9.line,f9,ga,true);if(f9.rest){for(var f8=0;f8<f9.rest.length;f8++){fY(f9.rest[f8],f9,ga,false)}}}function fY(gg,gd,gf,gb){if(!gg.widgets){return}var f8=fF(gd);for(var ga=0,ge=gg.widgets;ga<ge.length;++ga){var gc=ge[ga],f9=fT("div",[gc.node],"CodeMirror-linewidget");if(!gc.handleMouseEvents){f9.setAttribute("cm-ignore-events","true")}bE(gc,f9,gd,gf);if(gb&&gc.above){f8.insertBefore(f9,gd.gutter||gd.text)}else{f8.appendChild(f9)}ad(gc,"redraw")}}function bE(gb,ga,f8,gc){if(gb.noHScroll){(f8.alignable||(f8.alignable=[])).push(ga);var f9=gc.wrapperWidth;ga.style.left=gc.fixedPos+"px";if(!gb.coverGutter){f9-=gc.gutterTotalWidth;ga.style.paddingLeft=gc.gutterTotalWidth+"px"}ga.style.width=f9+"px"}if(gb.coverGutter){ga.style.zIndex=5;ga.style.position="relative";if(!gb.noHScroll){ga.style.marginLeft=-gc.gutterTotalWidth+"px"}}}var X=I.Pos=function(f8,f9){if(!(this instanceof X)){return new X(f8,f9)}this.line=f8;this.ch=f9};var ce=I.cmpPos=function(f9,f8){return f9.line-f8.line||f9.ch-f8.ch};function ci(f8){return X(f8.line,f8.ch)}function bw(f9,f8){return ce(f9,f8)<0?f8:f9}function aq(f9,f8){return ce(f9,f8)<0?f9:f8}function fU(f8,f9){this.ranges=f8;this.primIndex=f9}fU.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(f8){if(f8==this){return true}if(f8.primIndex!=this.primIndex||f8.ranges.length!=this.ranges.length){return false}for(var ga=0;ga<this.ranges.length;ga++){var f9=this.ranges[ga],gb=f8.ranges[ga];if(ce(f9.anchor,gb.anchor)!=0||ce(f9.head,gb.head)!=0){return false}}return true},deepCopy:function(){for(var f8=[],f9=0;f9<this.ranges.length;f9++){f8[f9]=new dU(ci(this.ranges[f9].anchor),ci(this.ranges[f9].head))}return new fU(f8,this.primIndex)},somethingSelected:function(){for(var f8=0;f8<this.ranges.length;f8++){if(!this.ranges[f8].empty()){return true}}return false},contains:function(gb,f8){if(!f8){f8=gb}for(var ga=0;ga<this.ranges.length;ga++){var f9=this.ranges[ga];if(ce(f8,f9.from())>=0&&ce(gb,f9.to())<=0){return ga}}return -1}};function dU(f8,f9){this.anchor=f8;this.head=f9}dU.prototype={from:function(){return aq(this.anchor,this.head)},to:function(){return bw(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function cw(f8,gf){var ga=f8[gf];f8.sort(function(gi,gh){return ce(gi.from(),gh.from())});gf=df(f8,ga);for(var gc=1;gc<f8.length;gc++){var gg=f8[gc],f9=f8[gc-1];if(ce(f9.to(),gg.from())>=0){var gd=aq(f9.from(),gg.from()),ge=bw(f9.to(),gg.to());var gb=f9.empty()?gg.from()==gg.head:f9.from()==f9.head;if(gc<=gf){--gf}f8.splice(--gc,2,new dU(gb?ge:gd,gb?gd:ge))}}return new fU(f8,gf)}function eO(f8,f9){return new fU([new dU(f8,f9||f8)],0)}function c3(f8,f9){return Math.max(f8.first,Math.min(f9,f8.first+f8.size-1))}function fG(f9,ga){if(ga.line<f9.first){return X(f9.first,0)}var f8=f9.first+f9.size-1;if(ga.line>f8){return X(f8,fb(f9,f8).text.length)}return fp(ga,fb(f9,ga.line).text.length)}function fp(ga,f9){var f8=ga.ch;if(f8==null||f8>f9){return X(ga.line,f9)}else{if(f8<0){return X(ga.line,0)}else{return ga}}}function b8(f9,f8){return f8>=f9.first&&f8<f9.first+f9.size}function dV(ga,gb){for(var f8=[],f9=0;f9<gb.length;f9++){f8[f9]=fG(ga,gb[f9])}return f8}function fs(gd,f9,gc,f8){if(gd.cm&&gd.cm.display.shift||gd.extend){var gb=f9.anchor;if(f8){var ga=ce(gc,gb)<0;if(ga!=(ce(f8,gb)<0)){gb=gc;gc=f8}else{if(ga!=(ce(gc,f8)<0)){gc=f8}}}return new dU(gb,gc)}else{return new dU(f8||gc,gc)}}function fQ(gb,ga,f8,f9){bT(gb,new fU([fs(gb,gb.sel.primary(),ga,f8)],0),f9)}function av(gd,gc,ga){for(var f9=[],gb=0;gb<gd.sel.ranges.length;gb++){f9[gb]=fs(gd,gd.sel.ranges[gb],gc[gb],null)}var f8=cw(f9,gd.sel.primIndex);bT(gd,f8,ga)}function e(gc,gb,f9,ga){var f8=gc.sel.ranges.slice(0);f8[gb]=f9;bT(gc,cw(f8,gc.sel.primIndex),ga)}function G(gb,f9,ga,f8){bT(gb,eO(f9,ga),f8)}function c(ga,f8){var f9={ranges:f8.ranges,update:function(gb){this.ranges=[];for(var gc=0;gc<gb.length;gc++){this.ranges[gc]=new dU(fG(ga,gb[gc].anchor),fG(ga,gb[gc].head))}}};aC(ga,"beforeSelectionChange",ga,f9);if(ga.cm){aC(ga.cm,"beforeSelectionChange",ga.cm,f9)}if(f9.ranges!=f8.ranges){return cw(f9.ranges,f9.ranges.length-1)}else{return f8}}function e3(gc,gb,f9){var f8=gc.history.done,ga=fE(f8);if(ga&&ga.ranges){f8[f8.length-1]=gb;el(gc,gb,f9)}else{bT(gc,gb,f9)}}function bT(ga,f9,f8){el(ga,f9,f8);f2(ga,ga.sel,ga.cm?ga.cm.curOp.id:NaN,f8)}function el(gb,ga,f9){if(fe(gb,"beforeSelectionChange")||gb.cm&&fe(gb.cm,"beforeSelectionChange")){ga=c(gb,ga)}var f8=f9&&f9.bias||(ce(ga.primary().head,gb.sel.primary().head)<0?-1:1);c7(gb,n(gb,ga,f8,true));if(!(f9&&f9.scroll===false)&&gb.cm){fD(gb.cm)}}function c7(f9,f8){if(f8.equals(f9.sel)){return}f9.sel=f8;if(f9.cm){f9.cm.curOp.updateInput=f9.cm.curOp.selectionChanged=true;W(f9.cm)}ad(f9,"cursorActivity",f9)}function et(f8){c7(f8,n(f8,f8.sel,null,false),Z)}function n(gg,f8,gd,ge){var ga;for(var gb=0;gb<f8.ranges.length;gb++){var gc=f8.ranges[gb];var gf=bU(gg,gc.anchor,gd,ge);var f9=bU(gg,gc.head,gd,ge);if(ga||gf!=gc.anchor||f9!=gc.head){if(!ga){ga=f8.ranges.slice(0,gb)}ga[gb]=new dU(gf,f9)}}return ga?cw(ga,f8.primIndex):f8}function bU(gh,gg,gd,ge){var gi=false,ga=gg;var gb=gd||1;gh.cantEdit=false;search:for(;;){var gj=fb(gh,ga.line);if(gj.markedSpans){for(var gc=0;gc<gj.markedSpans.length;++gc){var f8=gj.markedSpans[gc],f9=f8.marker;if((f8.from==null||(f9.inclusiveLeft?f8.from<=ga.ch:f8.from<ga.ch))&&(f8.to==null||(f9.inclusiveRight?f8.to>=ga.ch:f8.to>ga.ch))){if(ge){aC(f9,"beforeCursorEnter");if(f9.explicitlyCleared){if(!gj.markedSpans){break}else{--gc;continue}}}if(!f9.atomic){continue}var gf=f9.find(gb<0?-1:1);if(ce(gf,ga)==0){gf.ch+=gb;if(gf.ch<0){if(gf.line>gh.first){gf=fG(gh,X(gf.line-1))}else{gf=null}}else{if(gf.ch>gj.text.length){if(gf.line<gh.first+gh.size-1){gf=X(gf.line+1,0)}else{gf=null}}}if(!gf){if(gi){if(!ge){return bU(gh,gg,gd,true)}gh.cantEdit=true;return X(gh.first,0)}gi=true;gf=gg;gb=-gb}}ga=gf;continue search}}}return ga}}function bk(gi){var ge=gi.display,gh=gi.doc,gj={};var gg=gj.cursors=document.createDocumentFragment();var ga=gj.selection=document.createDocumentFragment();for(var gc=0;gc<gh.sel.ranges.length;gc++){var gd=gh.sel.ranges[gc];var gb=gd.empty();if(gb||gi.options.showCursorWhenSelecting){A(gi,gd,gg)}if(!gb){bC(gi,gd,ga)}}if(gi.options.moveInputWithCursor){var gf=dQ(gi,gh.sel.primary().head,"div");var f8=ge.wrapper.getBoundingClientRect(),f9=ge.lineDiv.getBoundingClientRect();gj.teTop=Math.max(0,Math.min(ge.wrapper.clientHeight-10,gf.top+f9.top-f8.top));gj.teLeft=Math.max(0,Math.min(ge.wrapper.clientWidth-10,gf.left+f9.left-f8.left))}return gj}function ak(f8,f9){bQ(f8.display.cursorDiv,f9.cursors);bQ(f8.display.selectionDiv,f9.selection);if(f9.teTop!=null){f8.display.inputDiv.style.top=f9.teTop+"px";f8.display.inputDiv.style.left=f9.teLeft+"px"}}function bB(f8){ak(f8,bk(f8))}function A(f8,gb,ga){var gd=dQ(f8,gb.head,"div",null,null,!f8.options.singleCursorHeightPerLine);var gc=ga.appendChild(fT("div","\u00a0","CodeMirror-cursor"));gc.style.left=gd.left+"px";gc.style.top=gd.top+"px";gc.style.height=Math.max(0,gd.bottom-gd.top)*f8.options.cursorHeight+"px";if(gd.other){var f9=ga.appendChild(fT("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));f9.style.display="";f9.style.left=gd.other.left+"px";f9.style.top=gd.other.top+"px";f9.style.height=(gd.other.bottom-gd.other.top)*0.85+"px"}}function bC(gc,gi,gd){var gl=gc.display,gp=gc.doc;var f8=document.createDocumentFragment();var gh=e1(gc.display),gb=gh.left;var gm=Math.max(gl.sizerWidth,di(gc)-gl.sizer.offsetLeft)-gh.right;function gj(gt,gs,gr,gq){if(gs<0){gs=0}gs=Math.round(gs);gq=Math.round(gq);f8.appendChild(fT("div",null,"CodeMirror-selected","position: absolute; left: "+gt+"px; top: "+gs+"px; width: "+(gr==null?gm-gt:gr)+"px; height: "+(gq-gs)+"px"))}function f9(gr,gt,gw){var gs=fb(gp,gr);var gu=gs.text.length;var gx,gq;function gv(gz,gy){return cH(gc,X(gr,gz),"div",gs,gy)}d0(a(gs),gt||0,gw==null?gu:gw,function(gF,gE,gy){var gB=gv(gF,"left"),gC,gD,gA;if(gF==gE){gC=gB;gD=gA=gB.left}else{gC=gv(gE-1,"right");if(gy=="rtl"){var gz=gB;gB=gC;gC=gz}gD=gB.left;gA=gC.right}if(gt==null&&gF==0){gD=gb}if(gC.top-gB.top>3){gj(gD,gB.top,null,gB.bottom);gD=gb;if(gB.bottom<gC.top){gj(gD,gB.bottom,null,gC.top)}}if(gw==null&&gE==gu){gA=gm}if(!gx||gB.top<gx.top||gB.top==gx.top&&gB.left<gx.left){gx=gB}if(!gq||gC.bottom>gq.bottom||gC.bottom==gq.bottom&&gC.right>gq.right){gq=gC}if(gD<gb+1){gD=gb}gj(gD,gC.top,gA-gD,gC.bottom)});return{start:gx,end:gq}}var go=gi.from(),gn=gi.to();if(go.line==gn.line){f9(go.line,go.ch,gn.ch)}else{var ga=fb(gp,go.line),gf=fb(gp,gn.line);var ge=y(ga)==y(gf);var gg=f9(go.line,go.ch,ge?ga.text.length+1:null).end;var gk=f9(gn.line,ge?0:null,gn.ch).start;if(ge){if(gg.top<gk.top-2){gj(gg.right,gg.top,null,gg.bottom);gj(gb,gk.top,gk.left,gk.bottom)}else{gj(gg.right,gg.top,gk.left-gg.right,gg.bottom)}}if(gg.bottom<gk.top){gj(gb,gg.bottom,null,gk.top)}}gd.appendChild(f8)}function o(f8){if(!f8.state.focused){return}var ga=f8.display;clearInterval(ga.blinker);var f9=true;ga.cursorDiv.style.visibility="";if(f8.options.cursorBlinkRate>0){ga.blinker=setInterval(function(){ga.cursorDiv.style.visibility=(f9=!f9)?"":"hidden"},f8.options.cursorBlinkRate)}else{if(f8.options.cursorBlinkRate<0){ga.cursorDiv.style.visibility="hidden"}}}function eb(f8,f9){if(f8.doc.mode.startState&&f8.doc.frontier<f8.display.viewTo){f8.state.highlight.set(f9,cv(cN,f8))}}function cN(f8){var gc=f8.doc;if(gc.frontier<gc.first){gc.frontier=gc.first}if(gc.frontier>=f8.display.viewTo){return}var ga=+new Date+f8.options.workTime;var gb=b2(gc.mode,dx(f8,gc.frontier));var f9=[];gc.iter(gc.frontier,Math.min(gc.first+gc.size,f8.display.viewTo+500),function(gd){if(gc.frontier>=f8.display.viewFrom){var gg=gd.styles;var gi=fw(f8,gd,gb,true);gd.styles=gi.styles;var gf=gd.styleClasses,gh=gi.classes;if(gh){gd.styleClasses=gh}else{if(gf){gd.styleClasses=null}}var gj=!gg||gg.length!=gd.styles.length||gf!=gh&&(!gf||!gh||gf.bgClass!=gh.bgClass||gf.textClass!=gh.textClass);for(var ge=0;!gj&&ge<gg.length;++ge){gj=gg[ge]!=gd.styles[ge]}if(gj){f9.push(gc.frontier)}gd.stateAfter=b2(gc.mode,gb)}else{dt(f8,gd.text,gb);gd.stateAfter=gc.frontier%5==0?b2(gc.mode,gb):null}++gc.frontier;if(+new Date>ga){eb(f8,f8.options.workDelay);return true}});if(f9.length){cK(f8,function(){for(var gd=0;gd<f9.length;gd++){S(f8,f9[gd],"text")}})}}function cy(ge,f8,gb){var f9,gc,gd=ge.doc;var ga=gb?-1:f8-(ge.doc.mode.innerMode?1000:100);for(var gh=f8;gh>ga;--gh){if(gh<=gd.first){return gd.first}var gg=fb(gd,gh-1);if(gg.stateAfter&&(!gb||gh<=gd.frontier)){return gh}var gf=bS(gg.text,null,ge.options.tabSize);if(gc==null||f9>gf){gc=gh-1;f9=gf}}return gc}function dx(f8,ge,f9){var gc=f8.doc,gb=f8.display;if(!gc.mode.startState){return true}var gd=cy(f8,ge,f9),ga=gd>gc.first&&fb(gc,gd-1).stateAfter;if(!ga){ga=bZ(gc.mode)}else{ga=b2(gc.mode,ga)}gc.iter(gd,ge,function(gf){dt(f8,gf.text,ga);var gg=gd==ge-1||gd%5==0||gd>=gb.viewFrom&&gd<gb.viewTo;gf.stateAfter=gg?b2(gc.mode,ga):null;++gd});if(f9){gc.frontier=gd}return ga}function e4(f8){return f8.lineSpace.offsetTop}function bH(f8){return f8.mover.offsetHeight-f8.lineSpace.offsetHeight}function e1(gb){if(gb.cachedPaddingH){return gb.cachedPaddingH}var ga=bQ(gb.measure,fT("pre","x"));var f8=window.getComputedStyle?window.getComputedStyle(ga):ga.currentStyle;var f9={left:parseInt(f8.paddingLeft),right:parseInt(f8.paddingRight)};if(!isNaN(f9.left)&&!isNaN(f9.right)){gb.cachedPaddingH=f9}return f9}function cR(f8){return dF-f8.display.nativeBarWidth}function di(f8){return f8.display.scroller.clientWidth-cR(f8)-f8.display.barWidth}function cT(f8){return f8.display.scroller.clientHeight-cR(f8)-f8.display.barHeight}function ch(gf,gb,ge){var ga=gf.options.lineWrapping;var gc=ga&&di(gf);if(!gb.measure.heights||ga&&gb.measure.width!=gc){var gd=gb.measure.heights=[];if(ga){gb.measure.width=gc;var gh=gb.text.firstChild.getClientRects();for(var f8=0;f8<gh.length-1;f8++){var gg=gh[f8],f9=gh[f8+1];if(Math.abs(gg.bottom-f9.bottom)>2){gd.push((gg.bottom+f9.top)/2-ge.top)}}}gd.push(ge.bottom-ge.top)}}function ct(ga,f8,gb){if(ga.line==f8){return{map:ga.measure.map,cache:ga.measure.cache}}for(var f9=0;f9<ga.rest.length;f9++){if(ga.rest[f9]==f8){return{map:ga.measure.maps[f9],cache:ga.measure.caches[f9]}}}for(var f9=0;f9<ga.rest.length;f9++){if(bM(ga.rest[f9])>gb){return{map:ga.measure.maps[f9],cache:ga.measure.caches[f9],before:true}}}}function cZ(f8,ga){ga=y(ga);var gc=bM(ga);var f9=f8.display.externalMeasured=new bu(f8.doc,ga,gc);f9.lineN=gc;var gb=f9.built=eN(f8,f9);f9.text=gb.pre;bQ(f8.display.lineMeasure,gb.pre);return f9}function ed(f8,f9,gb,ga){return D(f8,a1(f8,f9),gb,ga)}function e7(f8,ga){if(ga>=f8.display.viewFrom&&ga<f8.display.viewTo){return f8.display.view[dn(f8,ga)]}var f9=f8.display.externalMeasured;if(f9&&ga>=f9.lineN&&ga<f9.lineN+f9.size){return f9}}function a1(f8,ga){var gb=bM(ga);var f9=e7(f8,gb);if(f9&&!f9.text){f9=null}else{if(f9&&f9.changes){aa(f8,f9,gb,e9(f8))}}if(!f9){f9=cZ(f8,ga)}var gc=ct(f9,ga,gb);return{line:ga,view:f9,rect:null,map:gc.map,cache:gc.cache,before:gc.before,hasHeights:false}}function D(f8,ge,gc,f9,gb){if(ge.before){gc=-1}var ga=gc+(f9||""),gd;if(ge.cache.hasOwnProperty(ga)){gd=ge.cache[ga]}else{if(!ge.rect){ge.rect=ge.view.text.getBoundingClientRect()}if(!ge.hasHeights){ch(f8,ge.view,ge.rect);ge.hasHeights=true}gd=j(f8,ge,gc,f9);if(!gd.bogus){ge.cache[ga]=gd}}return{left:gd.left,right:gd.right,top:gb?gd.rtop:gd.top,bottom:gb?gd.rbottom:gd.bottom}}var ex={left:0,right:0,top:0,bottom:0};function j(gf,gp,gh,gd){var gt=gp.map;var gm,gc,gb,f8;for(var go=0;go<gt.length;go+=3){var gr=gt[go],gn=gt[go+1];if(gh<gr){gc=0;gb=1;f8="left"}else{if(gh<gn){gc=gh-gr;gb=gc+1}else{if(go==gt.length-3||gh==gn&&gt[go+3]>gh){gb=gn-gr;gc=gb-1;if(gh>=gn){f8="right"}}}}if(gc!=null){gm=gt[go+2];if(gr==gn&&gd==(gm.insertLeft?"left":"right")){f8=gd}if(gd=="left"&&gc==0){while(go&&gt[go-2]==gt[go-3]&&gt[go-1].insertLeft){gm=gt[(go-=3)+2];f8="left"}}if(gd=="right"&&gc==gn-gr){while(go<gt.length-3&&gt[go+3]==gt[go+4]&&!gt[go+5].insertLeft){gm=gt[(go+=3)+2];f8="right"}}break}}var f9;if(gm.nodeType==3){for(var go=0;go<4;go++){while(gc&&fm(gp.line.text.charAt(gr+gc))){--gc}while(gr+gb<gn&&fm(gp.line.text.charAt(gr+gb))){++gb}if(dG&&k<9&&gc==0&&gb==gn-gr){f9=gm.parentNode.getBoundingClientRect()}else{if(dG&&gf.options.lineWrapping){var ga=cl(gm,gc,gb).getClientRects();if(ga.length){f9=ga[gd=="right"?ga.length-1:0]}else{f9=ex}}else{f9=cl(gm,gc,gb).getBoundingClientRect()||ex}}if(f9.left||f9.right||gc==0){break}gb=gc;gc=gc-1;f8="right"}if(dG&&k<11){f9=eJ(gf.display.measure,f9)}}else{if(gc>0){f8=gd="right"}var ga;if(gf.options.lineWrapping&&(ga=gm.getClientRects()).length>1){f9=ga[gd=="right"?ga.length-1:0]}else{f9=gm.getBoundingClientRect()}}if(dG&&k<9&&!gc&&(!f9||!f9.left&&!f9.right)){var ge=gm.parentNode.getClientRects()[0];if(ge){f9={left:ge.left,right:ge.left+dz(gf.display),top:ge.top,bottom:ge.bottom}}else{f9=ex}}var gk=f9.top-gp.rect.top,gi=f9.bottom-gp.rect.top;var gs=(gk+gi)/2;var gq=gp.view.measure.heights;for(var go=0;go<gq.length-1;go++){if(gs<gq[go]){break}}var gl=go?gq[go-1]:0,gj=gq[go];var gg={left:(f8=="right"?f9.right:f9.left)-gp.rect.left,right:(f8=="left"?f9.left:f9.right)-gp.rect.left,top:gl,bottom:gj};if(!f9.left&&!f9.right){gg.bogus=true}if(!gf.options.singleCursorHeightPerLine){gg.rtop=gk;gg.rbottom=gi}return gg}function eJ(ga,gb){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aI(ga)){return gb}var f9=screen.logicalXDPI/screen.deviceXDPI;var f8=screen.logicalYDPI/screen.deviceYDPI;return{left:gb.left*f9,right:gb.right*f9,top:gb.top*f8,bottom:gb.bottom*f8}}function at(f9){if(f9.measure){f9.measure.cache={};f9.measure.heights=null;if(f9.rest){for(var f8=0;f8<f9.rest.length;f8++){f9.measure.caches[f8]={}}}}}function aL(f8){f8.display.externalMeasure=null;dX(f8.display.lineMeasure);for(var f9=0;f9<f8.display.view.length;f9++){at(f8.display.view[f9])}}function aj(f8){aL(f8);f8.display.cachedCharWidth=f8.display.cachedTextHeight=f8.display.cachedPaddingH=null;if(!f8.options.lineWrapping){f8.display.maxLineChanged=true}f8.display.lineNumChars=null}function cu(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cs(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function eM(ge,gb,gd,f9){if(gb.widgets){for(var ga=0;ga<gb.widgets.length;++ga){if(gb.widgets[ga].above){var gg=cW(gb.widgets[ga]);gd.top+=gg;gd.bottom+=gg}}}if(f9=="line"){return gd}if(!f9){f9="local"}var gc=bL(gb);if(f9=="local"){gc+=e4(ge.display)}else{gc-=ge.display.viewOffset}if(f9=="page"||f9=="window"){var f8=ge.display.lineSpace.getBoundingClientRect();gc+=f8.top+(f9=="window"?0:cs());var gf=f8.left+(f9=="window"?0:cu());gd.left+=gf;gd.right+=gf}gd.top+=gc;gd.bottom+=gc;return gd}function f5(f9,gc,ga){if(ga=="div"){return gc}var ge=gc.left,gd=gc.top;if(ga=="page"){ge-=cu();gd-=cs()}else{if(ga=="local"||!ga){var gb=f9.display.sizer.getBoundingClientRect();ge+=gb.left;gd+=gb.top}}var f8=f9.display.lineSpace.getBoundingClientRect();return{left:ge-f8.left,top:gd-f8.top}}function cH(f8,gc,gb,ga,f9){if(!ga){ga=fb(f8.doc,gc.line)}return eM(f8,ga,ed(f8,ga,gc.ch,f9),gb)}function dQ(gh,gg,ga,ge,gj,gf){ge=ge||fb(gh.doc,gg.line);if(!gj){gj=a1(gh,ge)}function gc(gm,gl){var gk=D(gh,gj,gm,gl?"right":"left",gf);if(gl){gk.left=gk.right}else{gk.right=gk.left}return eM(gh,ge,gk,ga)}function gi(gn,gk){var gl=gd[gk],gm=gl.level%2;if(gn==du(gl)&&gk&&gl.level<gd[gk-1].level){gl=gd[--gk];gn=f4(gl)-(gl.level%2?0:1);gm=true}else{if(gn==f4(gl)&&gk<gd.length-1&&gl.level<gd[gk+1].level){gl=gd[++gk];gn=du(gl)-gl.level%2;gm=false}}if(gm&&gn==gl.to&&gn>gl.from){return gc(gn-1)}return gc(gn,gm)}var gd=a(ge),f8=gg.ch;if(!gd){return gc(f8)}var f9=aE(gd,f8);var gb=gi(f8,f9);if(eY!=null){gb.other=gi(f8,eY)}return gb}function dD(f8,gc){var gb=0,gc=fG(f8.doc,gc);if(!f8.options.lineWrapping){gb=dz(f8.display)*gc.ch}var f9=fb(f8.doc,gc.line);var ga=bL(f9)+e4(f8.display);return{left:gb,right:gb,top:ga,bottom:ga+f9.height}}function fS(f8,f9,ga,gc){var gb=X(f8,f9);gb.xRel=gc;if(ga){gb.outside=true}return gb}function fL(gf,gc,gb){var ge=gf.doc;gb+=gf.display.viewOffset;if(gb<0){return fS(ge.first,0,true,-1)}var ga=bF(ge,gb),gg=ge.first+ge.size-1;if(ga>gg){return fS(ge.first+ge.size-1,fb(ge,gg).text.length,true,1)}if(gc<0){gc=0}var f9=fb(ge,ga);for(;;){var gh=cX(gf,f9,ga,gc,gb);var gd=er(f9);var f8=gd&&gd.find(0,true);if(gd&&(gh.ch>f8.from.ch||gh.ch==f8.from.ch&&gh.xRel>0)){ga=bM(f9=f8.to.line)}else{return gh}}}function cX(gi,ga,gl,gk,gj){var gh=gj-bL(ga);var ge=false,gr=2*gi.display.wrapper.clientWidth;var go=a1(gi,ga);function gv(gx){var gy=dQ(gi,X(gl,gx),"line",ga,go);ge=true;if(gh>gy.bottom){return gy.left-gr}else{if(gh<gy.top){return gy.left+gr}else{ge=false}}return gy.left}var gn=a(ga),gq=ga.text.length;var gs=cD(ga),gb=cQ(ga);var gp=gv(gs),f8=ge,f9=gv(gb),gd=ge;if(gk>f9){return fS(gl,gb,gd,1)}for(;;){if(gn?gb==gs||gb==u(ga,gs,1):gb-gs<=1){var gm=gk<gp||gk-gp<=f9-gk?gs:gb;var gu=gk-(gm==gs?gp:f9);while(fm(ga.text.charAt(gm))){++gm}var gg=fS(gl,gm,gm==gs?f8:gd,gu<-1?-1:gu>1?1:0);return gg}var gf=Math.ceil(gq/2),gw=gs+gf;if(gn){gw=gs;for(var gt=0;gt<gf;++gt){gw=u(ga,gw,1)}}var gc=gv(gw);if(gc>gk){gb=gw;f9=gc;if(gd=ge){f9+=1000}gq=gf}else{gs=gw;gp=gc;f8=ge;gq-=gf}}}var aF;function aU(ga){if(ga.cachedTextHeight!=null){return ga.cachedTextHeight}if(aF==null){aF=fT("pre");for(var f9=0;f9<49;++f9){aF.appendChild(document.createTextNode("x"));aF.appendChild(fT("br"))}aF.appendChild(document.createTextNode("x"))}bQ(ga.measure,aF);var f8=aF.offsetHeight/50;if(f8>3){ga.cachedTextHeight=f8}dX(ga.measure);return f8||1}function dz(gc){if(gc.cachedCharWidth!=null){return gc.cachedCharWidth}var f8=fT("span","xxxxxxxxxx");var gb=fT("pre",[f8]);bQ(gc.measure,gb);var ga=f8.getBoundingClientRect(),f9=(ga.right-ga.left)/10;if(f9>2){gc.cachedCharWidth=f9}return f9||10}var bo=null;var d4=0;function cG(f8){f8.curOp={cm:f8,viewChanged:false,startHeight:f8.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++d4};if(bo){bo.ops.push(f8.curOp)}else{f8.curOp.ownsGroup=bo={ops:[f8.curOp],delayedCallbacks:[]}}}function cS(gb){var ga=gb.delayedCallbacks,f9=0;do{for(;f9<ga.length;f9++){ga[f9]()}for(var f8=0;f8<gb.ops.length;f8++){var gc=gb.ops[f8];if(gc.cursorActivityHandlers){while(gc.cursorActivityCalled<gc.cursorActivityHandlers.length){gc.cursorActivityHandlers[gc.cursorActivityCalled++](gc.cm)}}}}while(f9<ga.length)}function al(f8){var gb=f8.curOp,ga=gb.ownsGroup;if(!ga){return}try{cS(ga)}finally{bo=null;for(var f9=0;f9<ga.ops.length;f9++){ga.ops[f9].cm.curOp=null}cI(ga)}}function cI(ga){var f9=ga.ops;for(var f8=0;f8<f9.length;f8++){b4(f9[f8])}for(var f8=0;f8<f9.length;f8++){ap(f9[f8])}for(var f8=0;f8<f9.length;f8++){b1(f9[f8])}for(var f8=0;f8<f9.length;f8++){ao(f9[f8])}for(var f8=0;f8<f9.length;f8++){eW(f9[f8])}}function b4(ga){var f8=ga.cm,f9=f8.display;K(f8);if(ga.updateMaxLine){g(f8)}ga.mustUpdate=ga.viewChanged||ga.forceUpdate||ga.scrollTop!=null||ga.scrollToPos&&(ga.scrollToPos.from.line<f9.viewFrom||ga.scrollToPos.to.line>=f9.viewTo)||f9.maxLineChanged&&f8.options.lineWrapping;ga.update=ga.mustUpdate&&new aG(f8,ga.mustUpdate&&{top:ga.scrollTop,ensure:ga.scrollToPos},ga.forceUpdate)}function ap(f8){f8.updatedDisplay=f8.mustUpdate&&C(f8.cm,f8.update)}function b1(ga){var f8=ga.cm,f9=f8.display;if(ga.updatedDisplay){a6(f8)}ga.barMeasure=dw(f8);if(f9.maxLineChanged&&!f8.options.lineWrapping){ga.adjustWidthTo=ed(f8,f9.maxLine,f9.maxLine.text.length).left+3;f8.display.sizerWidth=ga.adjustWidthTo;ga.barMeasure.scrollWidth=Math.max(f9.scroller.clientWidth,f9.sizer.offsetLeft+ga.adjustWidthTo+cR(f8)+f8.display.barWidth);ga.maxScrollLeft=Math.max(0,f9.sizer.offsetLeft+ga.adjustWidthTo-di(f8))}if(ga.updatedDisplay||ga.selectionChanged){ga.newSelectionNodes=bk(f8)}}function ao(f9){var f8=f9.cm;if(f9.adjustWidthTo!=null){f8.display.sizer.style.minWidth=f9.adjustWidthTo+"px";if(f9.maxScrollLeft<f8.doc.scrollLeft){bD(f8,Math.min(f8.display.scroller.scrollLeft,f9.maxScrollLeft),true)}f8.display.maxLineChanged=false}if(f9.newSelectionNodes){ak(f8,f9.newSelectionNodes)}if(f9.updatedDisplay){dv(f8,f9.barMeasure)}if(f9.updatedDisplay||f9.startHeight!=f8.doc.height){eU(f8,f9.barMeasure)}if(f9.selectionChanged){o(f8)}if(f8.state.focused&&f9.updateInput){fl(f8,f9.typing)}}function eW(gf){var f8=gf.cm,gd=f8.display,gc=f8.doc;if(gf.updatedDisplay){cj(f8,gf.update)}if(gd.wheelStartX!=null&&(gf.scrollTop!=null||gf.scrollLeft!=null||gf.scrollToPos)){gd.wheelStartX=gd.wheelStartY=null}if(gf.scrollTop!=null&&(gd.scroller.scrollTop!=gf.scrollTop||gf.forceScroll)){gc.scrollTop=Math.max(0,Math.min(gd.scroller.scrollHeight-gd.scroller.clientHeight,gf.scrollTop));gd.scrollbars.setScrollTop(gc.scrollTop);gd.scroller.scrollTop=gc.scrollTop}if(gf.scrollLeft!=null&&(gd.scroller.scrollLeft!=gf.scrollLeft||gf.forceScroll)){gc.scrollLeft=Math.max(0,Math.min(gd.scroller.scrollWidth-di(f8),gf.scrollLeft));gd.scrollbars.setScrollLeft(gc.scrollLeft);gd.scroller.scrollLeft=gc.scrollLeft;eA(f8)}if(gf.scrollToPos){var gb=E(f8,fG(gc,gf.scrollToPos.from),fG(gc,gf.scrollToPos.to),gf.scrollToPos.margin);if(gf.scrollToPos.isCursor&&f8.state.focused){d2(f8,gb)}}var ga=gf.maybeHiddenMarkers,ge=gf.maybeUnhiddenMarkers;if(ga){for(var f9=0;f9<ga.length;++f9){if(!ga[f9].lines.length){aC(ga[f9],"hide")}}}if(ge){for(var f9=0;f9<ge.length;++f9){if(ge[f9].lines.length){aC(ge[f9],"unhide")}}}if(gd.wrapper.offsetHeight){gc.scrollTop=f8.display.scroller.scrollTop}if(gf.changeObjs){aC(f8,"changes",f8,gf.changeObjs)}}function cK(f8,f9){if(f8.curOp){return f9()}cG(f8);try{return f9()}finally{al(f8)}}function c0(f8,f9){return function(){if(f8.curOp){return f9.apply(f8,arguments)}cG(f8);try{return f9.apply(f8,arguments)}finally{al(f8)}}}function c6(f8){return function(){if(this.curOp){return f8.apply(this,arguments)}cG(this);try{return f8.apply(this,arguments)}finally{al(this)}}}function cC(f8){return function(){var f9=this.cm;if(!f9||f9.curOp){return f8.apply(this,arguments)}cG(f9);try{return f8.apply(this,arguments)}finally{al(f9)}}}function bu(ga,f8,f9){this.line=f8;this.rest=h(f8);this.size=this.rest?bM(fE(this.rest))-f9+1:1;this.node=this.text=null;this.hidden=ft(ga,f8)}function eR(f8,ge,gd){var gc=[],ga;for(var gb=ge;gb<gd;gb=ga){var f9=new bu(f8.doc,fb(f8.doc,gb),gb);ga=gb+f9.size;gc.push(f9)}return gc}function ag(gf,gd,ge,gg){if(gd==null){gd=gf.doc.first}if(ge==null){ge=gf.doc.first+gf.doc.size}if(!gg){gg=0}var ga=gf.display;if(gg&&ge<ga.viewTo&&(ga.updateLineNumbers==null||ga.updateLineNumbers>gd)){ga.updateLineNumbers=gd}gf.curOp.viewChanged=true;if(gd>=ga.viewTo){if(a4&&aT(gf.doc,gd)<ga.viewTo){es(gf)}}else{if(ge<=ga.viewFrom){if(a4&&dZ(gf.doc,ge+gg)>ga.viewFrom){es(gf)}else{ga.viewFrom+=gg;ga.viewTo+=gg}}else{if(gd<=ga.viewFrom&&ge>=ga.viewTo){es(gf)}else{if(gd<=ga.viewFrom){var gc=dc(gf,ge,ge+gg,1);if(gc){ga.view=ga.view.slice(gc.index);ga.viewFrom=gc.lineN;ga.viewTo+=gg}else{es(gf)}}else{if(ge>=ga.viewTo){var gc=dc(gf,gd,gd,-1);if(gc){ga.view=ga.view.slice(0,gc.index);ga.viewTo=gc.lineN}else{es(gf)}}else{var gb=dc(gf,gd,gd,-1);var f9=dc(gf,ge,ge+gg,1);if(gb&&f9){ga.view=ga.view.slice(0,gb.index).concat(eR(gf,gb.lineN,f9.lineN)).concat(ga.view.slice(f9.index));ga.viewTo+=gg}else{es(gf)}}}}}}var f8=ga.externalMeasured;if(f8){if(ge<f8.lineN){f8.lineN+=gg}else{if(gd<f8.lineN+f8.size){ga.externalMeasured=null}}}}function S(f9,ga,gd){f9.curOp.viewChanged=true;var ge=f9.display,gc=f9.display.externalMeasured;if(gc&&ga>=gc.lineN&&ga<gc.lineN+gc.size){ge.externalMeasured=null}if(ga<ge.viewFrom||ga>=ge.viewTo){return}var gb=ge.view[dn(f9,ga)];if(gb.node==null){return}var f8=gb.changes||(gb.changes=[]);if(df(f8,gd)==-1){f8.push(gd)}}function es(f8){f8.display.viewFrom=f8.display.viewTo=f8.doc.first;f8.display.view=[];f8.display.viewOffset=0}function dn(f8,gb){if(gb>=f8.display.viewTo){return null}gb-=f8.display.viewFrom;if(gb<0){return null}var f9=f8.display.view;for(var ga=0;ga<f9.length;ga++){gb-=f9[ga].size;if(gb<0){return ga}}}function dc(gg,ga,gc,f9){var gd=dn(gg,ga),gf,ge=gg.display.view;if(!a4||gc==gg.doc.first+gg.doc.size){return{index:gd,lineN:gc}}for(var gb=0,f8=gg.display.viewFrom;gb<gd;gb++){f8+=ge[gb].size}if(f8!=ga){if(f9>0){if(gd==ge.length-1){return null}gf=(f8+ge[gd].size)-ga;gd++}else{gf=f8-ga}ga+=gf;gc+=gf}while(aT(gg.doc,gc)!=gc){if(gd==(f9<0?0:ge.length-1)){return null}gc+=f9*ge[gd-(f9<0?1:0)].size;gd+=f9}return{index:gd,lineN:gc}}function cP(f8,gc,gb){var ga=f8.display,f9=ga.view;if(f9.length==0||gc>=ga.viewTo||gb<=ga.viewFrom){ga.view=eR(f8,gc,gb);ga.viewFrom=gc}else{if(ga.viewFrom>gc){ga.view=eR(f8,gc,ga.viewFrom).concat(ga.view)}else{if(ga.viewFrom<gc){ga.view=ga.view.slice(dn(f8,gc))}}ga.viewFrom=gc;if(ga.viewTo<gb){ga.view=ga.view.concat(eR(f8,ga.viewTo,gb))}else{if(ga.viewTo>gb){ga.view=ga.view.slice(0,dn(f8,gb))}}}ga.viewTo=gb}function c9(f8){var f9=f8.display.view,gc=0;for(var gb=0;gb<f9.length;gb++){var ga=f9[gb];if(!ga.hidden&&(!ga.node||ga.changes)){++gc}}return gc}function bl(f8){if(f8.display.pollingFast){return}f8.display.poll.set(f8.options.pollInterval,function(){cg(f8);if(f8.state.focused){bl(f8)}})}function B(f8){var f9=false;f8.display.pollingFast=true;function ga(){var gb=cg(f8);if(!gb&&!f9){f9=true;f8.display.poll.set(60,ga)}else{f8.display.pollingFast=false;bl(f8)}}f8.display.poll.set(20,ga)}var bj=null;function cg(gc){var gd=gc.display.input,gg=gc.display.prevInput,gr=gc.doc;if(!gc.state.focused||(br(gd)&&!gg)||ai(gc)||gc.options.disableInput||gc.state.keySeq){return false}if(gc.state.pasteIncoming&&gc.state.fakedLastChar){gd.value=gd.value.substring(0,gd.value.length-1);gc.state.fakedLastChar=false}var gf=gd.value;if(gf==gg&&!gc.somethingSelected()){return false}if(dG&&k>=9&&gc.display.inputHasSelection===gf||b6&&/[\uf700-\uf7ff]/.test(gf)){fl(gc);return false}var gn=!gc.curOp;if(gn){cG(gc)}gc.display.shift=false;if(gf.charCodeAt(0)==8203&&gr.sel==gc.display.selForContextMenu&&!gg){gg="\u200b"}var gm=0,gj=Math.min(gg.length,gf.length);while(gm<gj&&gg.charCodeAt(gm)==gf.charCodeAt(gm)){++gm}var f9=gf.slice(gm),gh=aX(f9);var gq=null;if(gc.state.pasteIncoming&&gr.sel.ranges.length>1){if(bj&&bj.join("\n")==f9){gq=gr.sel.ranges.length%bj.length==0&&bR(bj,aX)}else{if(gh.length==gr.sel.ranges.length){gq=bR(gh,function(gs){return[gs]})}}}for(var go=gr.sel.ranges.length-1;go>=0;go--){var gi=gr.sel.ranges[go];var gk=gi.from(),f8=gi.to();if(gm<gg.length){gk=X(gk.line,gk.ch-(gg.length-gm))}else{if(gc.state.overwrite&&gi.empty()&&!gc.state.pasteIncoming){f8=X(f8.line,Math.min(fb(gr,f8.line).text.length,f8.ch+fE(gh).length))}}var gb=gc.curOp.updateInput;var gp={from:gk,to:f8,text:gq?gq[go%gq.length]:gh,origin:gc.state.pasteIncoming?"paste":gc.state.cutIncoming?"cut":"+input"};bd(gc.doc,gp);ad(gc,"inputRead",gc,gp);if(f9&&!gc.state.pasteIncoming&&gc.options.electricChars&&gc.options.smartIndent&&gi.head.ch<100&&(!go||gr.sel.ranges[go-1].head.line!=gi.head.line)){var ge=gc.getModeAt(gi.head);var ga=cV(gp);if(ge.electricChars){for(var gl=0;gl<ge.electricChars.length;gl++){if(f9.indexOf(ge.electricChars.charAt(gl))>-1){ac(gc,ga.line,"smart");break}}}else{if(ge.electricInput){if(ge.electricInput.test(fb(gr,ga.line).text.slice(0,ga.ch))){ac(gc,ga.line,"smart")}}}}}fD(gc);gc.curOp.updateInput=gb;gc.curOp.typing=true;if(gf.length>1000||gf.indexOf("\n")>-1){gd.value=gc.display.prevInput=""}else{gc.display.prevInput=gf}if(gn){al(gc)}gc.state.pasteIncoming=gc.state.cutIncoming=false;return true}function fl(f8,gc){if(f8.display.contextMenuPending){return}var f9,gb,ge=f8.doc;if(f8.somethingSelected()){f8.display.prevInput="";var ga=ge.sel.primary();f9=c8&&(ga.to().line-ga.from().line>100||(gb=f8.getSelection()).length>1000);var gd=f9?"-":gb||f8.getSelection();f8.display.input.value=gd;if(f8.state.focused){dH(f8.display.input)}if(dG&&k>=9){f8.display.inputHasSelection=gd}}else{if(!gc){f8.display.prevInput=f8.display.input.value="";if(dG&&k>=9){f8.display.inputHasSelection=null}}}f8.display.inaccurateSelection=f9}function ev(f8){if(f8.options.readOnly!="nocursor"&&(!ec||dK()!=f8.display.input)){f8.display.input.focus()}}function r(f8){if(!f8.state.focused){ev(f8);cA(f8)}}function ai(f8){return f8.options.readOnly||f8.doc.cantEdit}function fM(f8){var ga=f8.display;bW(ga.scroller,"mousedown",c0(f8,ep));if(dG&&k<11){bW(ga.scroller,"dblclick",c0(f8,function(gd){if(aO(f8,gd)){return}var ge=cn(f8,gd);if(!ge||l(f8,gd)||a7(f8.display,gd)){return}cE(gd);var gc=f8.findWordAt(ge);fQ(f8.doc,gc.anchor,gc.head)}))}else{bW(ga.scroller,"dblclick",function(gc){aO(f8,gc)||cE(gc)})}bW(ga.lineSpace,"selectstart",function(gc){if(!a7(ga,gc)){cE(gc)}});if(!f0){bW(ga.scroller,"contextmenu",function(gc){ax(f8,gc)})}bW(ga.scroller,"scroll",function(){if(ga.scroller.clientHeight){O(f8,ga.scroller.scrollTop);bD(f8,ga.scroller.scrollLeft,true);aC(f8,"scroll",f8)}});bW(ga.scroller,"mousewheel",function(gc){b(f8,gc)});bW(ga.scroller,"DOMMouseScroll",function(gc){b(f8,gc)});bW(ga.wrapper,"scroll",function(){ga.wrapper.scrollTop=ga.wrapper.scrollLeft=0});bW(ga.input,"keyup",function(gc){bf.call(f8,gc)});bW(ga.input,"input",function(){if(dG&&k>=9&&f8.display.inputHasSelection){f8.display.inputHasSelection=null}cg(f8)});bW(ga.input,"keydown",c0(f8,p));bW(ga.input,"keypress",c0(f8,cx));bW(ga.input,"focus",cv(cA,f8));bW(ga.input,"blur",cv(aS,f8));function f9(gc){if(!aO(f8,gc)){en(gc)}}if(f8.options.dragDrop){bW(ga.scroller,"dragstart",function(gc){R(f8,gc)});bW(ga.scroller,"dragenter",f9);bW(ga.scroller,"dragover",f9);bW(ga.scroller,"drop",c0(f8,bh))}bW(ga.scroller,"paste",function(gc){if(a7(ga,gc)){return}f8.state.pasteIncoming=true;ev(f8);B(f8)});bW(ga.input,"paste",function(){if(cY&&!f8.state.fakedLastChar&&!(new Date-f8.state.lastMiddleDown<200)){var gd=ga.input.selectionStart,gc=ga.input.selectionEnd;ga.input.value+="$";ga.input.selectionEnd=gc;ga.input.selectionStart=gd;f8.state.fakedLastChar=true}f8.state.pasteIncoming=true;B(f8)});function gb(gg){if(f8.somethingSelected()){bj=f8.getSelections();if(ga.inaccurateSelection){ga.prevInput="";ga.inaccurateSelection=false;ga.input.value=bj.join("\n");dH(ga.input)}}else{var gh=[],gd=[];for(var ge=0;ge<f8.doc.sel.ranges.length;ge++){var gc=f8.doc.sel.ranges[ge].head.line;var gf={anchor:X(gc,0),head:X(gc+1,0)};gd.push(gf);gh.push(f8.getRange(gf.anchor,gf.head))}if(gg.type=="cut"){f8.setSelections(gd,null,Z)}else{ga.prevInput="";ga.input.value=gh.join("\n");dH(ga.input)}bj=gh}if(gg.type=="cut"){f8.state.cutIncoming=true}}bW(ga.input,"cut",gb);bW(ga.input,"copy",gb);if(a8){bW(ga.sizer,"mouseup",function(){if(dK()==ga.input){ga.input.blur()}ev(f8)})}}function aQ(f8){var f9=f8.display;if(f9.lastWrapHeight==f9.wrapper.clientHeight&&f9.lastWrapWidth==f9.wrapper.clientWidth){return}f9.cachedCharWidth=f9.cachedTextHeight=f9.cachedPaddingH=null;f9.scrollbarsClipped=false;f8.setSize()}function a7(f9,f8){for(var ga=M(f8);ga!=f9.wrapper;ga=ga.parentNode){if(!ga||(ga.nodeType==1&&ga.getAttribute("cm-ignore-events")=="true")||(ga.parentNode==f9.sizer&&ga!=f9.mover)){return true}}}function cn(gh,gc,f9,ga){var gd=gh.display;if(!f9&&M(gc).getAttribute("not-content")=="true"){return null}var gg,ge,f8=gd.lineSpace.getBoundingClientRect();try{gg=gc.clientX-f8.left;ge=gc.clientY-f8.top}catch(gc){return null}var gf=fL(gh,gg,ge),gi;if(ga&&gf.xRel==1&&(gi=fb(gh.doc,gf.line).text).length==gf.ch){var gb=bS(gi,gi.length,gh.options.tabSize)-gi.length;gf=X(gf.line,Math.max(0,Math.round((gg-e1(gh.display).left)/dz(gh.display))-gb))}return gf}function ep(ga){if(aO(this,ga)){return}var f8=this,f9=f8.display;f9.shift=ga.shiftKey;if(a7(f9,ga)){if(!cY){f9.scroller.draggable=false;setTimeout(function(){f9.scroller.draggable=true},100)}return}if(l(f8,ga)){return}var gb=cn(f8,ga);window.focus();switch(fK(ga)){case 1:if(gb){aw(f8,ga,gb)}else{if(M(ga)==f9.scroller){cE(ga)}}break;case 2:if(cY){f8.state.lastMiddleDown=+new Date}if(gb){fQ(f8.doc,gb)}setTimeout(cv(ev,f8),20);cE(ga);break;case 3:if(f0){ax(f8,ga)}break}}var dk,db;function aw(f9,ge,gf){setTimeout(cv(r,f9),0);var ga=+new Date,gc;if(db&&db.time>ga-400&&ce(db.pos,gf)==0){gc="triple"}else{if(dk&&dk.time>ga-400&&ce(dk.pos,gf)==0){gc="double";db={time:ga,pos:gf}}else{gc="single";dk={time:ga,pos:gf}}}var gd=f9.doc.sel,f8=b6?ge.metaKey:ge.ctrlKey,gb;if(f9.options.dragDrop&&eH&&!ai(f9)&&gc=="single"&&(gb=gd.contains(gf))>-1&&!gd.ranges[gb].empty()){a0(f9,ge,gf,f8)}else{m(f9,ge,gf,gc,f8)}}function a0(ga,gc,gd,f9){var gb=ga.display;var f8=c0(ga,function(ge){if(cY){gb.scroller.draggable=false}ga.state.draggingText=false;d9(document,"mouseup",f8);d9(gb.scroller,"drop",f8);if(Math.abs(gc.clientX-ge.clientX)+Math.abs(gc.clientY-ge.clientY)<10){cE(ge);if(!f9){fQ(ga.doc,gd)}ev(ga);if(dG&&k==9){setTimeout(function(){document.body.focus();ev(ga)},20)}}});if(cY){gb.scroller.draggable=true}ga.state.draggingText=f8;if(gb.scroller.dragDrop){gb.scroller.dragDrop()}bW(document,"mouseup",f8);bW(gb.scroller,"drop",f8)}function m(gc,gq,gb,f9,ge){var gn=gc.display,gs=gc.doc;cE(gq);var ga,gr,gd=gs.sel,f8=gd.ranges;if(ge&&!gq.shiftKey){gr=gs.sel.contains(gb);if(gr>-1){ga=f8[gr]}else{ga=new dU(gb,gb)}}else{ga=gs.sel.primary()}if(gq.altKey){f9="rect";if(!ge){ga=new dU(gb,gb)}gb=cn(gc,gq,true,true);gr=-1}else{if(f9=="double"){var go=gc.findWordAt(gb);if(gc.display.shift||gs.extend){ga=fs(gs,ga,go.anchor,go.head)}else{ga=go}}else{if(f9=="triple"){var gh=new dU(X(gb.line,0),fG(gs,X(gb.line+1,0)));if(gc.display.shift||gs.extend){ga=fs(gs,ga,gh.anchor,gh.head)}else{ga=gh}}else{ga=fs(gs,ga,gb)}}}if(!ge){gr=0;bT(gs,new fU([ga],0),N);gd=gs.sel}else{if(gr==-1){gr=f8.length;bT(gs,cw(f8.concat([ga]),gr),{scroll:false,origin:"*mouse"})}else{if(f8.length>1&&f8[gr].empty()&&f9=="single"){bT(gs,cw(f8.slice(0,gr).concat(f8.slice(gr+1)),0));gd=gs.sel}else{e(gs,gr,ga,N)}}}var gm=gb;function gl(gD){if(ce(gm,gD)==0){return}gm=gD;if(f9=="rect"){var gu=[],gA=gc.options.tabSize;var gt=bS(fb(gs,gb.line).text,gb.ch,gA);var gG=bS(fb(gs,gD.line).text,gD.ch,gA);var gv=Math.min(gt,gG),gE=Math.max(gt,gG);for(var gH=Math.min(gb.line,gD.line),gx=Math.min(gc.lastLine(),Math.max(gb.line,gD.line));gH<=gx;gH++){var gF=fb(gs,gH).text,gw=em(gF,gv,gA);if(gv==gE){gu.push(new dU(X(gH,gw),X(gH,gw)))}else{if(gF.length>gw){gu.push(new dU(X(gH,gw),X(gH,em(gF,gE,gA))))}}}if(!gu.length){gu.push(new dU(gb,gb))}bT(gs,cw(gd.ranges.slice(0,gr).concat(gu),gr),{origin:"*mouse",scroll:false});gc.scrollIntoView(gD)}else{var gB=ga;var gy=gB.anchor,gC=gD;if(f9!="single"){if(f9=="double"){var gz=gc.findWordAt(gD)}else{var gz=new dU(X(gD.line,0),fG(gs,X(gD.line+1,0)))}if(ce(gz.anchor,gy)>0){gC=gz.head;gy=aq(gB.from(),gz.anchor)}else{gC=gz.anchor;gy=bw(gB.to(),gz.head)}}var gu=gd.ranges.slice(0);gu[gr]=new dU(fG(gs,gy),gC);bT(gs,cw(gu,gr),N)}}var gj=gn.wrapper.getBoundingClientRect();var gf=0;function gp(gv){var gt=++gf;var gx=cn(gc,gv,true,f9=="rect");if(!gx){return}if(ce(gx,gm)!=0){r(gc);gl(gx);var gw=b5(gn,gs);if(gx.line>=gw.to||gx.line<gw.from){setTimeout(c0(gc,function(){if(gf==gt){gp(gv)}}),150)}}else{var gu=gv.clientY<gj.top?-20:gv.clientY>gj.bottom?20:0;if(gu){setTimeout(c0(gc,function(){if(gf!=gt){return}gn.scroller.scrollTop+=gu;gp(gv)}),50)}}}function gi(gt){gf=Infinity;cE(gt);ev(gc);d9(document,"mousemove",gk);d9(document,"mouseup",gg);gs.history.lastSelOrigin=null}var gk=c0(gc,function(gt){if(!fK(gt)){gi(gt)}else{gp(gt)}});var gg=c0(gc,gi);bW(document,"mousemove",gk);bW(document,"mouseup",gg)}function f6(gj,gf,gh,gi,gb){try{var f9=gf.clientX,f8=gf.clientY}catch(gf){return false}if(f9>=Math.floor(gj.display.gutters.getBoundingClientRect().right)){return false}if(gi){cE(gf)}var gg=gj.display;var ge=gg.lineDiv.getBoundingClientRect();if(f8>ge.bottom||!fe(gj,gh)){return bK(gf)}f8-=ge.top-gg.viewOffset;for(var gc=0;gc<gj.options.gutters.length;++gc){var gd=gg.gutters.childNodes[gc];if(gd&&gd.getBoundingClientRect().right>=f9){var gk=bF(gj.doc,f8);var ga=gj.options.gutters[gc];gb(gj,gh,gj,gk,ga,gf);return bK(gf)}}}function l(f8,f9){return f6(f8,f9,"gutterClick",true,ad)}var af=0;function bh(ge){var gg=this;if(aO(gg,ge)||a7(gg.display,ge)){return}cE(ge);if(dG){af=+new Date}var gf=cn(gg,ge,true),f8=ge.dataTransfer.files;if(!gf||ai(gg)){return}if(f8&&f8.length&&window.FileReader&&window.File){var ga=f8.length,gh=Array(ga),f9=0;var gc=function(gk,gj){var gi=new FileReader;gi.onload=c0(gg,function(){gh[gj]=gi.result;if(++f9==ga){gf=fG(gg.doc,gf);var gl={from:gf,to:gf,text:aX(gh.join("\n")),origin:"paste"};bd(gg.doc,gl);e3(gg.doc,eO(gf,cV(gl)))}});gi.readAsText(gk)};for(var gd=0;gd<ga;++gd){gc(f8[gd],gd)}}else{if(gg.state.draggingText&&gg.doc.sel.contains(gf)>-1){gg.state.draggingText(ge);setTimeout(cv(ev,gg),20);return}try{var gh=ge.dataTransfer.getData("Text");if(gh){if(gg.state.draggingText&&!(b6?ge.metaKey:ge.ctrlKey)){var gb=gg.listSelections()}el(gg.doc,eO(gf,gf));if(gb){for(var gd=0;gd<gb.length;++gd){aY(gg.doc,"",gb[gd].anchor,gb[gd].head,"drag")}}gg.replaceSelection(gh,"around","paste");ev(gg)}}catch(ge){}}}function R(f8,ga){if(dG&&(!f8.state.draggingText||+new Date-af<100)){en(ga);return}if(aO(f8,ga)||a7(f8.display,ga)){return}ga.dataTransfer.setData("Text",f8.getSelection());if(ga.dataTransfer.setDragImage&&!aA){var f9=fT("img",null,null,"position: fixed; left: 0; top: 0;");f9.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(dY){f9.width=f9.height=1;f8.display.wrapper.appendChild(f9);f9._top=f9.offsetTop}ga.dataTransfer.setDragImage(f9,0,0);if(dY){f9.parentNode.removeChild(f9)}}}function O(f8,f9){if(Math.abs(f8.doc.scrollTop-f9)<2){return}f8.doc.scrollTop=f9;if(!co){dP(f8,{top:f9})}if(f8.display.scroller.scrollTop!=f9){f8.display.scroller.scrollTop=f9}f8.display.scrollbars.setScrollTop(f9);if(co){dP(f8)}eb(f8,100)}function bD(f8,ga,f9){if(f9?ga==f8.doc.scrollLeft:Math.abs(f8.doc.scrollLeft-ga)<2){return}ga=Math.min(ga,f8.display.scroller.scrollWidth-f8.display.scroller.clientWidth);f8.doc.scrollLeft=ga;eA(f8);if(f8.display.scroller.scrollLeft!=ga){f8.display.scroller.scrollLeft=ga}f8.display.scrollbars.setScrollLeft(ga)}var fi=0,cf=null;if(dG){cf=-0.53}else{if(co){cf=15}else{if(da){cf=-0.7}else{if(aA){cf=-1/3}}}}var cO=function(ga){var f9=ga.wheelDeltaX,f8=ga.wheelDeltaY;if(f9==null&&ga.detail&&ga.axis==ga.HORIZONTAL_AXIS){f9=ga.detail}if(f8==null&&ga.detail&&ga.axis==ga.VERTICAL_AXIS){f8=ga.detail}else{if(f8==null){f8=ga.wheelDelta}}return{x:f9,y:f8}};I.wheelEventPixels=function(f8){var f9=cO(f8);f9.x*=cf;f9.y*=cf;return f9};function b(gg,ga){var gh=cO(ga),gk=gh.x,gj=gh.y;var gc=gg.display,gf=gc.scroller;if(!(gk&&gf.scrollWidth>gf.clientWidth||gj&&gf.scrollHeight>gf.clientHeight)){return}if(gj&&b6&&cY){outer:for(var gi=ga.target,ge=gc.view;gi!=gf;gi=gi.parentNode){for(var f9=0;f9<ge.length;f9++){if(ge[f9].node==gi){gg.display.currentWheelTarget=gi;break outer}}}}if(gk&&!co&&!dY&&cf!=null){if(gj){O(gg,Math.max(0,Math.min(gf.scrollTop+gj*cf,gf.scrollHeight-gf.clientHeight)))}bD(gg,Math.max(0,Math.min(gf.scrollLeft+gk*cf,gf.scrollWidth-gf.clientWidth)));cE(ga);gc.wheelStartX=null;return}if(gj&&cf!=null){var f8=gj*cf;var gd=gg.doc.scrollTop,gb=gd+gc.wrapper.clientHeight;if(f8<0){gd=Math.max(0,gd+f8-50)}else{gb=Math.min(gg.doc.height,gb+f8+50)}dP(gg,{top:gd,bottom:gb})}if(fi<20){if(gc.wheelStartX==null){gc.wheelStartX=gf.scrollLeft;gc.wheelStartY=gf.scrollTop;gc.wheelDX=gk;gc.wheelDY=gj;setTimeout(function(){if(gc.wheelStartX==null){return}var gl=gf.scrollLeft-gc.wheelStartX;var gn=gf.scrollTop-gc.wheelStartY;var gm=(gn&&gc.wheelDY&&gn/gc.wheelDY)||(gl&&gc.wheelDX&&gl/gc.wheelDX);gc.wheelStartX=gc.wheelStartY=null;if(!gm){return}cf=(cf*fi+gm)/(fi+1);++fi},200)}else{gc.wheelDX+=gk;gc.wheelDY+=gj}}}function fN(f9,gc,f8){if(typeof gc=="string"){gc=ez[gc];if(!gc){return false}}if(f9.display.pollingFast&&cg(f9)){f9.display.pollingFast=false}var gb=f9.display.shift,ga=false;try{if(ai(f9)){f9.state.suppressEdits=true}if(f8){f9.display.shift=false}ga=gc(f9)!=b9}finally{f9.display.shift=gb;f9.state.suppressEdits=false}return ga}function d6(f9,ga,gc){for(var gb=0;gb<f9.state.keyMaps.length;gb++){var f8=i(ga,f9.state.keyMaps[gb],gc,f9);if(f8){return f8}}return(f9.options.extraKeys&&i(ga,f9.options.extraKeys,gc,f9))||i(ga,f9.options.keyMap,gc,f9)}var dI=new f7;function ba(f9,gb,gd,gc){var ga=f9.state.keySeq;if(ga){if(ey(gb)){return"handled"}dI.set(50,function(){if(f9.state.keySeq==ga){f9.state.keySeq=null;fl(f9)}});gb=ga+" "+gb}var f8=d6(f9,gb,gc);if(f8=="multi"){f9.state.keySeq=gb}if(f8=="handled"){ad(f9,"keyHandled",f9,gb,gd)}if(f8=="handled"||f8=="multi"){cE(gd);o(f9)}if(ga&&!f8&&/\'$/.test(gb)){cE(gd);return true}return !!f8}function ff(f8,ga){var f9=fo(ga,true);if(!f9){return false}if(ga.shiftKey&&!f8.state.keySeq){return ba(f8,"Shift-"+f9,ga,function(gb){return fN(f8,gb,true)})||ba(f8,f9,ga,function(gb){if(typeof gb=="string"?/^go[A-Z]/.test(gb):gb.motion){return fN(f8,gb)}})}else{return ba(f8,f9,ga,function(gb){return fN(f8,gb)})}}function ef(f8,ga,f9){return ba(f8,"'"+f9+"'",ga,function(gb){return fN(f8,gb,true)})}var dj=null;function p(gb){var f8=this;r(f8);if(aO(f8,gb)){return}if(dG&&k<11&&gb.keyCode==27){gb.returnValue=false}var f9=gb.keyCode;f8.display.shift=f9==16||gb.shiftKey;var ga=ff(f8,gb);if(dY){dj=ga?f9:null;if(!ga&&f9==88&&!c8&&(b6?gb.metaKey:gb.ctrlKey)){f8.replaceSelection("",null,"cut")}}if(f9==18&&!/\bCodeMirror-crosshair\b/.test(f8.display.lineDiv.className)){au(f8)}}function au(f9){var ga=f9.display.lineDiv;fx(ga,"CodeMirror-crosshair");function f8(gb){if(gb.keyCode==18||!gb.altKey){f(ga,"CodeMirror-crosshair");d9(document,"keyup",f8);d9(document,"mouseover",f8)}}bW(document,"keyup",f8);bW(document,"mouseover",f8)}function bf(f8){if(f8.keyCode==16){this.doc.sel.shift=false}aO(this,f8)}function cx(gc){var f8=this;if(aO(f8,gc)||gc.ctrlKey&&!gc.altKey||b6&&gc.metaKey){return}var gb=gc.keyCode,f9=gc.charCode;if(dY&&gb==dj){dj=null;cE(gc);return}if(((dY&&(!gc.which||gc.which<10))||a8)&&ff(f8,gc)){return}var ga=String.fromCharCode(f9==null?gb:f9);if(ef(f8,gc,ga)){return}if(dG&&k>=9){f8.display.inputHasSelection=null}B(f8)}function cA(f8){if(f8.options.readOnly=="nocursor"){return}if(!f8.state.focused){aC(f8,"focus",f8);f8.state.focused=true;fx(f8.display.wrapper,"CodeMirror-focused");if(!f8.curOp&&f8.display.selForContextMenu!=f8.doc.sel){fl(f8);if(cY){setTimeout(cv(fl,f8,true),0)}}}bl(f8);o(f8)}function aS(f8){if(f8.state.focused){aC(f8,"blur",f8);f8.state.focused=false;f(f8.display.wrapper,"CodeMirror-focused")}clearInterval(f8.display.blinker);setTimeout(function(){if(!f8.state.focused){f8.display.shift=false}},150)}function ax(gh,gc){if(aO(gh,gc,"contextmenu")){return}var ge=gh.display;if(a7(ge,gc)||de(gh,gc)){return}var gg=cn(gh,gc),f8=ge.scroller.scrollTop;if(!gg||dY){return}var gb=gh.options.resetSelectionOnContextMenu;if(gb&&gh.doc.sel.contains(gg)==-1){c0(gh,bT)(gh.doc,eO(gg),Z)}var gd=ge.input.style.cssText;ge.inputDiv.style.position="absolute";ge.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(gc.clientY-5)+"px; left: "+(gc.clientX-5)+"px; z-index: 1000; background: "+(dG?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(cY){var gi=window.scrollY}ev(gh);if(cY){window.scrollTo(null,gi)}fl(gh);if(!gh.somethingSelected()){ge.input.value=ge.prevInput=" "}ge.contextMenuPending=true;ge.selForContextMenu=gh.doc.sel;clearTimeout(ge.detectingSelectAll);function ga(){if(ge.input.selectionStart!=null){var gj=gh.somethingSelected();var gk=ge.input.value="\u200b"+(gj?ge.input.value:"");ge.prevInput=gj?"":"\u200b";ge.input.selectionStart=1;ge.input.selectionEnd=gk.length;ge.selForContextMenu=gh.doc.sel}}function gf(){ge.contextMenuPending=false;ge.inputDiv.style.position="relative";ge.input.style.cssText=gd;if(dG&&k<9){ge.scrollbars.setScrollTop(ge.scroller.scrollTop=f8)}bl(gh);if(ge.input.selectionStart!=null){if(!dG||(dG&&k<9)){ga()}var gj=0,gk=function(){if(ge.selForContextMenu==gh.doc.sel&&ge.input.selectionStart==0){c0(gh,ez.selectAll)(gh)}else{if(gj++<10){ge.detectingSelectAll=setTimeout(gk,500)}else{fl(gh)}}};ge.detectingSelectAll=setTimeout(gk,200)}}if(dG&&k>=9){ga()}if(f0){en(gc);var f9=function(){d9(window,"mouseup",f9);setTimeout(gf,20)};bW(window,"mouseup",f9)}else{setTimeout(gf,50)}}function de(f8,f9){if(!fe(f8,"gutterContextMenu")){return false}return f6(f8,f9,"gutterContextMenu",false,aC)}var cV=I.changeEnd=function(f8){if(!f8.text){return f8.to}return X(f8.from.line+f8.text.length-1,fE(f8.text).length+(f8.text.length==1?f8.from.ch:0))};function bY(gb,ga){if(ce(gb,ga.from)<0){return gb}if(ce(gb,ga.to)<=0){return cV(ga)}var f8=gb.line+ga.text.length-(ga.to.line-ga.from.line)-1,f9=gb.ch;if(gb.line==ga.to.line){f9+=cV(ga).ch-ga.to.ch}return X(f8,f9)}function fg(gb,gc){var f9=[];for(var ga=0;ga<gb.sel.ranges.length;ga++){var f8=gb.sel.ranges[ga];f9.push(new dU(bY(f8.anchor,gc),bY(f8.head,gc)))}return cw(f9,gb.sel.primIndex)}function bt(ga,f9,f8){if(ga.line==f9.line){return X(f8.line,ga.ch-f9.ch+f8.ch)}else{return X(f8.line+(ga.line-f9.line),ga.ch)}}function ae(gi,gf,f9){var ga=[];var f8=X(gi.first,0),gj=f8;for(var gc=0;gc<gf.length;gc++){var ge=gf[gc];var gh=bt(ge.from,f8,gj);var gg=bt(cV(ge),f8,gj);f8=ge.to;gj=gg;if(f9=="around"){var gd=gi.sel.ranges[gc],gb=ce(gd.head,gd.anchor)<0;ga[gc]=new dU(gb?gg:gh,gb?gh:gg)}else{ga[gc]=new dU(gh,gh)}}return new fU(ga,gi.sel.primIndex)}function dN(f9,gb,ga){var f8={canceled:false,from:gb.from,to:gb.to,text:gb.text,origin:gb.origin,cancel:function(){this.canceled=true}};if(ga){f8.update=function(gf,ge,gd,gc){if(gf){this.from=fG(f9,gf)}if(ge){this.to=fG(f9,ge)}if(gd){this.text=gd}if(gc!==undefined){this.origin=gc}}}aC(f9,"beforeChange",f9,f8);if(f9.cm){aC(f9.cm,"beforeChange",f9.cm,f8)}if(f8.canceled){return null}return{from:f8.from,to:f8.to,text:f8.text,origin:f8.origin}}function bd(gb,gc,ga){if(gb.cm){if(!gb.cm.curOp){return c0(gb.cm,bd)(gb,gc,ga)}if(gb.cm.state.suppressEdits){return}}if(fe(gb,"beforeChange")||gb.cm&&fe(gb.cm,"beforeChange")){gc=dN(gb,gc,true);if(!gc){return}}var f9=f3&&!ga&&cF(gb,gc.from,gc.to);if(f9){for(var f8=f9.length-1;f8>=0;--f8){L(gb,{from:f9[f8].from,to:f9[f8].to,text:f8?[""]:gc.text})}}else{L(gb,gc)}}function L(ga,gb){if(gb.text.length==1&&gb.text[0]==""&&ce(gb.from,gb.to)==0){return}var f9=fg(ga,gb);fJ(ga,gb,f9,ga.cm?ga.cm.curOp.id:NaN);ea(ga,gb,f9,eg(ga,gb));var f8=[];d3(ga,function(gd,gc){if(!gc&&df(f8,gd.history)==-1){dA(gd.history,gb);f8.push(gd.history)}ea(gd,gb,null,eg(gd,gb))})}function b7(gj,gh,gl){if(gj.cm&&gj.cm.state.suppressEdits){return}var gg=gj.history,ga,gc=gj.sel;var f8=gh=="undo"?gg.done:gg.undone,gk=gh=="undo"?gg.undone:gg.done;for(var gd=0;gd<f8.length;gd++){ga=f8[gd];if(gl?ga.ranges&&!ga.equals(gj.sel):!ga.ranges){break}}if(gd==f8.length){return}gg.lastOrigin=gg.lastSelOrigin=null;for(;;){ga=f8.pop();if(ga.ranges){cL(ga,gk);if(gl&&!ga.equals(gj.sel)){bT(gj,ga,{clearRedo:false});return}gc=ga}else{break}}var gf=[];cL(gc,gk);gk.push({changes:gf,generation:gg.generation});gg.generation=ga.generation||++gg.maxGeneration;var gb=fe(gj,"beforeChange")||gj.cm&&fe(gj.cm,"beforeChange");for(var gd=ga.changes.length-1;gd>=0;--gd){var gi=ga.changes[gd];gi.origin=gh;if(gb&&!dN(gj,gi,false)){f8.length=0;return}gf.push(dr(gj,gi));var f9=gd?fg(gj,gi):fE(f8);ea(gj,gi,f9,d5(gj,gi));if(!gd&&gj.cm){gj.cm.scrollIntoView({from:gi.from,to:cV(gi)})}var ge=[];d3(gj,function(gn,gm){if(!gm&&df(ge,gn.history)==-1){dA(gn.history,gi);ge.push(gn.history)}ea(gn,gi,null,d5(gn,gi))})}}function fj(f9,gb){if(gb==0){return}f9.first+=gb;f9.sel=new fU(bR(f9.sel.ranges,function(gc){return new dU(X(gc.anchor.line+gb,gc.anchor.ch),X(gc.head.line+gb,gc.head.ch))}),f9.sel.primIndex);if(f9.cm){ag(f9.cm,f9.first,f9.first-gb,gb);for(var ga=f9.cm.display,f8=ga.viewFrom;f8<ga.viewTo;f8++){S(f9.cm,f8,"gutter")}}}function ea(gc,gd,gb,f9){if(gc.cm&&!gc.cm.curOp){return c0(gc.cm,ea)(gc,gd,gb,f9)}if(gd.to.line<gc.first){fj(gc,gd.text.length-1-(gd.to.line-gd.from.line));return}if(gd.from.line>gc.lastLine()){return}if(gd.from.line<gc.first){var f8=gd.text.length-1-(gc.first-gd.from.line);fj(gc,f8);gd={from:X(gc.first,0),to:X(gd.to.line+f8,gd.to.ch),text:[fE(gd.text)],origin:gd.origin}}var ga=gc.lastLine();if(gd.to.line>ga){gd={from:gd.from,to:X(ga,fb(gc,ga).text.length),text:[gd.text[0]],origin:gd.origin}}gd.removed=fV(gc,gd.from,gd.to);if(!gb){gb=fg(gc,gd)}if(gc.cm){aH(gc.cm,gd,f9)}else{fv(gc,gd,f9)}el(gc,gb,Z)}function aH(gj,gf,gd){var gi=gj.doc,ge=gj.display,gg=gf.from,gh=gf.to;var f8=false,gc=gg.line;if(!gj.options.lineWrapping){gc=bM(y(fb(gi,gg.line)));gi.iter(gc,gh.line+1,function(gl){if(gl==ge.maxLine){f8=true;return true}})}if(gi.sel.contains(gf.from,gf.to)>-1){W(gj)}fv(gi,gf,gd,bb(gj));if(!gj.options.lineWrapping){gi.iter(gc,gg.line+gf.text.length,function(gm){var gl=ej(gm);if(gl>ge.maxLineLength){ge.maxLine=gm;ge.maxLineLength=gl;ge.maxLineChanged=true;f8=false}});if(f8){gj.curOp.updateMaxLine=true}}gi.frontier=Math.min(gi.frontier,gg.line);eb(gj,400);var gk=gf.text.length-(gh.line-gg.line)-1;if(gf.full){ag(gj)}else{if(gg.line==gh.line&&gf.text.length==1&&!dO(gj.doc,gf)){S(gj,gg.line,"text")}else{ag(gj,gg.line,gh.line+1,gk)}}var ga=fe(gj,"changes"),gb=fe(gj,"change");if(gb||ga){var f9={from:gg,to:gh,text:gf.text,removed:gf.removed,origin:gf.origin};if(gb){ad(gj,"change",gj,f9)}if(ga){(gj.curOp.changeObjs||(gj.curOp.changeObjs=[])).push(f9)}}gj.display.selForContextMenu=null}function aY(gb,ga,gd,gc,f8){if(!gc){gc=gd}if(ce(gc,gd)<0){var f9=gc;gc=gd;gd=f9}if(typeof ga=="string"){ga=aX(ga)}bd(gb,{from:gd,to:gc,text:ga,origin:f8})}function d2(f9,gc){if(aO(f9,"scrollCursorIntoView")){return}var gd=f9.display,ga=gd.sizer.getBoundingClientRect(),f8=null;if(gc.top+ga.top<0){f8=true}else{if(gc.bottom+ga.top>(window.innerHeight||document.documentElement.clientHeight)){f8=false}}if(f8!=null&&!fr){var gb=fT("div","\u200b",null,"position: absolute; top: "+(gc.top-gd.viewOffset-e4(f9.display))+"px; height: "+(gc.bottom-gc.top+cR(f9)+gd.barHeight)+"px; left: "+gc.left+"px; width: 2px;");f9.display.lineSpace.appendChild(gb);gb.scrollIntoView(f8);f9.display.lineSpace.removeChild(gb)}}function E(gi,gg,gc,gb){if(gb==null){gb=0}for(var gd=0;gd<5;gd++){var ge=false,gh=dQ(gi,gg);var f8=!gc||gc==gg?gh:dQ(gi,gc);var ga=H(gi,Math.min(gh.left,f8.left),Math.min(gh.top,f8.top)-gb,Math.max(gh.left,f8.left),Math.max(gh.bottom,f8.bottom)+gb);var gf=gi.doc.scrollTop,f9=gi.doc.scrollLeft;if(ga.scrollTop!=null){O(gi,ga.scrollTop);if(Math.abs(gi.doc.scrollTop-gf)>1){ge=true}}if(ga.scrollLeft!=null){bD(gi,ga.scrollLeft);if(Math.abs(gi.doc.scrollLeft-f9)>1){ge=true}}if(!ge){break}}return gh}function F(f8,ga,gc,f9,gb){var gd=H(f8,ga,gc,f9,gb);if(gd.scrollTop!=null){O(f8,gd.scrollTop)}if(gd.scrollLeft!=null){bD(f8,gd.scrollLeft)}}function H(gk,gb,gj,f9,gi){var gg=gk.display,ge=aU(gk.display);if(gj<0){gj=0}var gc=gk.curOp&&gk.curOp.scrollTop!=null?gk.curOp.scrollTop:gg.scroller.scrollTop;var gm=cT(gk),go={};if(gi-gj>gm){gi=gj+gm}var ga=gk.doc.height+bH(gg);var f8=gj<ge,gf=gi>ga-ge;if(gj<gc){go.scrollTop=f8?0:gj}else{if(gi>gc+gm){var gh=Math.min(gj,(gf?ga:gi)-gm);if(gh!=gc){go.scrollTop=gh}}}var gn=gk.curOp&&gk.curOp.scrollLeft!=null?gk.curOp.scrollLeft:gg.scroller.scrollLeft;var gl=di(gk)-(gk.options.fixedGutter?gg.gutters.offsetWidth:0);var gd=f9-gb>gl;if(gd){f9=gb+gl}if(gb<10){go.scrollLeft=0}else{if(gb<gn){go.scrollLeft=Math.max(0,gb-(gd?0:10))}else{if(f9>gl+gn-3){go.scrollLeft=f9+(gd?0:10)-gl}}}return go}function cJ(f8,ga,f9){if(ga!=null||f9!=null){fz(f8)}if(ga!=null){f8.curOp.scrollLeft=(f8.curOp.scrollLeft==null?f8.doc.scrollLeft:f8.curOp.scrollLeft)+ga}if(f9!=null){f8.curOp.scrollTop=(f8.curOp.scrollTop==null?f8.doc.scrollTop:f8.curOp.scrollTop)+f9}}function fD(f8){fz(f8);var f9=f8.getCursor(),gb=f9,ga=f9;if(!f8.options.lineWrapping){gb=f9.ch?X(f9.line,f9.ch-1):f9;ga=X(f9.line,f9.ch+1)}f8.curOp.scrollToPos={from:gb,to:ga,margin:f8.options.cursorScrollMargin,isCursor:true}}function fz(f8){var ga=f8.curOp.scrollToPos;if(ga){f8.curOp.scrollToPos=null;var gc=dD(f8,ga.from),gb=dD(f8,ga.to);var f9=H(f8,Math.min(gc.left,gb.left),Math.min(gc.top,gb.top)-ga.margin,Math.max(gc.right,gb.right),Math.max(gc.bottom,gb.bottom)+ga.margin);f8.scrollTo(f9.scrollLeft,f9.scrollTop)}}function ac(gl,gb,gk,ga){var gj=gl.doc,f9;if(gk==null){gk="add"}if(gk=="smart"){if(!gj.mode.indent){gk="prev"}else{f9=dx(gl,gb)}}var gf=gl.options.tabSize;var gm=fb(gj,gb),ge=bS(gm.text,null,gf);if(gm.stateAfter){gm.stateAfter=null}var f8=gm.text.match(/^\s*/)[0],gh;if(!ga&&!/\S/.test(gm.text)){gh=0;gk="not"}else{if(gk=="smart"){gh=gj.mode.indent(f9,gm.text.slice(f8.length),gm.text);if(gh==b9||gh>150){if(!ga){return}gk="prev"}}}if(gk=="prev"){if(gb>gj.first){gh=bS(fb(gj,gb-1).text,null,gf)}else{gh=0}}else{if(gk=="add"){gh=ge+gl.options.indentUnit}else{if(gk=="subtract"){gh=ge-gl.options.indentUnit}else{if(typeof gk=="number"){gh=ge+gk}}}}gh=Math.max(0,gh);var gi="",gg=0;if(gl.options.indentWithTabs){for(var gc=Math.floor(gh/gf);gc;--gc){gg+=gf;gi+="\t"}}if(gg<gh){gi+=cp(gh-gg)}if(gi!=f8){aY(gj,gi,X(gb,0),X(gb,f8.length),"+input")}else{for(var gc=0;gc<gj.sel.ranges.length;gc++){var gd=gj.sel.ranges[gc];if(gd.head.line==gb&&gd.head.ch<f8.length){var gg=X(gb,f8.length);e(gj,gc,new dU(gg,gg));break}}}gm.stateAfter=null}function eu(gb,ga,f8,gd){var gc=ga,f9=ga;if(typeof ga=="number"){f9=fb(gb,c3(gb,ga))}else{gc=bM(ga)}if(gc==null){return null}if(gd(f9,gc)&&gb.cm){S(gb.cm,gc,f8)}return f9}function eT(f8,ge){var f9=f8.doc.sel.ranges,gc=[];for(var gb=0;gb<f9.length;gb++){var ga=ge(f9[gb]);while(gc.length&&ce(ga.from,fE(gc).to)<=0){var gd=gc.pop();if(ce(gd.from,ga.from)<0){ga.from=gd.from;break}}gc.push(ga)}cK(f8,function(){for(var gf=gc.length-1;gf>=0;gf--){aY(f8.doc,"",gc[gf].from,gc[gf].to,"+delete")}fD(f8)})}function bv(gq,gc,gk,gj,ge){var gh=gc.line,gi=gc.ch,gp=gk;var f9=fb(gq,gh);var gn=true;function go(){var gr=gh+gk;if(gr<gq.first||gr>=gq.first+gq.size){return(gn=false)}gh=gr;return f9=fb(gq,gr)}function gm(gs){var gr=(ge?u:ah)(f9,gi,gk,true);if(gr==null){if(!gs&&go()){if(ge){gi=(gk<0?cQ:cD)(f9)}else{gi=gk<0?f9.text.length:0}}else{return(gn=false)}}else{gi=gr}return true}if(gj=="char"){gm()}else{if(gj=="column"){gm(true)}else{if(gj=="word"||gj=="group"){var gl=null,gf=gj=="group";var f8=gq.cm&&gq.cm.getHelper(gc,"wordChars");for(var gd=true;;gd=false){if(gk<0&&!gm(!gd)){break}var ga=f9.text.charAt(gi)||"\n";var gb=cz(ga,f8)?"w":gf&&ga=="\n"?"n":!gf||/\s/.test(ga)?null:"p";if(gf&&!gd&&!gb){gb="s"}if(gl&&gl!=gb){if(gk<0){gk=1;gm()}break}if(gb){gl=gb}if(gk>0&&!gm(!gd)){break}}}}}var gg=bU(gq,X(gh,gi),gp,true);if(!gn){gg.hitSide=true}return gg}function bp(gg,gb,f8,gf){var ge=gg.doc,gd=gb.left,gc;if(gf=="page"){var ga=Math.min(gg.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);gc=gb.top+f8*(ga-(f8<0?1.5:0.5)*aU(gg.display))}else{if(gf=="line"){gc=f8>0?gb.bottom+3:gb.top-3}}for(;;){var f9=fL(gg,gd,gc);if(!f9.outside){break}if(f8<0?gc<=0:gc>=ge.height){f9.hitSide=true;break}gc+=f8*5}return f9}I.prototype={constructor:I,focus:function(){window.focus();ev(this);B(this)},setOption:function(ga,gb){var f9=this.options,f8=f9[ga];if(f9[ga]==gb&&ga!="mode"){return}f9[ga]=gb;if(bc.hasOwnProperty(ga)){c0(this,bc[ga])(this,gb,f8)}},getOption:function(f8){return this.options[f8]},getDoc:function(){return this.doc},addKeyMap:function(f9,f8){this.state.keyMaps[f8?"push":"unshift"](fR(f9))},removeKeyMap:function(f9){var ga=this.state.keyMaps;for(var f8=0;f8<ga.length;++f8){if(ga[f8]==f9||ga[f8].name==f9){ga.splice(f8,1);return true}}},addOverlay:c6(function(f8,f9){var ga=f8.token?f8:I.getMode(this.options,f8);if(ga.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:ga,modeSpec:f8,opaque:f9&&f9.opaque});this.state.modeGen++;ag(this)}),removeOverlay:c6(function(f8){var ga=this.state.overlays;for(var f9=0;f9<ga.length;++f9){var gb=ga[f9].modeSpec;if(gb==f8||typeof f8=="string"&&gb.name==f8){ga.splice(f9,1);this.state.modeGen++;ag(this);return}}}),indentLine:c6(function(ga,f8,f9){if(typeof f8!="string"&&typeof f8!="number"){if(f8==null){f8=this.options.smartIndent?"smart":"prev"}else{f8=f8?"add":"subtract"}}if(b8(this.doc,ga)){ac(this,ga,f8,f9)}}),indentSelection:c6(function(gh){var f8=this.doc.sel.ranges,gb=-1;for(var gd=0;gd<f8.length;gd++){var ge=f8[gd];if(!ge.empty()){var gf=ge.from(),gg=ge.to();var f9=Math.max(gb,gf.line);gb=Math.min(this.lastLine(),gg.line-(gg.ch?0:1))+1;for(var gc=f9;gc<gb;++gc){ac(this,gc,gh)}var ga=this.doc.sel.ranges;if(gf.ch==0&&f8.length==ga.length&&ga[gd].from().ch>0){e(this.doc,gd,new dU(gf,ga[gd].to()),Z)}}else{if(ge.head.line>gb){ac(this,ge.head.line,gh,true);gb=ge.head.line;if(gd==this.doc.sel.primIndex){fD(this)}}}}}),getTokenAt:function(f9,f8){return cq(this,f9,f8)},getLineTokens:function(f9,f8){return cq(this,X(f9),f8,true)},getTokenTypeAt:function(gf){gf=fG(this.doc,gf);var gb=c4(this,fb(this.doc,gf.line));var gd=0,ge=(gb.length-1)/2,ga=gf.ch;var f9;if(ga==0){f9=gb[2]}else{for(;;){var f8=(gd+ge)>>1;if((f8?gb[f8*2-1]:0)>=ga){ge=f8}else{if(gb[f8*2+1]<ga){gd=f8+1}else{f9=gb[f8*2+2];break}}}}var gc=f9?f9.indexOf("cm-overlay "):-1;return gc<0?f9:gc==0?null:f9.slice(0,gc-1)},getModeAt:function(f9){var f8=this.doc.mode;if(!f8.innerMode){return f8}return I.innerMode(f8,this.getTokenAt(f9).state).mode},getHelper:function(f9,f8){return this.getHelpers(f9,f8)[0]},getHelpers:function(gf,ga){var gb=[];if(!fk.hasOwnProperty(ga)){return fk}var f8=fk[ga],ge=this.getModeAt(gf);if(typeof ge[ga]=="string"){if(f8[ge[ga]]){gb.push(f8[ge[ga]])}}else{if(ge[ga]){for(var f9=0;f9<ge[ga].length;f9++){var gd=f8[ge[ga][f9]];if(gd){gb.push(gd)}}}else{if(ge.helperType&&f8[ge.helperType]){gb.push(f8[ge.helperType])}else{if(f8[ge.name]){gb.push(f8[ge.name])}}}}for(var f9=0;f9<f8._global.length;f9++){var gc=f8._global[f9];if(gc.pred(ge,this)&&df(gb,gc.val)==-1){gb.push(gc.val)}}return gb},getStateAfter:function(f9,f8){var ga=this.doc;f9=c3(ga,f9==null?ga.first+ga.size-1:f9);return dx(this,f9+1,f8)},cursorCoords:function(gb,f9){var ga,f8=this.doc.sel.primary();if(gb==null){ga=f8.head}else{if(typeof gb=="object"){ga=fG(this.doc,gb)}else{ga=gb?f8.from():f8.to()}}return dQ(this,ga,f9||"page")},charCoords:function(f9,f8){return cH(this,fG(this.doc,f9),f8||"page")},coordsChar:function(f8,f9){f8=f5(this,f8,f9||"page");return fL(this,f8.left,f8.top)},lineAtHeight:function(f8,f9){f8=f5(this,{top:f8,left:0},f9||"page").top;return bF(this.doc,f8+this.display.viewOffset)},heightAtLine:function(f9,gc){var f8=false,gb=this.doc.first+this.doc.size-1;if(f9<this.doc.first){f9=this.doc.first}else{if(f9>gb){f9=gb;f8=true}}var ga=fb(this.doc,f9);return eM(this,ga,{top:0,left:0},gc||"page").top+(f8?this.doc.height-bL(ga):0)},defaultTextHeight:function(){return aU(this.display)},defaultCharWidth:function(){return dz(this.display)},setGutterMarker:c6(function(f8,f9,ga){return eu(this.doc,f8,"gutter",function(gb){var gc=gb.gutterMarkers||(gb.gutterMarkers={});gc[f9]=ga;if(!ga&&eQ(gc)){gb.gutterMarkers=null}return true})}),clearGutter:c6(function(ga){var f8=this,gb=f8.doc,f9=gb.first;gb.iter(function(gc){if(gc.gutterMarkers&&gc.gutterMarkers[ga]){gc.gutterMarkers[ga]=null;S(f8,f9,"gutter");if(eQ(gc.gutterMarkers)){gc.gutterMarkers=null}}++f9})}),addLineWidget:c6(function(ga,f9,f8){return bG(this,ga,f9,f8)}),removeLineWidget:function(f8){f8.clear()},lineInfo:function(f8){if(typeof f8=="number"){if(!b8(this.doc,f8)){return null}var f9=f8;f8=fb(this.doc,f8);if(!f8){return null}}else{var f9=bM(f8);if(f9==null){return null}}return{line:f9,handle:f8,text:f8.text,gutterMarkers:f8.gutterMarkers,textClass:f8.textClass,bgClass:f8.bgClass,wrapClass:f8.wrapClass,widgets:f8.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(gd,ga,gf,gb,gh){var gc=this.display;gd=dQ(this,fG(this.doc,gd));var ge=gd.bottom,f9=gd.left;ga.style.position="absolute";ga.setAttribute("cm-ignore-events","true");gc.sizer.appendChild(ga);if(gb=="over"){ge=gd.top}else{if(gb=="above"||gb=="near"){var f8=Math.max(gc.wrapper.clientHeight,this.doc.height),gg=Math.max(gc.sizer.clientWidth,gc.lineSpace.clientWidth);if((gb=="above"||gd.bottom+ga.offsetHeight>f8)&&gd.top>ga.offsetHeight){ge=gd.top-ga.offsetHeight}else{if(gd.bottom+ga.offsetHeight<=f8){ge=gd.bottom}}if(f9+ga.offsetWidth>gg){f9=gg-ga.offsetWidth}}}ga.style.top=ge+"px";ga.style.left=ga.style.right="";if(gh=="right"){f9=gc.sizer.clientWidth-ga.offsetWidth;ga.style.right="0px"}else{if(gh=="left"){f9=0}else{if(gh=="middle"){f9=(gc.sizer.clientWidth-ga.offsetWidth)/2}}ga.style.left=f9+"px"}if(gf){F(this,f9,ge,f9+ga.offsetWidth,ge+ga.offsetHeight)}},triggerOnKeyDown:c6(p),triggerOnKeyPress:c6(cx),triggerOnKeyUp:bf,execCommand:function(f8){if(ez.hasOwnProperty(f8)){return ez[f8](this)}},findPosH:function(ge,gb,gc,f9){var f8=1;if(gb<0){f8=-1;gb=-gb}for(var ga=0,gd=fG(this.doc,ge);ga<gb;++ga){gd=bv(this.doc,gd,f8,gc,f9);if(gd.hitSide){break}}return gd},moveH:c6(function(f9,ga){var f8=this;f8.extendSelectionsBy(function(gb){if(f8.display.shift||f8.doc.extend||gb.empty()){return bv(f8.doc,gb.head,f9,ga,f8.options.rtlMoveVisually)}else{return f9<0?gb.from():gb.to()}},cU)}),deleteH:c6(function(f8,f9){var ga=this.doc.sel,gb=this.doc;if(ga.somethingSelected()){gb.replaceSelection("",null,"+delete")}else{eT(this,function(gd){var gc=bv(gb,gd.head,f8,f9,false);return f8<0?{from:gc,to:gd.head}:{from:gd.head,to:gc}})}}),findPosV:function(gd,ga,ge,gg){var f8=1,gc=gg;if(ga<0){f8=-1;ga=-ga}for(var f9=0,gf=fG(this.doc,gd);f9<ga;++f9){var gb=dQ(this,gf,"div");if(gc==null){gc=gb.left}else{gb.left=gc}gf=bp(this,gb,f8,ge);if(gf.hitSide){break}}return gf},moveV:c6(function(f9,gb){var f8=this,gd=this.doc,gc=[];var ge=!f8.display.shift&&!gd.extend&&gd.sel.somethingSelected();gd.extendSelectionsBy(function(gf){if(ge){return f9<0?gf.from():gf.to()}var gh=dQ(f8,gf.head,"div");if(gf.goalColumn!=null){gh.left=gf.goalColumn}gc.push(gh.left);var gg=bp(f8,gh,f9,gb);if(gb=="page"&&gf==gd.sel.primary()){cJ(f8,null,cH(f8,gg,"div").top-gh.top)}return gg},cU);if(gc.length){for(var ga=0;ga<gd.sel.ranges.length;ga++){gd.sel.ranges[ga].goalColumn=gc[ga]}}}),findWordAt:function(gf){var gd=this.doc,gb=fb(gd,gf.line).text;var ge=gf.ch,ga=gf.ch;if(gb){var gc=this.getHelper(gf,"wordChars");if((gf.xRel<0||ga==gb.length)&&ge){--ge}else{++ga}var f9=gb.charAt(ge);var f8=cz(f9,gc)?function(gg){return cz(gg,gc)}:/\s/.test(f9)?function(gg){return/\s/.test(gg)}:function(gg){return !/\s/.test(gg)&&!cz(gg)};while(ge>0&&f8(gb.charAt(ge-1))){--ge}while(ga<gb.length&&f8(gb.charAt(ga))){++ga}}return new dU(X(gf.line,ge),X(gf.line,ga))},toggleOverwrite:function(f8){if(f8!=null&&f8==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){fx(this.display.cursorDiv,"CodeMirror-overwrite")}else{f(this.display.cursorDiv,"CodeMirror-overwrite")}aC(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return dK()==this.display.input},scrollTo:c6(function(f8,f9){if(f8!=null||f9!=null){fz(this)}if(f8!=null){this.curOp.scrollLeft=f8}if(f9!=null){this.curOp.scrollTop=f9}}),getScrollInfo:function(){var f8=this.display.scroller;return{left:f8.scrollLeft,top:f8.scrollTop,height:f8.scrollHeight-cR(this)-this.display.barHeight,width:f8.scrollWidth-cR(this)-this.display.barWidth,clientHeight:cT(this),clientWidth:di(this)}},scrollIntoView:c6(function(f9,ga){if(f9==null){f9={from:this.doc.sel.primary().head,to:null};if(ga==null){ga=this.options.cursorScrollMargin}}else{if(typeof f9=="number"){f9={from:X(f9,0),to:null}}else{if(f9.from==null){f9={from:f9,to:null}}}}if(!f9.to){f9.to=f9.from}f9.margin=ga||0;if(f9.from.line!=null){fz(this);this.curOp.scrollToPos=f9}else{var f8=H(this,Math.min(f9.from.left,f9.to.left),Math.min(f9.from.top,f9.to.top)-f9.margin,Math.max(f9.from.right,f9.to.right),Math.max(f9.from.bottom,f9.to.bottom)+f9.margin);this.scrollTo(f8.scrollLeft,f8.scrollTop)}}),setSize:c6(function(gb,f9){var f8=this;function ga(gd){return typeof gd=="number"||/^\d+$/.test(String(gd))?gd+"px":gd}if(gb!=null){f8.display.wrapper.style.width=ga(gb)}if(f9!=null){f8.display.wrapper.style.height=ga(f9)}if(f8.options.lineWrapping){aL(this)}var gc=f8.display.viewFrom;f8.doc.iter(gc,f8.display.viewTo,function(gd){if(gd.widgets){for(var ge=0;ge<gd.widgets.length;ge++){if(gd.widgets[ge].noHScroll){S(f8,gc,"widget");break}}}++gc});f8.curOp.forceUpdate=true;aC(f8,"refresh",this)}),operation:function(f8){return cK(this,f8)},refresh:c6(function(){var f8=this.display.cachedTextHeight;ag(this);this.curOp.forceUpdate=true;aj(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);c2(this);if(f8==null||Math.abs(f8-aU(this.display))>0.5){Y(this)}aC(this,"refresh",this)}),swapDoc:c6(function(f9){var f8=this.doc;f8.cm=null;d7(this,f9);aj(this);fl(this);this.scrollTo(f9.scrollLeft,f9.scrollTop);this.curOp.forceScroll=true;ad(this,"swapDoc",this,f8);return f8}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bx(I);var eZ=I.defaults={};var bc=I.optionHandlers={};function s(f8,gb,ga,f9){I.defaults[f8]=gb;if(ga){bc[f8]=f9?function(gc,ge,gd){if(gd!=cb){ga(gc,ge,gd)}}:ga}}var cb=I.Init={toString:function(){return"CodeMirror.Init"}};s("value","",function(f8,f9){f8.setValue(f9)},true);s("mode",null,function(f8,f9){f8.doc.modeOption=f9;bq(f8)},true);s("indentUnit",2,bq,true);s("indentWithTabs",false);s("smartIndent",true);s("tabSize",4,function(f8){eh(f8);aj(f8);ag(f8)},true);s("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(f8,f9){f8.options.specialChars=new RegExp(f9.source+(f9.test("\t")?"":"|\t"),"g");f8.refresh()},true);s("specialCharPlaceholder",e8,function(f8){f8.refresh()},true);s("electricChars",true);s("rtlMoveVisually",!aM);s("wholeLineUpdateBefore",true);s("theme","default",function(f8){cM(f8);ds(f8)},true);s("keyMap","default",function(f8,gc,f9){var ga=fR(gc);var gb=f9!=I.Init&&fR(f9);if(gb&&gb.detach){gb.detach(f8,ga)}if(ga.attach){ga.attach(f8,gb||null)}});s("extraKeys",null);s("lineWrapping",false,eC,true);s("gutters",[],function(f8){cd(f8.options);ds(f8)},true);s("fixedGutter",true,function(f8,f9){f8.display.gutters.style.left=f9?dT(f8.display)+"px":"0";f8.refresh()},true);s("coverGutterNextToScrollbar",false,function(f8){eU(f8)},true);s("scrollbarStyle","native",function(f8){aB(f8);eU(f8);f8.display.scrollbars.setScrollTop(f8.doc.scrollTop);f8.display.scrollbars.setScrollLeft(f8.doc.scrollLeft)},true);s("lineNumbers",false,function(f8){cd(f8.options);ds(f8)},true);s("firstLineNumber",1,ds,true);s("lineNumberFormatter",function(f8){return f8},ds,true);s("showCursorWhenSelecting",false,bB,true);s("resetSelectionOnContextMenu",true);s("readOnly",false,function(f8,f9){if(f9=="nocursor"){aS(f8);f8.display.input.blur();f8.display.disabled=true}else{f8.display.disabled=false;if(!f9){fl(f8)}}});s("disableInput",false,function(f8,f9){if(!f9){fl(f8)}},true);s("dragDrop",true);s("cursorBlinkRate",530);s("cursorScrollMargin",0);s("cursorHeight",1,bB,true);s("singleCursorHeightPerLine",true,bB,true);s("workTime",100);s("workDelay",100);s("flattenSpans",true,eh,true);s("addModeClass",false,eh,true);s("pollInterval",100);s("undoDepth",200,function(f8,f9){f8.doc.history.undoDepth=f9});s("historyEventDelay",1250);s("viewportMargin",10,function(f8){f8.refresh()},true);s("maxHighlightLength",10000,eh,true);s("moveInputWithCursor",true,function(f8,f9){if(!f9){f8.display.inputDiv.style.top=f8.display.inputDiv.style.left=0}});s("tabindex",null,function(f8,f9){f8.display.input.tabIndex=f9||""});s("autofocus",null);var dp=I.modes={},aP=I.mimeModes={};I.defineMode=function(f8,f9){if(!I.defaults.mode&&f8!="null"){I.defaults.mode=f8}if(arguments.length>2){f9.dependencies=Array.prototype.slice.call(arguments,2)}dp[f8]=f9};I.defineMIME=function(f9,f8){aP[f9]=f8};I.resolveMode=function(f8){if(typeof f8=="string"&&aP.hasOwnProperty(f8)){f8=aP[f8]}else{if(f8&&typeof f8.name=="string"&&aP.hasOwnProperty(f8.name)){var f9=aP[f8.name];if(typeof f9=="string"){f9={name:f9}}f8=ck(f9,f8);f8.name=f9.name}else{if(typeof f8=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f8)){return I.resolveMode("application/xml")}}}if(typeof f8=="string"){return{name:f8}}else{return f8||{name:"null"}}};I.getMode=function(f9,f8){var f8=I.resolveMode(f8);var gb=dp[f8.name];if(!gb){return I.getMode(f9,"text/plain")}var gc=gb(f9,f8);if(dl.hasOwnProperty(f8.name)){var ga=dl[f8.name];for(var gd in ga){if(!ga.hasOwnProperty(gd)){continue}if(gc.hasOwnProperty(gd)){gc["_"+gd]=gc[gd]}gc[gd]=ga[gd]}}gc.name=f8.name;if(f8.helperType){gc.helperType=f8.helperType}if(f8.modeProps){for(var gd in f8.modeProps){gc[gd]=f8.modeProps[gd]}}return gc};I.defineMode("null",function(){return{token:function(f8){f8.skipToEnd()}}});I.defineMIME("text/plain","null");var dl=I.modeExtensions={};I.extendMode=function(ga,f9){var f8=dl.hasOwnProperty(ga)?dl[ga]:(dl[ga]={});aK(f9,f8)};I.defineExtension=function(f8,f9){I.prototype[f8]=f9};I.defineDocExtension=function(f8,f9){ar.prototype[f8]=f9};I.defineOption=s;var a5=[];I.defineInitHook=function(f8){a5.push(f8)};var fk=I.helpers={};I.registerHelper=function(f9,f8,ga){if(!fk.hasOwnProperty(f9)){fk[f9]=I[f9]={_global:[]}}fk[f9][f8]=ga};I.registerGlobalHelper=function(ga,f9,f8,gb){I.registerHelper(ga,f9,gb);fk[ga]._global.push({pred:f8,val:gb})};var b2=I.copyState=function(gb,f8){if(f8===true){return f8}if(gb.copyState){return gb.copyState(f8)}var ga={};for(var gc in f8){var f9=f8[gc];if(f9 instanceof Array){f9=f9.concat([])}ga[gc]=f9}return ga};var bZ=I.startState=function(ga,f9,f8){return ga.startState?ga.startState(f9,f8):true};I.innerMode=function(ga,f8){while(ga.innerMode){var f9=ga.innerMode(f8);if(!f9||f9.mode==ga){break}f8=f9.state;ga=f9.mode}return f9||{mode:ga,state:f8}};var ez=I.commands={selectAll:function(f8){f8.setSelection(X(f8.firstLine(),0),X(f8.lastLine()),Z)},singleSelection:function(f8){f8.setSelection(f8.getCursor("anchor"),f8.getCursor("head"),Z)},killLine:function(f8){eT(f8,function(ga){if(ga.empty()){var f9=fb(f8.doc,ga.head.line).text.length;if(ga.head.ch==f9&&ga.head.line<f8.lastLine()){return{from:ga.head,to:X(ga.head.line+1,0)}}else{return{from:ga.head,to:X(ga.head.line,f9)}}}else{return{from:ga.from(),to:ga.to()}}})},deleteLine:function(f8){eT(f8,function(f9){return{from:X(f9.from().line,0),to:fG(f8.doc,X(f9.to().line+1,0))}})},delLineLeft:function(f8){eT(f8,function(f9){return{from:X(f9.from().line,0),to:f9.from()}})},delWrappedLineLeft:function(f8){eT(f8,function(f9){var gb=f8.charCoords(f9.head,"div").top+5;var ga=f8.coordsChar({left:0,top:gb},"div");return{from:ga,to:f9.from()}})},delWrappedLineRight:function(f8){eT(f8,function(f9){var gb=f8.charCoords(f9.head,"div").top+5;var ga=f8.coordsChar({left:f8.display.lineDiv.offsetWidth+100,top:gb},"div");return{from:f9.from(),to:ga}})},undo:function(f8){f8.undo()},redo:function(f8){f8.redo()},undoSelection:function(f8){f8.undoSelection()},redoSelection:function(f8){f8.redoSelection()},goDocStart:function(f8){f8.extendSelection(X(f8.firstLine(),0))},goDocEnd:function(f8){f8.extendSelection(X(f8.lastLine()))},goLineStart:function(f8){f8.extendSelectionsBy(function(f9){return bs(f8,f9.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f8){f8.extendSelectionsBy(function(f9){return dE(f8,f9.head)},{origin:"+move",bias:1})},goLineEnd:function(f8){f8.extendSelectionsBy(function(f9){return dL(f8,f9.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f8){f8.extendSelectionsBy(function(f9){var ga=f8.charCoords(f9.head,"div").top+5;return f8.coordsChar({left:f8.display.lineDiv.offsetWidth+100,top:ga},"div")},cU)},goLineLeft:function(f8){f8.extendSelectionsBy(function(f9){var ga=f8.charCoords(f9.head,"div").top+5;return f8.coordsChar({left:0,top:ga},"div")},cU)},goLineLeftSmart:function(f8){f8.extendSelectionsBy(function(f9){var ga=f8.charCoords(f9.head,"div").top+5;var gb=f8.coordsChar({left:0,top:ga},"div");if(gb.ch<f8.getLine(gb.line).search(/\S/)){return dE(f8,f9.head)}return gb},cU)},goLineUp:function(f8){f8.moveV(-1,"line")},goLineDown:function(f8){f8.moveV(1,"line")},goPageUp:function(f8){f8.moveV(-1,"page")},goPageDown:function(f8){f8.moveV(1,"page")},goCharLeft:function(f8){f8.moveH(-1,"char")},goCharRight:function(f8){f8.moveH(1,"char")},goColumnLeft:function(f8){f8.moveH(-1,"column")},goColumnRight:function(f8){f8.moveH(1,"column")},goWordLeft:function(f8){f8.moveH(-1,"word")},goGroupRight:function(f8){f8.moveH(1,"group")},goGroupLeft:function(f8){f8.moveH(-1,"group")},goWordRight:function(f8){f8.moveH(1,"word")},delCharBefore:function(f8){f8.deleteH(-1,"char")},delCharAfter:function(f8){f8.deleteH(1,"char")},delWordBefore:function(f8){f8.deleteH(-1,"word")},delWordAfter:function(f8){f8.deleteH(1,"word")},delGroupBefore:function(f8){f8.deleteH(-1,"group")},delGroupAfter:function(f8){f8.deleteH(1,"group")},indentAuto:function(f8){f8.indentSelection("smart")},indentMore:function(f8){f8.indentSelection("add")},indentLess:function(f8){f8.indentSelection("subtract")},insertTab:function(f8){f8.replaceSelection("\t")},insertSoftTab:function(f8){var ga=[],f9=f8.listSelections(),gd=f8.options.tabSize;for(var gc=0;gc<f9.length;gc++){var ge=f9[gc].from();var gb=bS(f8.getLine(ge.line),ge.ch,gd);ga.push(new Array(gd-gb%gd+1).join(" "))}f8.replaceSelections(ga)},defaultTab:function(f8){if(f8.somethingSelected()){f8.indentSelection("add")}else{f8.execCommand("insertTab")}},transposeChars:function(f8){cK(f8,function(){var gb=f8.listSelections(),ga=[];for(var gc=0;gc<gb.length;gc++){var ge=gb[gc].head,f9=fb(f8.doc,ge.line).text;if(f9){if(ge.ch==f9.length){ge=new X(ge.line,ge.ch-1)}if(ge.ch>0){ge=new X(ge.line,ge.ch+1);f8.replaceRange(f9.charAt(ge.ch-1)+f9.charAt(ge.ch-2),X(ge.line,ge.ch-2),ge,"+transpose")}else{if(ge.line>f8.doc.first){var gd=fb(f8.doc,ge.line-1).text;if(gd){f8.replaceRange(f9.charAt(0)+"\n"+gd.charAt(gd.length-1),X(ge.line-1,gd.length-1),X(ge.line,1),"+transpose")}}}}ga.push(new dU(ge,ge))}f8.setSelections(ga)})},newlineAndIndent:function(f8){cK(f8,function(){var f9=f8.listSelections().length;for(var gb=0;gb<f9;gb++){var ga=f8.listSelections()[gb];f8.replaceRange("\n",ga.anchor,ga.head,"+input");f8.indentLine(ga.from().line+1,null,true);fD(f8)}})},toggleOverwrite:function(f8){f8.toggleOverwrite()}};var e6=I.keyMap={};e6.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};e6.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-G":"findNext","Ctrl-M":"addBookmark","Shift-Ctrl-G":"findPrev","Shift-Ctrl-A":"replace","Shift-Ctrl-R":"replaceAll","Shift-Ctrl-D":"clearSearch","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};if(dG&&k<9){e6.pcDefault["Ctrl-E"]="find"}else{e6.pcDefault["Ctrl-F"]="find"}e6.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};e6.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Ctrl-M":"addBookmark","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-F":"find","Shift-Ctrl-D":"clearSearch","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Shift-Cmd-A":"replace","Shift-Cmd-R":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};e6["default"]=b6?e6.macDefault:e6.pcDefault;function dq(f9){var gf=f9.split(/-(?!$)/),f9=gf[gf.length-1];var ge,gd,f8,gc;for(var gb=0;gb<gf.length-1;gb++){var ga=gf[gb];if(/^(cmd|meta|m)$/i.test(ga)){gc=true}else{if(/^a(lt)?$/i.test(ga)){ge=true}else{if(/^(c|ctrl|control)$/i.test(ga)){gd=true}else{if(/^s(hift)$/i.test(ga)){f8=true}else{throw new Error("Unrecognized modifier name: "+ga)}}}}}if(ge){f9="Alt-"+f9}if(gd){f9="Ctrl-"+f9}if(gc){f9="Cmd-"+f9}if(f8){f9="Shift-"+f9}return f9}I.normalizeKeyMap=function(gf){var f9={};for(var ge in gf){if(gf.hasOwnProperty(ge)){var gg=gf[ge];if(/^(name|fallthrough|(de|at)tach)$/.test(ge)){continue}if(gg=="..."){delete gf[ge];continue}var gh=bR(ge.split(" "),dq);for(var gd=0;gd<gh.length;gd++){var gb,ga;if(gd==gh.length-1){ga=ge;gb=gg}else{ga=gh.slice(0,gd+1).join(" ");gb="..."}var gc=f9[ga];if(!gc){f9[ga]=gb}else{if(gc!=gb){throw new Error("Inconsistent bindings for "+ga)}}}delete gf[ge]}}for(var f8 in f9){gf[f8]=f9[f8]}return gf};var i=I.lookupKey=function(gb,ge,gd,ga){ge=fR(ge);var gc=ge.call?ge.call(gb,ga):ge[gb];if(gc===false){return"nothing"}if(gc==="..."){return"multi"}if(gc!=null&&gd(gc)){return"handled"}if(ge.fallthrough){if(Object.prototype.toString.call(ge.fallthrough)!="[object Array]"){return i(gb,ge.fallthrough,gd,ga)}for(var f9=0;f9<ge.fallthrough.length;f9++){var f8=i(gb,ge.fallthrough[f9],gd,ga);if(f8){return f8}}}};var ey=I.isModifierKey=function(f9){var f8=typeof f9=="string"?f9:fc[f9.keyCode];return f8=="Ctrl"||f8=="Alt"||f8=="Shift"||f8=="Mod"};var fo=I.keyName=function(f9,gb){if(dY&&f9.keyCode==34&&f9["char"]){return false}var ga=fc[f9.keyCode],f8=ga;if(f8==null||f9.altGraphKey){return false}if(f9.altKey&&ga!="Alt"){f8="Alt-"+f8}if((bP?f9.metaKey:f9.ctrlKey)&&ga!="Ctrl"){f8="Ctrl-"+f8}if((bP?f9.ctrlKey:f9.metaKey)&&ga!="Cmd"){f8="Cmd-"+f8}if(!gb&&f9.shiftKey&&ga!="Shift"){f8="Shift-"+f8}return f8};function fR(f8){return typeof f8=="string"?e6[f8]:f8}I.fromTextArea=function(gf,gg){if(!gg){gg={}}gg.value=gf.value;if(!gg.tabindex&&gf.tabindex){gg.tabindex=gf.tabindex}if(!gg.placeholder&&gf.placeholder){gg.placeholder=gf.placeholder}if(gg.autofocus==null){var f8=dK();gg.autofocus=f8==gf||gf.getAttribute("autofocus")!=null&&f8==document.body}function gc(){gf.value=ge.getValue()}if(gf.form){bW(gf.form,"submit",gc);if(!gg.leaveSubmitMethodAlone){var f9=gf.form,gd=f9.submit;try{var gb=f9.submit=function(){gc();f9.submit=gd;f9.submit();f9.submit=gb}}catch(ga){}}}gf.style.display="none";var ge=I(function(gh){gf.parentNode.insertBefore(gh,gf.nextSibling)},gg);ge.save=gc;ge.getTextArea=function(){return gf};ge.toTextArea=function(){ge.toTextArea=isNaN;gc();gf.parentNode.removeChild(ge.getWrapperElement());gf.style.display="";if(gf.form){d9(gf.form,"submit",gc);if(typeof gf.form.submit=="function"){gf.form.submit=gd}}};return ge};var eP=I.StringStream=function(f8,f9){this.pos=this.start=0;this.string=f8;this.tabSize=f9||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};eP.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(f8){var ga=this.string.charAt(this.pos);if(typeof f8=="string"){var f9=ga==f8}else{var f9=ga&&(f8.test?f8.test(ga):f8(ga))}if(f9){++this.pos;return ga}},eatWhile:function(f8){var f9=this.pos;while(this.eat(f8)){}return this.pos>f9},eatSpace:function(){var f8=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>f8},skipToEnd:function(){this.pos=this.string.length},skipTo:function(f8){var f9=this.string.indexOf(f8,this.pos);if(f9>-1){this.pos=f9;return true}},backUp:function(f8){this.pos-=f8},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bS(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return bS(this.string,null,this.tabSize)-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0)},match:function(gc,f9,f8){if(typeof gc=="string"){var gd=function(ge){return f8?ge.toLowerCase():ge};var gb=this.string.substr(this.pos,gc.length);if(gd(gb)==gd(gc)){if(f9!==false){this.pos+=gc.length}return true}}else{var ga=this.string.slice(this.pos).match(gc);if(ga&&ga.index>0){return null}if(ga&&f9!==false){this.pos+=ga[0].length}return ga}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(f9,f8){this.lineStart+=f9;try{return f8()}finally{this.lineStart-=f9}}};var Q=I.TextMarker=function(f9,f8){this.lines=[];this.type=f8;this.doc=f9};bx(Q);Q.prototype.clear=function(){if(this.explicitlyCleared){return}var gf=this.doc.cm,f9=gf&&!gf.curOp;if(f9){cG(gf)}if(fe(this,"clear")){var gg=this.find();if(gg){ad(this,"clear",gg.from,gg.to)}}var ga=null,gd=null;for(var gb=0;gb<this.lines.length;++gb){var gh=this.lines[gb];var ge=e5(gh.markedSpans,this);if(gf&&!this.collapsed){S(gf,bM(gh),"text")}else{if(gf){if(ge.to!=null){gd=bM(gh)}if(ge.from!=null){ga=bM(gh)}}}gh.markedSpans=eD(gh.markedSpans,ge);if(ge.from==null&&this.collapsed&&!ft(this.doc,gh)&&gf){fW(gh,aU(gf.display))}}if(gf&&this.collapsed&&!gf.options.lineWrapping){for(var gb=0;gb<this.lines.length;++gb){var f8=y(this.lines[gb]),gc=ej(f8);if(gc>gf.display.maxLineLength){gf.display.maxLine=f8;gf.display.maxLineLength=gc;gf.display.maxLineChanged=true}}}if(ga!=null&&gf&&this.collapsed){ag(gf,ga,gd+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(gf){et(gf.doc)}}if(gf){ad(gf,"markerCleared",gf,this)}if(f9){al(gf)}if(this.parent){this.parent.clear()}};Q.prototype.find=function(gb,f9){if(gb==null&&this.type=="bookmark"){gb=1}var ge,gd;for(var ga=0;ga<this.lines.length;++ga){var f8=this.lines[ga];var gc=e5(f8.markedSpans,this);if(gc.from!=null){ge=X(f9?f8:bM(f8),gc.from);if(gb==-1){return ge}}if(gc.to!=null){gd=X(f9?f8:bM(f8),gc.to);if(gb==1){return gd}}}return ge&&{from:ge,to:gd}};Q.prototype.changed=function(){var ga=this.find(-1,true),f9=this,f8=this.doc.cm;if(!ga||!f8){return}cK(f8,function(){var gc=ga.line,gd=bM(ga.line);var gb=e7(f8,gd);if(gb){at(gb);f8.curOp.selectionChanged=f8.curOp.forceUpdate=true}f8.curOp.updateMaxLine=true;if(!ft(f9.doc,gc)&&f9.height!=null){var gf=f9.height;f9.height=null;var ge=cW(f9)-gf;if(ge){fW(gc,gc.height+ge)}}})};Q.prototype.attachLine=function(f8){if(!this.lines.length&&this.doc.cm){var f9=this.doc.cm.curOp;if(!f9.maybeHiddenMarkers||df(f9.maybeHiddenMarkers,this)==-1){(f9.maybeUnhiddenMarkers||(f9.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(f8)};Q.prototype.detachLine=function(f8){this.lines.splice(df(this.lines,f8),1);if(!this.lines.length&&this.doc.cm){var f9=this.doc.cm.curOp;(f9.maybeHiddenMarkers||(f9.maybeHiddenMarkers=[])).push(this)}};var a2=0;function eB(gg,ge,gf,gi,gc){if(gi&&gi.shared){return P(gg,ge,gf,gi,gc)}if(gg.cm&&!gg.cm.curOp){return c0(gg.cm,eB)(gg,ge,gf,gi,gc)}var gb=new Q(gg,gc),gh=ce(ge,gf);if(gi){aK(gi,gb,false)}if(gh>0||gh==0&&gb.clearWhenEmpty!==false){return gb}if(gb.replacedWith){gb.collapsed=true;gb.widgetNode=fT("span",[gb.replacedWith],"CodeMirror-widget");if(!gi.handleMouseEvents){gb.widgetNode.setAttribute("cm-ignore-events","true")}if(gi.insertLeft){gb.widgetNode.insertLeft=true}}if(gb.collapsed){if(z(gg,ge.line,ge,gf,gb)||ge.line!=gf.line&&z(gg,gf.line,ge,gf,gb)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}a4=true}if(gb.addToHistory){fJ(gg,{from:ge,to:gf,origin:"markText"},gg.sel,NaN)}var f9=ge.line,gd=gg.cm,f8;gg.iter(f9,gf.line+1,function(gj){if(gd&&gb.collapsed&&!gd.options.lineWrapping&&y(gj)==gd.display.maxLine){f8=true}if(gb.collapsed&&f9!=ge.line){fW(gj,0)}cc(gj,new ee(gb,f9==ge.line?ge.ch:null,f9==gf.line?gf.ch:null));++f9});if(gb.collapsed){gg.iter(ge.line,gf.line+1,function(gj){if(ft(gg,gj)){fW(gj,0)}})}if(gb.clearOnEnter){bW(gb,"beforeCursorEnter",function(){gb.clear()})}if(gb.readOnly){f3=true;if(gg.history.done.length||gg.history.undone.length){gg.clearHistory()}}if(gb.collapsed){gb.id=++a2;gb.atomic=true}if(gd){if(f8){gd.curOp.updateMaxLine=true}if(gb.collapsed){ag(gd,ge.line,gf.line+1)}else{if(gb.className||gb.title||gb.startStyle||gb.endStyle||gb.css){for(var ga=ge.line;ga<=gf.line;ga++){S(gd,ga,"text")}}}if(gb.atomic){et(gd.doc)}ad(gd,"markerAdded",gd,gb)}return gb}var x=I.SharedTextMarker=function(ga,f9){this.markers=ga;this.primary=f9;for(var f8=0;f8<ga.length;++f8){ga[f8].parent=this}};bx(x);x.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var f8=0;f8<this.markers.length;++f8){this.markers[f8].clear()}ad(this,"clear")};x.prototype.find=function(f9,f8){return this.primary.find(f9,f8)};function P(gc,gf,ge,f8,ga){f8=aK(f8);f8.shared=false;var gd=[eB(gc,gf,ge,f8,ga)],f9=gd[0];var gb=f8.widgetNode;d3(gc,function(gh){if(gb){f8.widgetNode=gb.cloneNode(true)}gd.push(eB(gh,fG(gh,gf),fG(gh,ge),f8,ga));for(var gg=0;gg<gh.linked.length;++gg){if(gh.linked[gg].isParent){return}}f9=fE(gd)});return new x(gd,f9)}function eL(f8){return f8.findMarks(X(f8.first,0),f8.clipPos(X(f8.lastLine())),function(f9){return f9.parent})}function dB(gd,ge){for(var gb=0;gb<ge.length;gb++){var f9=ge[gb],gf=f9.find();var f8=gd.clipPos(gf.from),gc=gd.clipPos(gf.to);if(ce(f8,gc)){var ga=eB(gd,f8,gc,f9.primary,f9.primary.type);f9.markers.push(ga);ga.parent=f9}}}function ek(gb){for(var ga=0;ga<gb.length;ga++){var f8=gb[ga],gd=[f8.primary.doc];d3(f8.primary.doc,function(ge){gd.push(ge)});for(var f9=0;f9<f8.markers.length;f9++){var gc=f8.markers[f9];if(df(gd,gc.doc)==-1){gc.parent=null;f8.markers.splice(f9--,1)}}}}function ee(f8,ga,f9){this.marker=f8;this.from=ga;this.to=f9}function e5(ga,f8){if(ga){for(var f9=0;f9<ga.length;++f9){var gb=ga[f9];if(gb.marker==f8){return gb}}}}function eD(f9,ga){for(var gb,f8=0;f8<f9.length;++f8){if(f9[f8]!=ga){(gb||(gb=[])).push(f9[f8])}}return gb}function cc(f8,f9){f8.markedSpans=f8.markedSpans?f8.markedSpans.concat([f9]):[f9];f9.marker.attachLine(f8)}function aN(f9,ga,ge){if(f9){for(var gc=0,gf;gc<f9.length;++gc){var gg=f9[gc],gd=gg.marker;var f8=gg.from==null||(gd.inclusiveLeft?gg.from<=ga:gg.from<ga);if(f8||gg.from==ga&&gd.type=="bookmark"&&(!ge||!gg.marker.insertLeft)){var gb=gg.to==null||(gd.inclusiveRight?gg.to>=ga:gg.to>ga);(gf||(gf=[])).push(new ee(gd,gg.from,gb?null:gg.to))}}}return gf}function az(f9,gb,ge){if(f9){for(var gc=0,gf;gc<f9.length;++gc){var gg=f9[gc],gd=gg.marker;var ga=gg.to==null||(gd.inclusiveRight?gg.to>=gb:gg.to>gb);if(ga||gg.from==gb&&gd.type=="bookmark"&&(!ge||gg.marker.insertLeft)){var f8=gg.from==null||(gd.inclusiveLeft?gg.from<=gb:gg.from<gb);(gf||(gf=[])).push(new ee(gd,f8?null:gg.from-gb,gg.to==null?null:gg.to-gb))}}}return gf}function eg(gk,gh){if(gh.full){return null}var gg=b8(gk,gh.from.line)&&fb(gk,gh.from.line).markedSpans;var gn=b8(gk,gh.to.line)&&fb(gk,gh.to.line).markedSpans;if(!gg&&!gn){return null}var f9=gh.from.ch,gc=gh.to.ch,gf=ce(gh.from,gh.to)==0;var ge=aN(gg,f9,gf);var gm=az(gn,gc,gf);var gl=gh.text.length==1,ga=fE(gh.text).length+(gl?f9:0);if(ge){for(var gb=0;gb<ge.length;++gb){var gj=ge[gb];if(gj.to==null){var go=e5(gm,gj.marker);if(!go){gj.to=f9}else{if(gl){gj.to=go.to==null?null:go.to+ga}}}}}if(gm){for(var gb=0;gb<gm.length;++gb){var gj=gm[gb];if(gj.to!=null){gj.to+=ga}if(gj.from==null){var go=e5(ge,gj.marker);if(!go){gj.from=ga;if(gl){(ge||(ge=[])).push(gj)}}}else{gj.from+=ga;if(gl){(ge||(ge=[])).push(gj)}}}}if(ge){ge=q(ge)}if(gm&&gm!=ge){gm=q(gm)}var gd=[ge];if(!gl){var gi=gh.text.length-2,f8;if(gi>0&&ge){for(var gb=0;gb<ge.length;++gb){if(ge[gb].to==null){(f8||(f8=[])).push(new ee(ge[gb].marker,null,null))}}}for(var gb=0;gb<gi;++gb){gd.push(f8)}gd.push(gm)}return gd}function q(f9){for(var f8=0;f8<f9.length;++f8){var ga=f9[f8];if(ga.from!=null&&ga.from==ga.to&&ga.marker.clearWhenEmpty!==false){f9.splice(f8--,1)}}if(!f9.length){return null}return f9}function d5(gg,ge){var f8=b3(gg,ge);var gh=eg(gg,ge);if(!f8){return gh}if(!gh){return f8}for(var gb=0;gb<f8.length;++gb){var gc=f8[gb],gd=gh[gb];if(gc&&gd){spans:for(var ga=0;ga<gd.length;++ga){var gf=gd[ga];for(var f9=0;f9<gc.length;++f9){if(gc[f9].marker==gf.marker){continue spans}}gc.push(gf)}}else{if(gd){f8[gb]=gd}}}return f8}function cF(gk,gi,gj){var gc=null;gk.iter(gi.line,gj.line+1,function(gl){if(gl.markedSpans){for(var gm=0;gm<gl.markedSpans.length;++gm){var gn=gl.markedSpans[gm].marker;if(gn.readOnly&&(!gc||df(gc,gn)==-1)){(gc||(gc=[])).push(gn)}}}});if(!gc){return null}var gd=[{from:gi,to:gj}];for(var ge=0;ge<gc.length;++ge){var gf=gc[ge],ga=gf.find(0);for(var gb=0;gb<gd.length;++gb){var f9=gd[gb];if(ce(f9.to,ga.from)<0||ce(f9.from,ga.to)>0){continue}var gh=[gb,1],f8=ce(f9.from,ga.from),gg=ce(f9.to,ga.to);if(f8<0||!gf.inclusiveLeft&&!f8){gh.push({from:f9.from,to:ga.from})}if(gg>0||!gf.inclusiveRight&&!gg){gh.push({from:ga.to,to:f9.to})}gd.splice.apply(gd,gh);gb+=gh.length-1}}return gd}function fZ(f8){var ga=f8.markedSpans;if(!ga){return}for(var f9=0;f9<ga.length;++f9){ga[f9].marker.detachLine(f8)}f8.markedSpans=null}function c1(f8,ga){if(!ga){return}for(var f9=0;f9<ga.length;++f9){ga[f9].marker.attachLine(f8)}f8.markedSpans=ga}function v(f8){return f8.inclusiveLeft?-1:0}function bV(f8){return f8.inclusiveRight?1:0}function dM(gb,f9){var gd=gb.lines.length-f9.lines.length;if(gd!=0){return gd}var ga=gb.find(),ge=f9.find();var f8=ce(ga.from,ge.from)||v(gb)-v(f9);if(f8){return -f8}var gc=ce(ga.to,ge.to)||bV(gb)-bV(f9);if(gc){return gc}return f9.id-gb.id}function a3(f9,gd){var f8=a4&&f9.markedSpans,gc;if(f8){for(var gb,ga=0;ga<f8.length;++ga){gb=f8[ga];if(gb.marker.collapsed&&(gd?gb.from:gb.to)==null&&(!gc||dM(gc,gb.marker)<0)){gc=gb.marker}}}return gc}function eK(f8){return a3(f8,true)}function er(f8){return a3(f8,false)}function z(gg,ga,ge,gf,gc){var gj=fb(gg,ga);var f8=a4&&gj.markedSpans;if(f8){for(var gb=0;gb<f8.length;++gb){var f9=f8[gb];if(!f9.marker.collapsed){continue}var gi=f9.marker.find(0);var gh=ce(gi.from,ge)||v(f9.marker)-v(gc);var gd=ce(gi.to,gf)||bV(f9.marker)-bV(gc);if(gh>=0&&gd<=0||gh<=0&&gd>=0){continue}if(gh<=0&&(ce(gi.to,ge)>0||(f9.marker.inclusiveRight&&gc.inclusiveLeft))||gh>=0&&(ce(gi.from,gf)<0||(f9.marker.inclusiveLeft&&gc.inclusiveRight))){return true}}}}function y(f9){var f8;while(f8=eK(f9)){f9=f8.find(-1,true).line}return f9}function h(ga){var f8,f9;while(f8=er(ga)){ga=f8.find(1,true).line;(f9||(f9=[])).push(ga)}return f9}function aT(gb,f9){var f8=fb(gb,f9),ga=y(f8);if(f8==ga){return f9}return bM(ga)}function dZ(gb,ga){if(ga>gb.lastLine()){return ga}var f9=fb(gb,ga),f8;if(!ft(gb,f9)){return ga}while(f8=er(f9)){f9=f8.find(1,true).line}return bM(f9)+1}function ft(gc,f9){var f8=a4&&f9.markedSpans;if(f8){for(var gb,ga=0;ga<f8.length;++ga){gb=f8[ga];if(!gb.marker.collapsed){continue}if(gb.from==null){return true}if(gb.marker.widgetNode){continue}if(gb.from==0&&gb.marker.inclusiveLeft&&U(gc,f9,gb)){return true}}}}function U(gd,f9,gb){if(gb.to==null){var f8=gb.marker.find(1,true);return U(gd,f8.line,e5(f8.line.markedSpans,gb.marker))}if(gb.marker.inclusiveRight&&gb.to==f9.text.length){return true}for(var gc,ga=0;ga<f9.markedSpans.length;++ga){gc=f9.markedSpans[ga];if(gc.marker.collapsed&&!gc.marker.widgetNode&&gc.from==gb.to&&(gc.to==null||gc.to!=gb.from)&&(gc.marker.inclusiveLeft||gb.marker.inclusiveRight)&&U(gd,f9,gc)){return true}}}var dy=I.LineWidget=function(f8,gb,f9){if(f9){for(var ga in f9){if(f9.hasOwnProperty(ga)){this[ga]=f9[ga]}}}this.cm=f8;this.node=gb};bx(dy);function dW(f8,f9,ga){if(bL(f9)<((f8.curOp&&f8.curOp.scrollTop)||f8.doc.scrollTop)){cJ(f8,null,ga)}}dy.prototype.clear=function(){var f9=this.cm,gb=this.line.widgets,ga=this.line,gd=bM(ga);if(gd==null||!gb){return}for(var gc=0;gc<gb.length;++gc){if(gb[gc]==this){gb.splice(gc--,1)}}if(!gb.length){ga.widgets=null}var f8=cW(this);cK(f9,function(){dW(f9,ga,-f8);S(f9,gd,"widget");fW(ga,Math.max(0,ga.height-f8))})};dy.prototype.changed=function(){var f9=this.height,f8=this.cm,ga=this.line;this.height=null;var gb=cW(this)-f9;if(!gb){return}cK(f8,function(){f8.curOp.forceUpdate=true;dW(f8,ga,gb);fW(ga,ga.height+gb)})};function cW(f9){if(f9.height!=null){return f9.height}if(!f1(document.body,f9.node)){var f8="position: relative;";if(f9.coverGutter){f8+="margin-left: -"+f9.cm.display.gutters.offsetWidth+"px;"}if(f9.noHScroll){f8+="width: "+f9.cm.display.wrapper.clientWidth+"px;"}bQ(f9.cm.display.measure,fT("div",[f9.node],null,f8))}return f9.height=f9.node.offsetHeight}function bG(f8,gc,ga,f9){var gb=new dy(f8,ga,f9);if(gb.noHScroll){f8.display.alignWidgets=true}eu(f8.doc,gc,"widget",function(ge){var gf=ge.widgets||(ge.widgets=[]);if(gb.insertAt==null){gf.push(gb)}else{gf.splice(Math.min(gf.length-1,Math.max(0,gb.insertAt)),0,gb)}gb.line=ge;if(!ft(f8.doc,ge)){var gd=bL(ge)<f8.doc.scrollTop;fW(ge,ge.height+cW(gb));if(gd){cJ(f8,null,gb.height)}f8.curOp.forceUpdate=true}return true});return gb}var fX=I.Line=function(ga,f9,f8){this.text=ga;c1(this,f9);this.height=f8?f8(this):1};bx(fX);fX.prototype.lineNo=function(){return bM(this)};function ei(f9,gc,ga,f8){f9.text=gc;if(f9.stateAfter){f9.stateAfter=null}if(f9.styles){f9.styles=null}if(f9.order!=null){f9.order=null}fZ(f9);c1(f9,ga);var gb=f8?f8(f9):1;if(gb!=f9.height){fW(f9,gb)}}function bA(f8){f8.parent=null;fZ(f8)}function dg(ga,f9){if(ga){for(;;){var f8=ga.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f8){break}ga=ga.slice(0,f8.index)+ga.slice(f8.index+f8[0].length);var gb=f8[1]?"bgClass":"textClass";if(f9[gb]==null){f9[gb]=f8[2]}else{if(!(new RegExp("(?:^|s)"+f8[2]+"(?:$|s)")).test(f9[gb])){f9[gb]+=" "+f8[2]}}}}return ga}function fn(ga,f9){if(ga.blankLine){return ga.blankLine(f9)}if(!ga.innerMode){return}var f8=I.innerMode(ga,f9);if(f8.mode.blankLine){return f8.mode.blankLine(f8.state)}}function ew(gd,gc,gb,f8,ge){for(var f9=0;f9<10;f9++){if(f8){f8[0]=I.innerMode(gd,gb).mode}var ga=gd.token(gc,gb,ge);if(gc.pos>gc.start){return ga}}throw new Error("Mode "+gd.name+" failed to advance stream.")}function cq(gh,gf,gc,gb){function f8(gk){return{start:gi.start,end:gi.pos,string:gi.current(),type:ga||null,state:gk?b2(gg.mode,f9):f9}}var gg=gh.doc,gd=gg.mode,ga;gf=fG(gg,gf);var gj=fb(gg,gf.line),f9=dx(gh,gf.line,gc);var gi=new eP(gj.text,gh.options.tabSize),ge;if(gb){ge=[]}while((gb||gi.pos<gf.ch)&&!gi.eol()){gi.start=gi.pos;ga=ew(gd,gi,f9,undefined,gf.line);if(gb){ge.push(f8(true))}}return gb?ge:f8()}function w(gj,gl,ge,f9,gf,gb,gd,gc){var ga=ge.flattenSpans;if(ga==null){ga=gj.options.flattenSpans}var gh=0,gg=null;var gk=new eP(gl,gj.options.tabSize),f8;var gn=gj.options.addModeClass&&[null];if(gl==""){dg(fn(ge,f9),gb)}while(!gk.eol()){if(gk.pos>gj.options.maxHighlightLength){ga=false;if(gd){dt(gj,gl,f9,gk.pos)}gk.pos=gl.length;f8=null}else{f8=dg(ew(ge,gk,f9,gn,gc),gb)}if(gn){var gm=gn[0].name;if(gm){f8="m-"+(f8?gm+" "+f8:gm)}}if(!ga||gg!=f8){while(gh<gk.start){gh=Math.min(gk.start,gh+50000);gf(gh,gg)}gg=f8}gk.start=gk.pos}while(gh<gk.pos){var gi=Math.min(gk.pos,gh+50000);gf(gi,gg);gh=gi}}function fw(gf,gh,f8,gc){var gg=[gf.state.modeGen],gb={};w(gf,gh.text,gf.doc.mode,f8,function(gi,gj){gg.push(gi,gj)},gb,gc,gh.lineNo());for(var f9=0;f9<gf.state.overlays.length;++f9){var gd=gf.state.overlays[f9],ge=1,ga=0;w(gf,gh.text,gd.mode,true,function(gi,gk){var gm=ge;while(ga<gi){var gj=gg[ge];if(gj>gi){gg.splice(ge,1,gi,gg[ge+1],gj)}ge+=2;ga=Math.min(gi,gj)}if(!gk){return}if(gd.opaque){gg.splice(gm,ge-gm,gi,"cm-overlay "+gk);ge=gm+2}else{for(;gm<ge;gm+=2){var gl=gg[gm+1];gg[gm+1]=(gl?gl+" ":"")+"cm-overlay "+gk}}},gb,undefined,gh.lineNo())}return{styles:gg,classes:gb.bgClass||gb.textClass?gb:null}}function c4(f9,ga,gb){if(!ga.styles||ga.styles[0]!=f9.state.modeGen){var f8=fw(f9,ga,ga.stateAfter=dx(f9,bM(ga)));ga.styles=f8.styles;if(f8.classes){ga.styleClasses=f8.classes}else{if(ga.styleClasses){ga.styleClasses=null}}if(gb===f9.doc.frontier){f9.doc.frontier++}}return ga.styles}function dt(f8,gd,ga,f9,ge){var gc=f8.doc.mode;var gb=new eP(gd,f8.options.tabSize);gb.start=gb.pos=f9||0;if(gd==""){fn(gc,ga)}while(!gb.eol()&&gb.pos<=f8.options.maxHighlightLength){ew(gc,gb,ga,undefined,ge);gb.start=gb.pos}}var dS={},b0={};function eS(ga,f9){if(!ga||/^\s*$/.test(ga)){return null}var f8=f9.addModeClass?b0:dS;return f8[ga]||(f8[ga]=ga.replace(/\S+/g,"cm-$&"))}function eN(f9,gd){var ge=fT("span",null,null,cY?"padding-right: .1px":null);var gb={pre:fT("pre",[ge]),content:ge,col:0,pos:0,cm:f9};gd.measure={};for(var gc=0;gc<=(gd.rest?gd.rest.length:0);gc++){var ga=gc?gd.rest[gc-1]:gd.line,f8;gb.pos=0;gb.addToken=t;if((dG||cY)&&f9.getOption("lineWrapping")){gb.addToken=fC(gb.addToken)}if(bN(f9.display.measure)&&(f8=a(ga))){gb.addToken=V(gb.addToken,f8)}gb.map=[];var gf=gd!=f9.display.externalMeasured&&bM(ga);bn(ga,gb,c4(f9,ga,gf));if(ga.styleClasses){if(ga.styleClasses.bgClass){gb.bgClass=fO(ga.styleClasses.bgClass,gb.bgClass||"")}if(ga.styleClasses.textClass){gb.textClass=fO(ga.styleClasses.textClass,gb.textClass||"")}}if(gb.map.length==0){gb.map.push(0,0,gb.content.appendChild(bm(f9.display.measure)))}if(gc==0){gd.measure.map=gb.map;gd.measure.cache={}}else{(gd.measure.maps||(gd.measure.maps=[])).push(gb.map);(gd.measure.caches||(gd.measure.caches=[])).push({})}}if(cY&&/\bcm-tab\b/.test(gb.content.lastChild.className)){gb.content.className="cm-tab-wrap-hack"}aC(f9,"renderLine",f9,gd.line,gb.pre);if(gb.pre.className){gb.textClass=fO(gb.pre.className,gb.textClass||"")}return gb}function e8(f9){var f8=fT("span","\u2022","cm-invalidchar");f8.title="\\u"+f9.charCodeAt(0).toString(16);return f8}function t(gj,ge,gn,gl,gh,gp,gd){if(!ge){return}var f8=gj.cm.options.specialChars,f9=false;if(!f8.test(ge)){gj.col+=ge.length;var gm=document.createTextNode(ge);gj.map.push(gj.pos,gj.pos+ge.length,gm);if(dG&&k<9){f9=true}gj.pos+=ge.length}else{var gm=document.createDocumentFragment(),gb=0;while(true){f8.lastIndex=gb;var gk=f8.exec(ge);var go=gk?gk.index-gb:ge.length-gb;if(go){var gg=document.createTextNode(ge.slice(gb,gb+go));if(dG&&k<9){gm.appendChild(fT("span",[gg]))}else{gm.appendChild(gg)}gj.map.push(gj.pos,gj.pos+go,gg);gj.col+=go;gj.pos+=go}if(!gk){break}gb+=go+1;if(gk[0]=="\t"){var gi=gj.cm.options.tabSize,gf=gi-gj.col%gi;var gg=gm.appendChild(fT("span",cp(gf),"cm-tab"));gj.col+=gf}else{var gg=gj.cm.options.specialCharPlaceholder(gk[0]);if(dG&&k<9){gm.appendChild(fT("span",[gg]))}else{gm.appendChild(gg)}gj.col+=1}gj.map.push(gj.pos,gj.pos+1,gg);gj.pos++}}if(gn||gl||gh||f9||gd){var ga=gn||"";if(gl){ga+=gl}if(gh){ga+=gh}var gc=fT("span",[gm],ga,gd);if(gp){gc.title=gp}return gj.content.appendChild(gc)}gj.content.appendChild(gm)}function fC(f8){function f9(ga){var gb=" ";for(var gc=0;gc<ga.length-2;++gc){gb+=gc%2?" ":"\u00a0"}gb+=" ";return gb}return function(gb,gf,gc,ga,ge,gd){f8(gb,gf.replace(/ {3,}/g,f9),gc,ga,ge,gd)}}function V(f9,f8){return function(gg,gi,ga,ge,gj,gh){ga=ga?ga+" cm-force-border":"cm-force-border";var gb=gg.pos,gd=gb+gi.length;for(;;){for(var gf=0;gf<f8.length;gf++){var gc=f8[gf];if(gc.to>gb&&gc.from<=gb){break}}if(gc.to>=gd){return f9(gg,gi,ga,ge,gj,gh)}f9(gg,gi.slice(0,gc.to-gb),ga,ge,null,gh);ge=null;gi=gi.slice(gc.to-gb);gb=gc.to}}}function ab(f9,gb,f8,ga){var gc=!ga&&f8.widgetNode;if(gc){f9.map.push(f9.pos,f9.pos+gb,gc);f9.content.appendChild(gc)}f9.pos+=gb}function bn(gh,go,gg){var gd=gh.markedSpans,gf=gh.text,gm=0;if(!gd){for(var gr=1;gr<gg.length;gr+=2){go.addToken(go,gf.slice(gm,gm=gg[gr]),eS(gg[gr+1],go.cm.options))}return}var gs=gf.length,gc=0,gr=1,gk="",gt,gi;var gv=0,f8,gu,gl,gw,ga;for(;;){if(gv==gc){f8=gu=gl=gw=gi="";ga=null;gv=Infinity;var ge=[];for(var gp=0;gp<gd.length;++gp){var gq=gd[gp],gn=gq.marker;if(gq.from<=gc&&(gq.to==null||gq.to>gc)){if(gq.to!=null&&gv>gq.to){gv=gq.to;gu=""}if(gn.className){f8+=" "+gn.className}if(gn.css){gi=gn.css}if(gn.startStyle&&gq.from==gc){gl+=" "+gn.startStyle}if(gn.endStyle&&gq.to==gv){gu+=" "+gn.endStyle}if(gn.title&&!gw){gw=gn.title}if(gn.collapsed&&(!ga||dM(ga.marker,gn)<0)){ga=gq}}else{if(gq.from>gc&&gv>gq.from){gv=gq.from}}if(gn.type=="bookmark"&&gq.from==gc&&gn.widgetNode){ge.push(gn)}}if(ga&&(ga.from||0)==gc){ab(go,(ga.to==null?gs+1:ga.to)-gc,ga.marker,ga.from==null);if(ga.to==null){return}}if(!ga&&ge.length){for(var gp=0;gp<ge.length;++gp){ab(go,0,ge[gp])}}}if(gc>=gs){break}var gj=Math.min(gs,gv);while(true){if(gk){var f9=gc+gk.length;if(!ga){var gb=f9>gj?gk.slice(0,gj-gc):gk;go.addToken(go,gb,gt?gt+f8:f8,gl,gc+gb.length==gv?gu:"",gw,gi)}if(f9>=gj){gk=gk.slice(gj-gc);gc=gj;break}gc=f9;gl=""}gk=gf.slice(gm,gm=gg[gr++]);gt=eS(gg[gr++],go.cm.options)}}}function dO(f8,f9){return f9.from.ch==0&&f9.to.ch==0&&fE(f9.text)==""&&(!f8.cm||f8.cm.options.wholeLineUpdateBefore)}function fv(gl,gg,f9,gc){function gm(go){return f9?f9[go]:null}function ga(go,gq,gp){ei(go,gq,gp,gc);ad(go,"change",go,gg)}function f8(gr,gp){for(var gq=gr,go=[];gq<gp;++gq){go.push(new fX(gn[gq],gm(gq),gc))}return go}var gk=gg.from,gj=gg.to,gn=gg.text;var gh=fb(gl,gk.line),gi=fb(gl,gj.line);var gf=fE(gn),gb=gm(gn.length-1),ge=gj.line-gk.line;if(gg.full){gl.insert(0,f8(0,gn.length));gl.remove(gn.length,gl.size-gn.length)}else{if(dO(gl,gg)){var gd=f8(0,gn.length-1);ga(gi,gi.text,gb);if(ge){gl.remove(gk.line,ge)}if(gd.length){gl.insert(gk.line,gd)}}else{if(gh==gi){if(gn.length==1){ga(gh,gh.text.slice(0,gk.ch)+gf+gh.text.slice(gj.ch),gb)}else{var gd=f8(1,gn.length-1);gd.push(new fX(gf+gh.text.slice(gj.ch),gb,gc));ga(gh,gh.text.slice(0,gk.ch)+gn[0],gm(0));gl.insert(gk.line+1,gd)}}else{if(gn.length==1){ga(gh,gh.text.slice(0,gk.ch)+gn[0]+gi.text.slice(gj.ch),gm(0));gl.remove(gk.line+1,ge)}else{ga(gh,gh.text.slice(0,gk.ch)+gn[0],gm(0));ga(gi,gf+gi.text.slice(gj.ch),gb);var gd=f8(1,gn.length-1);if(ge>1){gl.remove(gk.line+1,ge-1)}gl.insert(gk.line+1,gd)}}}}ad(gl,"change",gl,gg)}function eV(f9){this.lines=f9;this.parent=null;for(var ga=0,f8=0;ga<f9.length;++ga){f9[ga].parent=this;f8+=f9[ga].height}this.height=f8}eV.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f8,gc){for(var ga=f8,gb=f8+gc;ga<gb;++ga){var f9=this.lines[ga];this.height-=f9.height;bA(f9);ad(f9,"delete")}this.lines.splice(f8,gc)},collapse:function(f8){f8.push.apply(f8,this.lines)},insertInner:function(f9,ga,f8){this.height+=f8;this.lines=this.lines.slice(0,f9).concat(ga).concat(this.lines.slice(f9));for(var gb=0;gb<ga.length;++gb){ga[gb].parent=this}},iterN:function(f8,gb,ga){for(var f9=f8+gb;f8<f9;++f8){if(ga(this.lines[f8])){return true}}}};function fu(gb){this.children=gb;var ga=0,f8=0;for(var f9=0;f9<gb.length;++f9){var gc=gb[f9];ga+=gc.chunkSize();f8+=gc.height;gc.parent=this}this.size=ga;this.height=f8;this.parent=null}fu.prototype={chunkSize:function(){return this.size},removeInner:function(f8,gf){this.size-=gf;for(var ga=0;ga<this.children.length;++ga){var ge=this.children[ga],gc=ge.chunkSize();if(f8<gc){var gb=Math.min(gf,gc-f8),gd=ge.height;ge.removeInner(f8,gb);this.height-=gd-ge.height;if(gc==gb){this.children.splice(ga--,1);ge.parent=null}if((gf-=gb)==0){break}f8=0}else{f8-=gc}}if(this.size-gf<25&&(this.children.length>1||!(this.children[0] instanceof eV))){var f9=[];this.collapse(f9);this.children=[new eV(f9)];this.children[0].parent=this}},collapse:function(f8){for(var f9=0;f9<this.children.length;++f9){this.children[f9].collapse(f8)}},insertInner:function(f9,ga,f8){this.size+=ga.length;this.height+=f8;for(var gd=0;gd<this.children.length;++gd){var gf=this.children[gd],ge=gf.chunkSize();if(f9<=ge){gf.insertInner(f9,ga,f8);if(gf.lines&&gf.lines.length>50){while(gf.lines.length>50){var gc=gf.lines.splice(gf.lines.length-25,25);var gb=new eV(gc);gf.height-=gb.height;this.children.splice(gd+1,0,gb);gb.parent=this}this.maybeSpill()}break}f9-=ge}},maybeSpill:function(){if(this.children.length<=10){return}var gb=this;do{var f9=gb.children.splice(gb.children.length-5,5);var ga=new fu(f9);if(!gb.parent){var gc=new fu(gb.children);gc.parent=gb;gb.children=[gc,ga];gb=gc}else{gb.size-=ga.size;gb.height-=ga.height;var f8=df(gb.parent.children,gb);gb.parent.children.splice(f8+1,0,ga)}ga.parent=gb.parent}while(gb.children.length>10);gb.parent.maybeSpill()},iterN:function(f8,ge,gd){for(var f9=0;f9<this.children.length;++f9){var gc=this.children[f9],gb=gc.chunkSize();if(f8<gb){var ga=Math.min(ge,gb-f8);if(gc.iterN(f8,ga,gd)){return true}if((ge-=ga)==0){break}f8=0}else{f8-=gb}}}};var cr=0;var ar=I.Doc=function(ga,f9,f8){if(!(this instanceof ar)){return new ar(ga,f9,f8)}if(f8==null){f8=0}fu.call(this,[new eV([new fX("",null)])]);this.first=f8;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=f8;var gb=X(f8,0);this.sel=eO(gb);this.history=new fP(null);this.id=++cr;this.modeOption=f9;if(typeof ga=="string"){ga=aX(ga)}fv(this,{from:gb,to:gb,text:ga});bT(this,eO(gb),Z)};ar.prototype=ck(fu.prototype,{constructor:ar,iter:function(ga,f9,f8){if(f8){this.iterN(ga-this.first,f9-ga,f8)}else{this.iterN(this.first,this.first+this.size,ga)}},insert:function(f9,ga){var f8=0;for(var gb=0;gb<ga.length;++gb){f8+=ga[gb].height}this.insertInner(f9-this.first,ga,f8)},remove:function(f8,f9){this.removeInner(f8-this.first,f9)},getValue:function(f9){var f8=aZ(this,this.first,this.first+this.size);if(f9===false){return f8}return f8.join(f9||"\n")},setValue:cC(function(f9){var ga=X(this.first,0),f8=this.first+this.size-1;bd(this,{from:ga,to:X(f8,fb(this,f8).text.length),text:aX(f9),origin:"setValue",full:true},true);bT(this,eO(ga))}),replaceRange:function(f9,gb,ga,f8){gb=fG(this,gb);ga=ga?fG(this,ga):gb;aY(this,f9,gb,ga,f8)},getRange:function(gb,ga,f9){var f8=fV(this,fG(this,gb),fG(this,ga));if(f9===false){return f8}return f8.join(f9||"\n")},getLine:function(f9){var f8=this.getLineHandle(f9);return f8&&f8.text},getLineHandle:function(f8){if(b8(this,f8)){return fb(this,f8)}},getLineNumber:function(f8){return bM(f8)},getLineHandleVisualStart:function(f8){if(typeof f8=="number"){f8=fb(this,f8)}return y(f8)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f8){return fG(this,f8)},getCursor:function(ga){var f8=this.sel.primary(),f9;if(ga==null||ga=="head"){f9=f8.head}else{if(ga=="anchor"){f9=f8.anchor}else{if(ga=="end"||ga=="to"||ga===false){f9=f8.to()}else{f9=f8.from()}}}return f9},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cC(function(f8,ga,f9){G(this,fG(this,typeof f8=="number"?X(f8,ga||0):f8),null,f9)}),setSelection:cC(function(f9,ga,f8){G(this,fG(this,f9),fG(this,ga||f9),f8)}),extendSelection:cC(function(ga,f8,f9){fQ(this,fG(this,ga),f8&&fG(this,f8),f9)}),extendSelections:cC(function(f9,f8){av(this,dV(this,f9,f8))}),extendSelectionsBy:cC(function(f9,f8){av(this,bR(this.sel.ranges,f9),f8)}),setSelections:cC(function(f8,gc,ga){if(!f8.length){return}for(var gb=0,f9=[];gb<f8.length;gb++){f9[gb]=new dU(fG(this,f8[gb].anchor),fG(this,f8[gb].head))}if(gc==null){gc=Math.min(f8.length-1,this.sel.primIndex)}bT(this,cw(f9,gc),ga)}),addSelection:cC(function(ga,gb,f9){var f8=this.sel.ranges.slice(0);f8.push(new dU(fG(this,ga),fG(this,gb||ga)));bT(this,cw(f8,f8.length-1),f9)}),getSelection:function(gc){var f9=this.sel.ranges,f8;for(var ga=0;ga<f9.length;ga++){var gb=fV(this,f9[ga].from(),f9[ga].to());f8=f8?f8.concat(gb):gb}if(gc===false){return f8}else{return f8.join(gc||"\n")}},getSelections:function(gc){var gb=[],f8=this.sel.ranges;for(var f9=0;f9<f8.length;f9++){var ga=fV(this,f8[f9].from(),f8[f9].to());if(gc!==false){ga=ga.join(gc||"\n")}gb[f9]=ga}return gb},replaceSelection:function(ga,gc,f8){var gb=[];for(var f9=0;f9<this.sel.ranges.length;f9++){gb[f9]=ga}this.replaceSelections(gb,gc,f8||"+input")},replaceSelections:cC(function(gd,gf,ga){var gc=[],ge=this.sel;for(var gb=0;gb<ge.ranges.length;gb++){var f9=ge.ranges[gb];gc[gb]={from:f9.from(),to:f9.to(),text:aX(gd[gb]),origin:ga}}var f8=gf&&gf!="end"&&ae(this,gc,gf);for(var gb=gc.length-1;gb>=0;gb--){bd(this,gc[gb])}if(f8){e3(this,f8)}else{if(this.cm){fD(this.cm)}}}),undo:cC(function(){var f8=this.cm;b7(this,"undo");if(f8.onRefreshTimer){clearTimeout(f8.onRefreshTimer)}f8.onRefreshTimer=setTimeout(function(){delete f8.onRefreshTimer;f8.refresh()},10)}),redo:cC(function(){var f8=this.cm;b7(this,"redo");if(f8.onRefreshTimer){clearTimeout(f8.onRefreshTimer)}f8.onRefreshTimer=setTimeout(function(){delete f8.onRefreshTimer;f8.refresh()},10)}),undoSelection:cC(function(){b7(this,"undo",true)}),redoSelection:cC(function(){b7(this,"redo",true)}),setExtending:function(f8){this.extend=f8},getExtending:function(){return this.extend},historySize:function(){var gb=this.history,f8=0,ga=0;for(var f9=0;f9<gb.done.length;f9++){if(!gb.done[f9].ranges){++f8}}for(var f9=0;f9<gb.undone.length;f9++){if(!gb.undone[f9].ranges){++ga}}return{undo:f8,redo:ga}},clearHistory:function(){this.history=new fP(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(f8){if(f8){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(f8){return this.history.generation==(f8||this.cleanGeneration)},getHistory:function(){return{done:bO(this.history.done),undone:bO(this.history.undone)}},setHistory:function(f9){var f8=this.history=new fP(this.history.maxGeneration);f8.done=bO(f9.done.slice(0),null,true);f8.undone=bO(f9.undone.slice(0),null,true)},addLineClass:cC(function(ga,f9,f8){return eu(this,ga,f9=="gutter"?"gutter":"class",function(gb){var gc=f9=="text"?"textClass":f9=="background"?"bgClass":f9=="gutter"?"gutterClass":"wrapClass";if(!gb[gc]){gb[gc]=f8}else{if(T(f8).test(gb[gc])){return false}else{gb[gc]+=" "+f8}}return true})}),removeLineClass:cC(function(ga,f9,f8){return eu(this,ga,f9=="gutter"?"gutter":"class",function(gc){var gf=f9=="text"?"textClass":f9=="background"?"bgClass":f9=="gutter"?"gutterClass":"wrapClass";var ge=gc[gf];if(!ge){return false}else{if(f8==null){gc[gf]=null}else{var gd=ge.match(T(f8));if(!gd){return false}var gb=gd.index+gd[0].length;gc[gf]=ge.slice(0,gd.index)+(!gd.index||gb==ge.length?"":" ")+ge.slice(gb)||null}}return true})}),markText:function(ga,f9,f8){return eB(this,fG(this,ga),fG(this,f9),f8,"range")},setBookmark:function(ga,f8){var f9={replacedWith:f8&&(f8.nodeType==null?f8.widget:f8),insertLeft:f8&&f8.insertLeft,clearWhenEmpty:false,shared:f8&&f8.shared};ga=fG(this,ga);return eB(this,ga,ga,f9,"bookmark")},findMarksAt:function(gc){gc=fG(this,gc);var gb=[],f9=fb(this,gc.line).markedSpans;if(f9){for(var f8=0;f8<f9.length;++f8){var ga=f9[f8];if((ga.from==null||ga.from<=gc.ch)&&(ga.to==null||ga.to>=gc.ch)){gb.push(ga.marker.parent||ga.marker)}}}return gb},findMarks:function(gc,gb,f8){gc=fG(this,gc);gb=fG(this,gb);var f9=[],ga=gc.line;this.iter(gc.line,gb.line+1,function(gd){var gf=gd.markedSpans;if(gf){for(var ge=0;ge<gf.length;ge++){var gg=gf[ge];if(!(ga==gc.line&&gc.ch>gg.to||gg.from==null&&ga!=gc.line||ga==gb.line&&gg.from>gb.ch)&&(!f8||f8(gg.marker))){f9.push(gg.marker.parent||gg.marker)}}}++ga});return f9},getAllMarks:function(){var f8=[];this.iter(function(ga){var f9=ga.markedSpans;if(f9){for(var gb=0;gb<f9.length;++gb){if(f9[gb].from!=null){f8.push(f9[gb].marker)}}}});return f8},posFromIndex:function(f9){var f8,ga=this.first;this.iter(function(gb){var gc=gb.text.length+1;if(gc>f9){f8=f9;return true}f9-=gc;++ga});return fG(this,X(ga,f8))},indexFromPos:function(f9){f9=fG(this,f9);var f8=f9.ch;if(f9.line<this.first||f9.ch<0){return 0}this.iter(this.first,f9.line,function(ga){f8+=ga.text.length+1});return f8},copy:function(f8){var f9=new ar(aZ(this,this.first,this.first+this.size),this.modeOption,this.first);f9.scrollTop=this.scrollTop;f9.scrollLeft=this.scrollLeft;f9.sel=this.sel;f9.extend=false;if(f8){f9.history.undoDepth=this.history.undoDepth;f9.setHistory(this.getHistory())}return f9},linkedDoc:function(f8){if(!f8){f8={}}var gb=this.first,ga=this.first+this.size;if(f8.from!=null&&f8.from>gb){gb=f8.from}if(f8.to!=null&&f8.to<ga){ga=f8.to}var f9=new ar(aZ(this,gb,ga),f8.mode||this.modeOption,gb);if(f8.sharedHist){f9.history=this.history}(this.linked||(this.linked=[])).push({doc:f9,sharedHist:f8.sharedHist});f9.linked=[{doc:this,isParent:true,sharedHist:f8.sharedHist}];dB(f9,eL(this));return f9},unlinkDoc:function(f9){if(f9 instanceof I){f9=f9.doc}if(this.linked){for(var ga=0;ga<this.linked.length;++ga){var gb=this.linked[ga];if(gb.doc!=f9){continue}this.linked.splice(ga,1);f9.unlinkDoc(this);ek(eL(this));break}}if(f9.history==this.history){var f8=[f9.id];d3(f9,function(gc){f8.push(gc.id)},true);f9.history=new fP(null);f9.history.done=bO(this.history.done,f8);f9.history.undone=bO(this.history.undone,f8)}},iterLinkedDocs:function(f8){d3(this,f8)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});ar.prototype.eachLine=ar.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var bJ in ar.prototype){if(ar.prototype.hasOwnProperty(bJ)&&df(d,bJ)<0){I.prototype[bJ]=(function(f8){return function(){return f8.apply(this.doc,arguments)}})(ar.prototype[bJ])}}bx(ar);function d3(gb,ga,f9){function f8(gh,gf,gd){if(gh.linked){for(var ge=0;ge<gh.linked.length;++ge){var gc=gh.linked[ge];if(gc.doc==gf){continue}var gg=gd&&gc.sharedHist;if(f9&&!gg){continue}ga(gc.doc,gg);f8(gc.doc,gh,gg)}}}f8(gb,null,true)}function d7(f8,f9){if(f9.cm){throw new Error("This document is already in use.")}f8.doc=f9;f9.cm=f8;Y(f8);bq(f8);if(!f8.options.lineWrapping){g(f8)}f8.options.mode=f9.modeOption;ag(f8)}function fb(gb,gd){gd-=gb.first;if(gd<0||gd>=gb.size){throw new Error("There is no line "+(gd+gb.first)+" in the document.")}for(var f8=gb;!f8.lines;){for(var f9=0;;++f9){var gc=f8.children[f9],ga=gc.chunkSize();if(gd<ga){f8=gc;break}gd-=ga}}return f8.lines[gd]}function fV(ga,gc,f8){var f9=[],gb=gc.line;ga.iter(gc.line,f8.line+1,function(gd){var ge=gd.text;if(gb==f8.line){ge=ge.slice(0,f8.ch)}if(gb==gc.line){ge=ge.slice(gc.ch)}f9.push(ge);++gb});return f9}function aZ(f9,gb,ga){var f8=[];f9.iter(gb,ga,function(gc){f8.push(gc.text)});return f8}function fW(f9,f8){var ga=f8-f9.height;if(ga){for(var gb=f9;gb;gb=gb.parent){gb.height+=ga}}}function bM(f8){if(f8.parent==null){return null}var gc=f8.parent,gb=df(gc.lines,f8);for(var f9=gc.parent;f9;gc=f9,f9=f9.parent){for(var ga=0;;++ga){if(f9.children[ga]==gc){break}gb+=f9.children[ga].chunkSize()}}return gb+gc.first}function bF(ga,gd){var gf=ga.first;outer:do{for(var gb=0;gb<ga.children.length;++gb){var ge=ga.children[gb],gc=ge.height;if(gd<gc){ga=ge;continue outer}gd-=gc;gf+=ge.chunkSize()}return gf}while(!ga.lines);for(var gb=0;gb<ga.lines.length;++gb){var f9=ga.lines[gb],f8=f9.height;if(gd<f8){break}gd-=f8}return gf+gb}function bL(ga){ga=y(ga);var gc=0,f9=ga.parent;for(var gb=0;gb<f9.lines.length;++gb){var f8=f9.lines[gb];if(f8==ga){break}else{gc+=f8.height}}for(var gd=f9.parent;gd;f9=gd,gd=f9.parent){for(var gb=0;gb<gd.children.length;++gb){var ge=gd.children[gb];if(ge==f9){break}else{gc+=ge.height}}}return gc}function a(f9){var f8=f9.order;if(f8==null){f8=f9.order=be(f9.text)}return f8}function fP(f8){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=f8||1}function dr(f8,ga){var f9={from:ci(ga.from),to:cV(ga),text:fV(f8,ga.from,ga.to)};bX(f8,f9,ga.from.line,ga.to.line+1);d3(f8,function(gb){bX(gb,f9,ga.from.line,ga.to.line+1)},true);return f9}function fy(f9){while(f9.length){var f8=fE(f9);if(f8.ranges){f9.pop()}else{break}}}function eI(f9,f8){if(f8){fy(f9.done);return fE(f9.done)}else{if(f9.done.length&&!fE(f9.done).ranges){return fE(f9.done)}else{if(f9.done.length>1&&!f9.done[f9.done.length-2].ranges){f9.done.pop();return fE(f9.done)}}}}function fJ(ge,gc,f8,gb){var ga=ge.history;ga.undone.length=0;var f9=+new Date,gf;if((ga.lastOp==gb||ga.lastOrigin==gc.origin&&gc.origin&&((gc.origin.charAt(0)=="+"&&ge.cm&&ga.lastModTime>f9-ge.cm.options.historyEventDelay)||gc.origin.charAt(0)=="*"))&&(gf=eI(ga,ga.lastOp==gb))){var gg=fE(gf.changes);if(ce(gc.from,gc.to)==0&&ce(gc.from,gg.to)==0){gg.to=cV(gc)}else{gf.changes.push(dr(ge,gc))}}else{var gd=fE(ga.done);if(!gd||!gd.ranges){cL(ge.sel,ga.done)}gf={changes:[dr(ge,gc)],generation:ga.generation};ga.done.push(gf);while(ga.done.length>ga.undoDepth){ga.done.shift();if(!ga.done[0].ranges){ga.done.shift()}}}ga.done.push(f8);ga.generation=++ga.maxGeneration;ga.lastModTime=ga.lastSelTime=f9;ga.lastOp=ga.lastSelOp=gb;ga.lastOrigin=ga.lastSelOrigin=gc.origin;if(!gg){aC(ge,"historyAdded")}}function bz(gc,f8,ga,gb){var f9=f8.charAt(0);return f9=="*"||f9=="+"&&ga.ranges.length==gb.ranges.length&&ga.somethingSelected()==gb.somethingSelected()&&new Date-gc.history.lastSelTime<=(gc.cm?gc.cm.options.historyEventDelay:500)}function f2(gd,gb,f8,ga){var gc=gd.history,f9=ga&&ga.origin;if(f8==gc.lastSelOp||(f9&&gc.lastSelOrigin==f9&&(gc.lastModTime==gc.lastSelTime&&gc.lastOrigin==f9||bz(gd,f9,fE(gc.done),gb)))){gc.done[gc.done.length-1]=gb}else{cL(gb,gc.done)}gc.lastSelTime=+new Date;gc.lastSelOrigin=f9;gc.lastSelOp=f8;if(ga&&ga.clearRedo!==false){fy(gc.undone)}}function cL(f9,f8){var ga=fE(f8);if(!(ga&&ga.ranges&&ga.equals(f9))){f8.push(f9)}}function bX(f9,gd,gc,gb){var f8=gd["spans_"+f9.id],ga=0;f9.iter(Math.max(f9.first,gc),Math.min(f9.first+f9.size,gb),function(ge){if(ge.markedSpans){(f8||(f8=gd["spans_"+f9.id]={}))[ga]=ge.markedSpans}++ga})}function bi(ga){if(!ga){return null}for(var f9=0,f8;f9<ga.length;++f9){if(ga[f9].marker.explicitlyCleared){if(!f8){f8=ga.slice(0,f9)}}else{if(f8){f8.push(ga[f9])}}}return !f8?ga:f8.length?f8:null}function b3(gb,gc){var ga=gc["spans_"+gb.id];if(!ga){return null}for(var f9=0,f8=[];f9<gc.text.length;++f9){f8.push(bi(ga[f9]))}return f8}function bO(gj,gb,gi){for(var ge=0,f9=[];ge<gj.length;++ge){var ga=gj[ge];if(ga.ranges){f9.push(gi?fU.prototype.deepCopy.call(ga):ga);continue}var gg=ga.changes,gh=[];f9.push({changes:gh});for(var gd=0;gd<gg.length;++gd){var gf=gg[gd],gc;gh.push({from:gf.from,to:gf.to,text:gf.text});if(gb){for(var f8 in gf){if(gc=f8.match(/^spans_(\d+)$/)){if(df(gb,Number(gc[1]))>-1){fE(gh)[f8]=gf[f8];delete gf[f8]}}}}}}return f9}function J(gb,ga,f9,f8){if(f9<gb.line){gb.line+=f8}else{if(ga<gb.line){gb.line=ga;gb.ch=0}}}function fd(gb,gd,ge,gf){for(var ga=0;ga<gb.length;++ga){var f8=gb[ga],gc=true;if(f8.ranges){if(!f8.copied){f8=gb[ga]=f8.deepCopy();f8.copied=true}for(var f9=0;f9<f8.ranges.length;f9++){J(f8.ranges[f9].anchor,gd,ge,gf);J(f8.ranges[f9].head,gd,ge,gf)}continue}for(var f9=0;f9<f8.changes.length;++f9){var gg=f8.changes[f9];if(ge<gg.from.line){gg.from=X(gg.from.line+gf,gg.from.ch);gg.to=X(gg.to.line+gf,gg.to.ch)}else{if(gd<=gg.to.line){gc=false;break}}}if(!gc){gb.splice(0,ga+1);ga=0}}}function dA(f9,gc){var gb=gc.from.line,ga=gc.to.line,f8=gc.text.length-(ga-gb)-1;fd(f9.done,gb,ga,f8);fd(f9.undone,gb,ga,f8)}var cE=I.e_preventDefault=function(f8){if(f8.preventDefault){f8.preventDefault()}else{f8.returnValue=false}};var dm=I.e_stopPropagation=function(f8){if(f8.stopPropagation){f8.stopPropagation()}else{f8.cancelBubble=true}};function bK(f8){return f8.defaultPrevented!=null?f8.defaultPrevented:f8.returnValue==false}var en=I.e_stop=function(f8){cE(f8);dm(f8)};function M(f8){return f8.target||f8.srcElement}function fK(f9){var f8=f9.which;if(f8==null){if(f9.button&1){f8=1}else{if(f9.button&2){f8=3}else{if(f9.button&4){f8=2}}}}if(b6&&f9.ctrlKey&&f8==1){f8=3}return f8}var bW=I.on=function(gb,f9,ga){if(gb.addEventListener){gb.addEventListener(f9,ga,false)}else{if(gb.attachEvent){gb.attachEvent("on"+f9,ga)}else{var gc=gb._handlers||(gb._handlers={});var f8=gc[f9]||(gc[f9]=[]);f8.push(ga)}}};var d9=I.off=function(gc,ga,gb){if(gc.removeEventListener){gc.removeEventListener(ga,gb,false)}else{if(gc.detachEvent){gc.detachEvent("on"+ga,gb)}else{var f8=gc._handlers&&gc._handlers[ga];if(!f8){return}for(var f9=0;f9<f8.length;++f9){if(f8[f9]==gb){f8.splice(f9,1);break}}}}};var aC=I.signal=function(gc,gb){var f8=gc._handlers&&gc._handlers[gb];if(!f8){return}var f9=Array.prototype.slice.call(arguments,2);for(var ga=0;ga<f8.length;++ga){f8[ga].apply(null,f9)}};var by=null;function ad(ge,gc){var f8=ge._handlers&&ge._handlers[gc];if(!f8){return}var ga=Array.prototype.slice.call(arguments,2),gd;if(bo){gd=bo.delayedCallbacks}else{if(by){gd=by}else{gd=by=[];setTimeout(aJ,0)}}function f9(gf){return function(){gf.apply(null,ga)}}for(var gb=0;gb<f8.length;++gb){gd.push(f9(f8[gb]))}}function aJ(){var f8=by;by=null;for(var f9=0;f9<f8.length;++f9){f8[f9]()}}function aO(f8,ga,f9){if(typeof ga=="string"){ga={type:ga,preventDefault:function(){this.defaultPrevented=true}}}aC(f8,f9||ga.type,f8,ga);return bK(ga)||ga.codemirrorIgnore}function W(f9){var f8=f9._handlers&&f9._handlers.cursorActivity;if(!f8){return}var gb=f9.curOp.cursorActivityHandlers||(f9.curOp.cursorActivityHandlers=[]);for(var ga=0;ga<f8.length;++ga){if(df(gb,f8[ga])==-1){gb.push(f8[ga])}}}function fe(ga,f9){var f8=ga._handlers&&ga._handlers[f9];return f8&&f8.length>0}function bx(f8){f8.prototype.on=function(f9,ga){bW(this,f9,ga)};f8.prototype.off=function(f9,ga){d9(this,f9,ga)}}var dF=30;var b9=I.Pass={toString:function(){return"CodeMirror.Pass"}};var Z={scroll:false},N={origin:"*mouse"},cU={origin:"+move"};function f7(){this.id=null}f7.prototype.set=function(f8,f9){clearTimeout(this.id);this.id=setTimeout(f9,f8)};var bS=I.countColumn=function(gb,f9,gd,ge,ga){if(f9==null){f9=gb.search(/[^\s\u00a0]/);if(f9==-1){f9=gb.length}}for(var gc=ge||0,gf=ga||0;;){var f8=gb.indexOf("\t",gc);if(f8<0||f8>=f9){return gf+(f9-gc)}gf+=f8-gc;gf+=gd-(gf%gd);gc=f8+1}};function em(gc,gb,gd){for(var ge=0,ga=0;;){var f9=gc.indexOf("\t",ge);if(f9==-1){f9=gc.length}var f8=f9-ge;if(f9==gc.length||ga+f8>=gb){return ge+Math.min(f8,gb-ga)}ga+=f9-ge;ga+=gd-(ga%gd);ge=f9+1;if(ga>=gb){return ge}}}var aW=[""];function cp(f8){while(aW.length<=f8){aW.push(fE(aW)+" ")}return aW[f8]}function fE(f8){return f8[f8.length-1]}var dH=function(f8){f8.select()};if(eX){dH=function(f8){f8.selectionStart=0;f8.selectionEnd=f8.value.length}}else{if(dG){dH=function(f9){try{f9.select()}catch(f8){}}}}function df(ga,f8){for(var f9=0;f9<ga.length;++f9){if(ga[f9]==f8){return f9}}return -1}function bR(gb,ga){var f8=[];for(var f9=0;f9<gb.length;f9++){f8[f9]=ga(gb[f9],f9)}return f8}function ck(gb,f8){var ga;if(Object.create){ga=Object.create(gb)}else{var f9=function(){};f9.prototype=gb;ga=new f9()}if(f8){aK(f8,ga)}return ga}function aK(ga,f9,f8){if(!f9){f9={}}for(var gb in ga){if(ga.hasOwnProperty(gb)&&(f8!==false||!f9.hasOwnProperty(gb))){f9[gb]=ga[gb]}}return f9}function cv(f9){var f8=Array.prototype.slice.call(arguments,1);return function(){return f9.apply(null,f8)}}var a9=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var fA=I.isWordChar=function(f8){return/\w/.test(f8)||f8>"\x80"&&(f8.toUpperCase()!=f8.toLowerCase()||a9.test(f8))};function cz(f8,f9){if(!f9){return fA(f8)}if(f9.source.indexOf("\\w")>-1&&fA(f8)){return true}return f9.test(f8)}function eQ(f8){for(var f9 in f8){if(f8.hasOwnProperty(f9)&&f8[f9]){return false}}return true}var eF=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fm(f8){return f8.charCodeAt(0)>=768&&eF.test(f8)}function fT(f8,gc,gb,ga){var gd=document.createElement(f8);if(gb){gd.className=gb}if(ga){gd.style.cssText=ga}if(typeof gc=="string"){gd.appendChild(document.createTextNode(gc))}else{if(gc){for(var f9=0;f9<gc.length;++f9){gd.appendChild(gc[f9])}}}return gd}var cl;if(document.createRange){cl=function(ga,gb,f8){var f9=document.createRange();f9.setEnd(ga,f8);f9.setStart(ga,gb);return f9}}else{cl=function(ga,gc,f8){var f9=document.body.createTextRange();try{f9.moveToElementText(ga.parentNode)}catch(gb){return f9}f9.collapse(true);f9.moveEnd("character",f8);f9.moveStart("character",gc);return f9}}function dX(f9){for(var f8=f9.childNodes.length;f8>0;--f8){f9.removeChild(f9.firstChild)}return f9}function bQ(f8,f9){return dX(f8).appendChild(f9)}function f1(f8,f9){if(f8.contains){return f8.contains(f9)}while(f9=f9.parentNode){if(f9==f8){return true}}}function dK(){return document.activeElement}if(dG&&k<11){dK=function(){try{return document.activeElement}catch(f8){return document.body}}}function T(f8){return new RegExp("(^|\\s)"+f8+"(?:$|\\s)\\s*")}var f=I.rmClass=function(ga,f8){var gb=ga.className;var f9=T(f8).exec(gb);if(f9){var gc=gb.slice(f9.index+f9[0].length);ga.className=gb.slice(0,f9.index)+(gc?f9[1]+gc:"")}};var fx=I.addClass=function(f9,f8){var ga=f9.className;if(!T(f8).test(ga)){f9.className+=(ga?" ":"")+f8}};function fO(ga,f8){var f9=ga.split(" ");for(var gb=0;gb<f9.length;gb++){if(f9[gb]&&!T(f9[gb]).test(f8)){f8+=" "+f9[gb]}}return f8}function ay(gb){if(!document.body.getElementsByClassName){return}var ga=document.body.getElementsByClassName("CodeMirror");for(var f9=0;f9<ga.length;f9++){var f8=ga[f9].CodeMirror;if(f8){gb(f8)}}}var cB=false;function bg(){if(cB){return}fB();cB=true}function fB(){var f8;bW(window,"resize",function(){if(f8==null){f8=setTimeout(function(){f8=null;ay(aQ)},100)}});bW(window,"blur",function(){ay(aS)})}var eH=function(){if(dG&&k<9){return false}var f8=fT("div");return"draggable" in f8||"dragDrop" in f8}();var fI;function bm(f8){if(fI==null){var f9=fT("span","\u200b");bQ(f8,fT("span",[f9,document.createTextNode("x")]));if(f8.firstChild.offsetHeight!=0){fI=f9.offsetWidth<=1&&f9.offsetHeight>2&&!(dG&&k<8)}}if(fI){return fT("span","\u200b")}else{return fT("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var fH;function bN(gb){if(fH!=null){return fH}var f8=bQ(gb,document.createTextNode("A\u062eA"));var ga=cl(f8,0,1).getBoundingClientRect();if(!ga||ga.left==ga.right){return false}var f9=cl(f8,1,2).getBoundingClientRect();return fH=(f9.right-ga.right<3)}var aX=I.splitLines="\n\nb".split(/\n/).length!=3?function(gd){var ge=0,f8=[],gc=gd.length;while(ge<=gc){var gb=gd.indexOf("\n",ge);if(gb==-1){gb=gd.length}var ga=gd.slice(ge,gd.charAt(gb-1)=="\r"?gb-1:gb);var f9=ga.indexOf("\r");if(f9!=-1){f8.push(ga.slice(0,f9));ge+=f9+1}else{f8.push(ga);ge=gb+1}}return f8}:function(f8){return f8.split(/\r\n?|\n/)};var br=window.getSelection?function(f9){try{return f9.selectionStart!=f9.selectionEnd}catch(f8){return false}}:function(ga){try{var f8=ga.ownerDocument.selection.createRange()}catch(f9){}if(!f8||f8.parentElement()!=ga){return false}return f8.compareEndPoints("StartToEnd",f8)!=0};var c8=(function(){var f8=fT("div");if("oncopy" in f8){return true}f8.setAttribute("oncopy","return;");return typeof f8.oncopy=="function"})();var e2=null;function aI(f9){if(e2!=null){return e2}var ga=bQ(f9,fT("span","x"));var gb=ga.getBoundingClientRect();var f8=cl(ga,0,1).getBoundingClientRect();return e2=Math.abs(gb.left-f8.left)>1}var fc={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};I.keyNames=fc;(function(){for(var f8=0;f8<10;f8++){fc[f8+48]=fc[f8+96]=String(f8)}for(var f8=65;f8<=90;f8++){fc[f8]=String.fromCharCode(f8)}for(var f8=1;f8<=12;f8++){fc[f8+111]=fc[f8+63235]="F"+f8}})();function d0(f8,ge,gd,gc){if(!f8){return gc(ge,gd,"ltr")}var gb=false;for(var ga=0;ga<f8.length;++ga){var f9=f8[ga];if(f9.from<gd&&f9.to>ge||ge==gd&&f9.to==ge){gc(Math.max(f9.from,ge),Math.min(f9.to,gd),f9.level==1?"rtl":"ltr");gb=true}}if(!gb){gc(ge,gd,"ltr")}}function du(f8){return f8.level%2?f8.to:f8.from}function f4(f8){return f8.level%2?f8.from:f8.to}function cD(f9){var f8=a(f9);return f8?du(f8[0]):0}function cQ(f9){var f8=a(f9);if(!f8){return f9.text.length}return f4(fE(f8))}function bs(f9,gc){var ga=fb(f9.doc,gc);var gd=y(ga);if(gd!=ga){gc=bM(gd)}var f8=a(gd);var gb=!f8?0:f8[0].level%2?cQ(gd):cD(gd);return X(gc,gb)}function dL(ga,gd){var f9,gb=fb(ga.doc,gd);while(f9=er(gb)){gb=f9.find(1,true).line;gd=null}var f8=a(gb);var gc=!f8?gb.text.length:f8[0].level%2?cD(gb):cQ(gb);return X(gd==null?bM(gb):gd,gc)}function dE(f9,ge){var gd=bs(f9,ge.line);var ga=fb(f9.doc,gd.line);var f8=a(ga);if(!f8||f8[0].level==0){var gc=Math.max(0,ga.text.search(/\S/));var gb=ge.line==gd.line&&ge.ch<=gc&&ge.ch;return X(gd.line,gb?0:gc)}return gd}function am(f9,ga,f8){var gb=f9[0].level;if(ga==gb){return true}if(f8==gb){return false}return ga<f8}var eY;function aE(f8,gc){eY=null;for(var f9=0,ga;f9<f8.length;++f9){var gb=f8[f9];if(gb.from<gc&&gb.to>gc){return f9}if((gb.from==gc||gb.to==gc)){if(ga==null){ga=f9}else{if(am(f8,gb.level,f8[ga].level)){if(gb.from!=gb.to){eY=ga}return f9}else{if(gb.from!=gb.to){eY=f9}return ga}}}}return ga}function fa(f8,gb,f9,ga){if(!ga){return gb+f9}do{gb+=f9}while(gb>0&&fm(f8.text.charAt(gb)));return gb}function u(f8,gf,ga,gb){var gc=a(f8);if(!gc){return ah(f8,gf,ga,gb)}var ge=aE(gc,gf),f9=gc[ge];var gd=fa(f8,gf,f9.level%2?-ga:ga,gb);for(;;){if(gd>f9.from&&gd<f9.to){return gd}if(gd==f9.from||gd==f9.to){if(aE(gc,gd)==ge){return gd}f9=gc[ge+=ga];return(ga>0)==f9.level%2?f9.to:f9.from}else{f9=gc[ge+=ga];if(!f9){return null}if((ga>0)==f9.level%2){gd=fa(f8,f9.to,-1,gb)}else{gd=fa(f8,f9.from,1,gb)}}}}function ah(f8,gc,f9,ga){var gb=gc+f9;if(ga){while(gb>0&&fm(f8.text.charAt(gb))){gb+=f9}}return gb<0||gb>f8.text.length?null:gb}var be=(function(){var ge="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var gc="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function gb(gi){if(gi<=247){return ge.charAt(gi)}else{if(1424<=gi&&gi<=1524){return"R"}else{if(1536<=gi&&gi<=1773){return gc.charAt(gi-1536)}else{if(1774<=gi&&gi<=2220){return"r"}else{if(8192<=gi&&gi<=8203){return"w"}else{if(gi==8204){return"b"}else{return"L"}}}}}}}var f8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var gh=/[stwN]/,ga=/[LRr]/,f9=/[Lb1n]/,gd=/[1n]/;var gg="L";function gf(gk,gj,gi){this.level=gk;this.from=gj;this.to=gi}return function(gs){if(!f8.test(gs)){return false}var gy=gs.length,go=[];for(var gx=0,gk;gx<gy;++gx){go.push(gk=gb(gs.charCodeAt(gx)))}for(var gx=0,gr=gg;gx<gy;++gx){var gk=go[gx];if(gk=="m"){go[gx]=gr}else{gr=gk}}for(var gx=0,gi=gg;gx<gy;++gx){var gk=go[gx];if(gk=="1"&&gi=="r"){go[gx]="n"}else{if(ga.test(gk)){gi=gk;if(gk=="r"){go[gx]="R"}}}}for(var gx=1,gr=go[0];gx<gy-1;++gx){var gk=go[gx];if(gk=="+"&&gr=="1"&&go[gx+1]=="1"){go[gx]="1"}else{if(gk==","&&gr==go[gx+1]&&(gr=="1"||gr=="n")){go[gx]=gr}}gr=gk}for(var gx=0;gx<gy;++gx){var gk=go[gx];if(gk==","){go[gx]="N"}else{if(gk=="%"){for(var gl=gx+1;gl<gy&&go[gl]=="%";++gl){}var gz=(gx&&go[gx-1]=="!")||(gl<gy&&go[gl]=="1")?"1":"N";for(var gv=gx;gv<gl;++gv){go[gv]=gz}gx=gl-1}}}for(var gx=0,gi=gg;gx<gy;++gx){var gk=go[gx];if(gi=="L"&&gk=="1"){go[gx]="L"}else{if(ga.test(gk)){gi=gk}}}for(var gx=0;gx<gy;++gx){if(gh.test(go[gx])){for(var gl=gx+1;gl<gy&&gh.test(go[gl]);++gl){}var gp=(gx?go[gx-1]:gg)=="L";var gj=(gl<gy?go[gl]:gg)=="L";var gz=gp||gj?"L":"R";for(var gv=gx;gv<gl;++gv){go[gv]=gz}gx=gl-1}}var gw=[],gt;for(var gx=0;gx<gy;){if(f9.test(go[gx])){var gm=gx;for(++gx;gx<gy&&f9.test(go[gx]);++gx){}gw.push(new gf(0,gm,gx))}else{var gn=gx,gq=gw.length;for(++gx;gx<gy&&go[gx]!="L";++gx){}for(var gv=gn;gv<gx;){if(gd.test(go[gv])){if(gn<gv){gw.splice(gq,0,new gf(1,gn,gv))}var gu=gv;for(++gv;gv<gx&&gd.test(go[gv]);++gv){}gw.splice(gq,0,new gf(2,gu,gv));gn=gv}else{++gv}}if(gn<gx){gw.splice(gq,0,new gf(1,gn,gx))}}}if(gw[0].level==1&&(gt=gs.match(/^\s+/))){gw[0].from=gt[0].length;gw.unshift(new gf(0,0,gt[0].length))}if(fE(gw).level==1&&(gt=gs.match(/\s+$/))){fE(gw).to-=gt[0].length;gw.push(new gf(0,gy-gt[0].length,gy))}if(gw[0].level!=fE(gw).level){gw.push(new gf(gw[0].level,gy,gy))}return gw}})();I.version="4.12.0";return I});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("javascript",function(Y,ai){var k=Y.indentUnit;var z=ai.statementIndent;var az=ai.jsonld;var y=ai.json||az;var g=ai.typescript;var at=ai.wordCharacters||/[\w$\xa1-\uffff]/;var aq=function(){function aP(aR){return{type:aR,style:"keyword"}}var aK=aP("keyword a"),aI=aP("keyword b"),aH=aP("keyword c");var aJ=aP("operator"),aN={type:"atom",style:"atom"};var aL={"if":aP("if"),"while":aK,"with":aK,"else":aI,"do":aI,"try":aI,"finally":aI,"return":aH,"break":aH,"continue":aH,"new":aH,"delete":aH,"throw":aH,"debugger":aH,"var":aP("var"),"const":aP("var"),let:aP("var"),"function":aP("function"),"catch":aP("catch"),"for":aP("for"),"switch":aP("switch"),"case":aP("case"),"default":aP("default"),"in":aJ,"typeof":aJ,"instanceof":aJ,"true":aN,"false":aN,"null":aN,"undefined":aN,"NaN":aN,"Infinity":aN,"this":aP("this"),module:aP("module"),"class":aP("class"),"super":aP("atom"),yield:aH,"export":aP("export"),"import":aP("import"),"extends":aH};if(g){var aQ={type:"variable",style:"variable-3"};var aM={"interface":aP("interface"),"extends":aP("extends"),constructor:aP("constructor"),"public":aP("public"),"private":aP("private"),"protected":aP("protected"),"static":aP("static"),string:aQ,number:aQ,bool:aQ,any:aQ};for(var aO in aM){aL[aO]=aM[aO]}}return aL}();var O=/[+\-*&%=<>!?|~^]/;var ap=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(aK){var aI=false,aH,aJ=false;while((aH=aK.next())!=null){if(!aI){if(aH=="/"&&!aJ){return}if(aH=="["){aJ=true}else{if(aJ&&aH=="]"){aJ=false}}}aI=!aI&&aH=="\\"}}var R,F;function K(aJ,aI,aH){R=aJ;F=aH;return aI}function T(aL,aJ){var aH=aL.next();if(aH=='"'||aH=="'"){aJ.tokenize=Q(aH);return aJ.tokenize(aL,aJ)}else{if(aH=="."&&aL.match(/^\d+(?:[eE][+\-]?\d+)?/)){return K("number","number")}else{if(aH=="."&&aL.match("..")){return K("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aH)){return K(aH)}else{if(aH=="="&&aL.eat(">")){return K("=>","operator")}else{if(aH=="0"&&aL.eat(/x/i)){aL.eatWhile(/[\da-f]/i);return K("number","number")}else{if(/\d/.test(aH)){aL.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return K("number","number")}else{if(aH=="/"){if(aL.eat("*")){aJ.tokenize=ay;return ay(aL,aJ)}else{if(aL.eat("/")){aL.skipToEnd();return K("comment","comment")}else{if(aJ.lastType=="operator"||aJ.lastType=="keyword c"||aJ.lastType=="sof"||/^[\[{}\(,;:]$/.test(aJ.lastType)){E(aL);aL.eatWhile(/[gimy]/);return K("regexp","string-2")}else{aL.eatWhile(O);return K("operator","operator",aL.current())}}}}else{if(aH=="`"){aJ.tokenize=aA;return aA(aL,aJ)}else{if(aH=="#"){aL.skipToEnd();return K("error","error")}else{if(O.test(aH)){aL.eatWhile(O);return K("operator","operator",aL.current())}else{if(at.test(aH)){aL.eatWhile(at);var aK=aL.current(),aI=aq.propertyIsEnumerable(aK)&&aq[aK];return(aI&&aJ.lastType!=".")?K(aI.type,aI.style,aK):K("variable","variable",aK)}}}}}}}}}}}}}function Q(aH){return function(aL,aJ){var aK=false,aI;if(az&&aL.peek()=="@"&&aL.match(ap)){aJ.tokenize=T;return K("jsonld-keyword","meta")}while((aI=aL.next())!=null){if(aI==aH&&!aK){break}aK=!aK&&aI=="\\"}if(!aK){aJ.tokenize=T}return K("string","string")}}function ay(aK,aJ){var aH=false,aI;while(aI=aK.next()){if(aI=="/"&&aH){aJ.tokenize=T;break}aH=(aI=="*")}return K("comment","comment")}function aA(aK,aI){var aJ=false,aH;while((aH=aK.next())!=null){if(!aJ&&(aH=="`"||aH=="$"&&aK.eat("{"))){aI.tokenize=T;break}aJ=!aJ&&aH=="\\"}return K("quasi","string-2",aK.current())}var l="([{}])";function av(aN,aK){if(aK.fatArrowAt){aK.fatArrowAt=null}var aJ=aN.string.indexOf("=>",aN.start);if(aJ<0){return}var aM=0,aI=false;for(var aO=aJ-1;aO>=0;--aO){var aH=aN.string.charAt(aO);var aL=l.indexOf(aH);if(aL>=0&&aL<3){if(!aM){++aO;break}if(--aM==0){break}}else{if(aL>=3&&aL<6){++aM}else{if(at.test(aH)){aI=true}else{if(/["'\/]/.test(aH)){return}else{if(aI&&!aM){++aO;break}}}}}}if(aI&&!aM){aK.fatArrowAt=aO}}var b={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function I(aM,aI,aH,aL,aJ,aK){this.indented=aM;this.column=aI;this.type=aH;this.prev=aJ;this.info=aK;if(aL!=null){this.align=aL}}function r(aK,aJ){for(var aI=aK.localVars;aI;aI=aI.next){if(aI.name==aJ){return true}}for(var aH=aK.context;aH;aH=aH.prev){for(var aI=aH.vars;aI;aI=aI.next){if(aI.name==aJ){return true}}}}function f(aL,aI,aH,aK,aM){var aN=aL.cc;C.state=aL;C.stream=aM;C.marked=null,C.cc=aN;C.style=aI;if(!aL.lexical.hasOwnProperty("align")){aL.lexical.align=true}while(true){var aJ=aN.length?aN.pop():y?am:aF;if(aJ(aH,aK)){while(aN.length&&aN[aN.length-1].lex){aN.pop()()}if(C.marked){return C.marked}if(aH=="variable"&&r(aL,aK)){return"variable-2"}return aI}}}var C={state:null,column:null,marked:null,cc:null};function Z(){for(var aH=arguments.length-1;aH>=0;aH--){C.cc.push(arguments[aH])}}function ad(){Z.apply(null,arguments);return true}function au(aI){function aH(aL){for(var aK=aL;aK;aK=aK.next){if(aK.name==aI){return true}}return false}var aJ=C.state;if(aJ.context){C.marked="def";if(aH(aJ.localVars)){return}aJ.localVars={name:aI,next:aJ.localVars}}else{if(aH(aJ.globalVars)){return}if(ai.globalVars){aJ.globalVars={name:aI,next:aJ.globalVars}}}}var p={name:"this",next:{name:"arguments"}};function v(){C.state.context={prev:C.state.context,vars:C.state.localVars};C.state.localVars=p}function w(){C.state.localVars=C.state.context.vars;C.state.context=C.state.context.prev}function aD(aI,aJ){var aH=function(){var aM=C.state,aK=aM.indented;if(aM.lexical.type=="stat"){aK=aM.lexical.indented}else{for(var aL=aM.lexical;aL&&aL.type==")"&&aL.align;aL=aL.prev){aK=aL.indented}}aM.lexical=new I(aK,C.stream.column(),aI,null,aM.lexical,aJ)};aH.lex=true;return aH}function h(){var aH=C.state;if(aH.lexical.prev){if(aH.lexical.type==")"){aH.indented=aH.lexical.indented}aH.lexical=aH.lexical.prev}}h.lex=true;function q(aH){function aI(aJ){if(aJ==aH){return ad()}else{if(aH==";"){return Z()}else{return ad(aI)}}}return aI}function aF(aH,aI){if(aH=="var"){return ad(aD("vardef",aI.length),d,q(";"),h)}if(aH=="keyword a"){return ad(aD("form"),am,aF,h)}if(aH=="keyword b"){return ad(aD("form"),aF,h)}if(aH=="{"){return ad(aD("}"),x,h)}if(aH==";"){return ad()}if(aH=="if"){if(C.state.lexical.info=="else"&&C.state.cc[C.state.cc.length-1]==h){C.state.cc.pop()()}return ad(aD("form"),am,aF,h,e)}if(aH=="function"){return ad(L)}if(aH=="for"){return ad(aD("form"),t,aF,h)}if(aH=="variable"){return ad(aD("stat"),aG)}if(aH=="switch"){return ad(aD("form"),am,aD("}","switch"),q("{"),x,h,h)}if(aH=="case"){return ad(am,q(":"))}if(aH=="default"){return ad(q(":"))}if(aH=="catch"){return ad(aD("form"),v,q("("),ae,q(")"),aF,h,w)}if(aH=="module"){return ad(aD("form"),v,G,w,h)}if(aH=="class"){return ad(aD("form"),U,h)}if(aH=="export"){return ad(aD("form"),aE,h)}if(aH=="import"){return ad(aD("form"),af,h)}return Z(aD("stat"),am,q(";"),h)}function am(aH){return X(aH,false)}function aC(aH){return X(aH,true)}function X(aI,aK){if(C.state.fatArrowAt==C.stream.start){var aH=aK?M:V;if(aI=="("){return ad(v,aD(")"),ar(i,")"),h,q("=>"),aH,w)}else{if(aI=="variable"){return Z(v,i,q("=>"),aH,w)}}}var aJ=aK?j:aa;if(b.hasOwnProperty(aI)){return ad(aJ)}if(aI=="function"){return ad(L,aJ)}if(aI=="keyword c"){return ad(aK?aj:ah)}if(aI=="("){return ad(aD(")"),ah,ax,q(")"),h,aJ)}if(aI=="operator"||aI=="spread"){return ad(aK?aC:am)}if(aI=="["){return ad(aD("]"),m,h,aJ)}if(aI=="{"){return aw(s,"}",null,aJ)}if(aI=="quasi"){return Z(P,aJ)}return ad()}function ah(aH){if(aH.match(/[;\}\)\],]/)){return Z()}return Z(am)}function aj(aH){if(aH.match(/[;\}\)\],]/)){return Z()}return Z(aC)}function aa(aH,aI){if(aH==","){return ad(am)}return j(aH,aI,false)}function j(aH,aJ,aL){var aI=aL==false?aa:j;var aK=aL==false?am:aC;if(aH=="=>"){return ad(v,aL?M:V,w)}if(aH=="operator"){if(/\+\+|--/.test(aJ)){return ad(aI)}if(aJ=="?"){return ad(am,q(":"),aK)}return ad(aK)}if(aH=="quasi"){return Z(P,aI)}if(aH==";"){return}if(aH=="("){return aw(aC,")","call",aI)}if(aH=="."){return ad(ak,aI)}if(aH=="["){return ad(aD("]"),ah,q("]"),h,aI)}}function P(aH,aI){if(aH!="quasi"){return Z()}if(aI.slice(aI.length-2)!="${"){return ad(P)}return ad(am,o)}function o(aH){if(aH=="}"){C.marked="string-2";C.state.tokenize=aA;return ad(P)}}function V(aH){av(C.stream,C.state);return Z(aH=="{"?aF:am)}function M(aH){av(C.stream,C.state);return Z(aH=="{"?aF:aC)}function aG(aH){if(aH==":"){return ad(h,aF)}return Z(aa,q(";"),h)}function ak(aH){if(aH=="variable"){C.marked="property";return ad()}}function s(aH,aI){if(aH=="variable"||C.style=="keyword"){C.marked="property";if(aI=="get"||aI=="set"){return ad(H)}return ad(J)}else{if(aH=="number"||aH=="string"){C.marked=az?"property":(C.style+" property");return ad(J)}else{if(aH=="jsonld-keyword"){return ad(J)}else{if(aH=="["){return ad(am,q("]"),J)}}}}}function H(aH){if(aH!="variable"){return Z(J)}C.marked="property";return ad(L)}function J(aH){if(aH==":"){return ad(aC)}if(aH=="("){return Z(L)}}function ar(aJ,aH){function aI(aL){if(aL==","){var aK=C.state.lexical;if(aK.info=="call"){aK.pos=(aK.pos||0)+1}return ad(aJ,aI)}if(aL==aH){return ad()}return ad(q(aH))}return function(aK){if(aK==aH){return ad()}return Z(aJ,aI)}}function aw(aK,aH,aJ){for(var aI=3;aI<arguments.length;aI++){C.cc.push(arguments[aI])}return ad(aD(aH,aJ),ar(aK,aH),h)}function x(aH){if(aH=="}"){return ad()}return Z(aF,x)}function S(aH){if(g&&aH==":"){return ad(ac)}}function ac(aH){if(aH=="variable"){C.marked="variable-3";return ad()}}function d(){return Z(i,S,ab,W)}function i(aH,aI){if(aH=="variable"){au(aI);return ad()}if(aH=="["){return aw(i,"]")}if(aH=="{"){return aw(aB,"}")}}function aB(aH,aI){if(aH=="variable"&&!C.stream.match(/^\s*:/,false)){au(aI);return ad(ab)}if(aH=="variable"){C.marked="property"}return ad(q(":"),i,ab)}function ab(aH,aI){if(aI=="="){return ad(aC)}}function W(aH){if(aH==","){return ad(d)}}function e(aH,aI){if(aH=="keyword b"&&aI=="else"){return ad(aD("form","else"),aF,h)}}function t(aH){if(aH=="("){return ad(aD(")"),D,q(")"),h)}}function D(aH){if(aH=="var"){return ad(d,q(";"),B)}if(aH==";"){return ad(B)}if(aH=="variable"){return ad(u)}return Z(am,q(";"),B)}function u(aH,aI){if(aI=="in"||aI=="of"){C.marked="keyword";return ad(am)}return ad(aa,B)}function B(aH,aI){if(aH==";"){return ad(A)}if(aI=="in"||aI=="of"){C.marked="keyword";return ad(am)}return Z(am,q(";"),A)}function A(aH){if(aH!=")"){ad(am)}}function L(aH,aI){if(aI=="*"){C.marked="keyword";return ad(L)}if(aH=="variable"){au(aI);return ad(L)}if(aH=="("){return ad(v,aD(")"),ar(ae,")"),h,aF,w)}}function ae(aH){if(aH=="spread"){return ad(ae)}return Z(i,S)}function U(aH,aI){if(aH=="variable"){au(aI);return ad(N)}}function N(aH,aI){if(aI=="extends"){return ad(am,N)}if(aH=="{"){return ad(aD("}"),n,h)}}function n(aH,aI){if(aH=="variable"||C.style=="keyword"){C.marked="property";if(aI=="get"||aI=="set"){return ad(c,L,n)}return ad(L,n)}if(aI=="*"){C.marked="keyword";return ad(n)}if(aH==";"){return ad(n)}if(aH=="}"){return ad()}}function c(aH){if(aH!="variable"){return Z()}C.marked="property";return ad()}function G(aH,aI){if(aH=="string"){return ad(aF)}if(aH=="variable"){au(aI);return ad(ag)}}function aE(aH,aI){if(aI=="*"){C.marked="keyword";return ad(ag,q(";"))}if(aI=="default"){C.marked="keyword";return ad(am,q(";"))}return Z(aF)}function af(aH){if(aH=="string"){return ad()}return Z(ao,ag)}function ao(aH,aI){if(aH=="{"){return aw(ao,"}")}if(aH=="variable"){au(aI)}return ad()}function ag(aH,aI){if(aI=="from"){C.marked="keyword";return ad(am)}}function m(aH){if(aH=="]"){return ad()}return Z(aC,al)}function al(aH){if(aH=="for"){return Z(ax,q("]"))}if(aH==","){return ad(ar(aj,"]"))}return Z(ar(aC,"]"))}function ax(aH){if(aH=="for"){return ad(t,ax)}if(aH=="if"){return ad(am,ax)}}function an(aI,aH){return aI.lastType=="operator"||aI.lastType==","||O.test(aH.charAt(0))||/[,.]/.test(aH.charAt(0))}return{startState:function(aI){var aH={tokenize:T,lastType:"sof",cc:[],lexical:new I((aI||0)-k,0,"block",false),localVars:ai.localVars,context:ai.localVars&&{vars:ai.localVars},indented:0};if(ai.globalVars&&typeof ai.globalVars=="object"){aH.globalVars=ai.globalVars}return aH},token:function(aJ,aI){if(aJ.sol()){if(!aI.lexical.hasOwnProperty("align")){aI.lexical.align=false}aI.indented=aJ.indentation();av(aJ,aI)}if(aI.tokenize!=ay&&aJ.eatSpace()){return null}var aH=aI.tokenize(aJ,aI);if(R=="comment"){return aH}aI.lastType=R=="operator"&&(F=="++"||F=="--")?"incdec":R;return f(aI,aH,R,F,aJ)},indent:function(aN,aH){if(aN.tokenize==ay){return a.Pass}if(aN.tokenize!=T){return 0}var aM=aH&&aH.charAt(0),aK=aN.lexical;if(!/^\s*else\b/.test(aH)){for(var aJ=aN.cc.length-1;aJ>=0;--aJ){var aO=aN.cc[aJ];if(aO==h){aK=aK.prev}else{if(aO!=e){break}}}}if(aK.type=="stat"&&aM=="}"){aK=aK.prev}if(z&&aK.type==")"&&aK.prev.type=="stat"){aK=aK.prev}var aL=aK.type,aI=aM==aL;if(aL=="vardef"){return aK.indented+(aN.lastType=="operator"||aN.lastType==","?aK.info+1:0)}else{if(aL=="form"&&aM=="{"){return aK.indented}else{if(aL=="form"){return aK.indented+k}else{if(aL=="stat"){return aK.indented+(an(aN,aH)?z||k:0)}else{if(aK.info=="switch"&&!aI&&ai.doubleIndentSwitch!=false){return aK.indented+(/^(?:case|default)\b/.test(aH)?k:2*k)}else{if(aK.align){return aK.column+(aI?0:1)}else{return aK.indented+(aI?0:k)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",lineComment:y?null:"//",fold:"brace",helperType:y?"json":"javascript",jsonldMode:az,jsonMode:y}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){b.defineMode("clike",function(A,m){var u=A.indentUnit,s=m.statementIndentUnit||u,v=m.dontAlignCalls,o=m.keywords||{},B=m.builtin||{},w=m.blockKeywords||{},k=m.atoms||{},j=m.hooks||{},r=m.multiLineStrings,p=m.indentStatements!==false;var q=/[+\-*&%=<>!?|\/]/;var y;function C(H,F){var E=H.next();if(j[E]){var D=j[E](H,F);if(D!==false){return D}}if(E=='"'||E=="'"){F.tokenize=n(E);return F.tokenize(H,F)}if(/[\[\]{}\(\),;\:\.]/.test(E)){y=E;return null}if(/\d/.test(E)){H.eatWhile(/[\w\.]/);return"number"}if(E=="/"){if(H.eat("*")){F.tokenize=t;return t(H,F)}if(H.eat("/")){H.skipToEnd();return"comment"}}if(q.test(E)){H.eatWhile(q);return"operator"}H.eatWhile(/[\w\$_\xa1-\uffff]/);var G=H.current();if(o.propertyIsEnumerable(G)){if(w.propertyIsEnumerable(G)){y="newstatement"}return"keyword"}if(B.propertyIsEnumerable(G)){if(w.propertyIsEnumerable(G)){y="newstatement"}return"builtin"}if(k.propertyIsEnumerable(G)){return"atom"}return"variable"}function n(D){return function(I,G){var H=false,F,E=false;while((F=I.next())!=null){if(F==D&&!H){E=true;break}H=!H&&F=="\\"}if(E||!(H||r)){G.tokenize=null}return"string"}}function t(G,F){var D=false,E;while(E=G.next()){if(E=="/"&&D){F.tokenize=null;break}D=(E=="*")}return"comment"}function x(H,E,D,G,F){this.indented=H;this.column=E;this.type=D;this.align=G;this.prev=F}function l(G,E,F){var D=G.indented;if(G.context&&G.context.type=="statement"){D=G.context.indented}return G.context=new x(D,E,F,null,G.context)}function z(E){var D=E.context.type;if(D==")"||D=="]"||D=="}"){E.indented=E.context.indented}return E.context=E.context.prev}return{startState:function(D){return{tokenize:null,context:new x((D||0)-u,0,"top",false),indented:0,startOfLine:true}},token:function(G,F){var D=F.context;if(G.sol()){if(D.align==null){D.align=false}F.indented=G.indentation();F.startOfLine=true}if(G.eatSpace()){return null}y=null;var E=(F.tokenize||C)(G,F);if(E=="comment"||E=="meta"){return E}if(D.align==null){D.align=true}if((y==";"||y==":"||y==",")&&D.type=="statement"){z(F)}else{if(y=="{"){l(F,G.column(),"}")}else{if(y=="["){l(F,G.column(),"]")}else{if(y=="("){l(F,G.column(),")")}else{if(y=="}"){while(D.type=="statement"){D=z(F)}if(D.type=="}"){D=z(F)}while(D.type=="statement"){D=z(F)}}else{if(y==D.type){z(F)}else{if(p&&(((D.type=="}"||D.type=="top")&&y!=";")||(D.type=="statement"&&y=="newstatement"))){l(F,G.column(),"statement")}}}}}}}F.startOfLine=false;return E},indent:function(H,E){if(H.tokenize!=C&&H.tokenize!=null){return b.Pass}var D=H.context,G=E&&E.charAt(0);if(D.type=="statement"&&G=="}"){D=D.prev}var F=G==D.type;if(D.type=="statement"){return D.indented+(G=="{"?0:s)}else{if(D.align&&(!v||D.type!=")")){return D.column+(F?0:1)}else{if(D.type==")"&&!F){return D.indented+s}else{return D.indented+(F?0:u)}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});function f(m){var k={},l=m.split(" ");for(var j=0;j<l.length;++j){k[l[j]]=true}return k}var i="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";function c(k,j){if(!j.startOfLine){return false}for(;;){if(k.skipTo("\\")){k.next();if(k.eol()){j.tokenize=c;break}}else{k.skipToEnd();j.tokenize=null;break}}return"meta"}function h(l,k){l.backUp(1);if(l.match(/(R|u8R|uR|UR|LR)/)){var j=l.match(/"([^\s\\()]{0,16})\(/);if(!j){return false}k.cpp11RawStringDelim=j[1];k.tokenize=e;return e(l,k)}if(l.match(/(u8|u|U|L)/)){if(l.match(/["']/,false)){return"string"}return false}l.next();return false}function g(l,k){var j;while((j=l.next())!=null){if(j=='"'&&!l.eat('"')){k.tokenize=null;break}}return"string"}function e(m,k){var l=k.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");var j=m.match(new RegExp(".*?\\)"+l+'"'));if(j){k.tokenize=null}else{m.skipToEnd()}return"string"}function a(j,n){if(typeof j=="string"){j=[j]}var m=[];function l(o){if(o){for(var p in o){if(o.hasOwnProperty(p)){m.push(p)}}}}l(n.keywords);l(n.builtin);l(n.atoms);if(m.length){n.helperType=j[0];b.registerHelper("hintWords",j[0],m)}for(var k=0;k<j.length;++k){b.defineMIME(j[k],n)}}a(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:f(i),blockKeywords:f("case do else for if switch while struct"),atoms:f("null"),hooks:{"#":c},modeProps:{fold:["brace","include"]}});a(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:f(i+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:f("catch class do else finally for if struct switch try while"),atoms:f("true false null"),hooks:{"#":c,u:h,U:h,L:h,R:h},modeProps:{fold:["brace","include"]}});a("text/x-java",{name:"clike",keywords:f("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:f("catch class do else finally for if switch try while"),atoms:f("true false null"),hooks:{"@":function(j){j.eatWhile(/[\w\$_]/);return"meta"}},modeProps:{fold:["brace","import"]}});a("text/x-csharp",{name:"clike",keywords:f("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:f("catch class do else finally for foreach if struct switch try while"),builtin:f("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:f("true false null"),hooks:{"@":function(k,j){if(k.eat('"')){j.tokenize=g;return g(k,j)}k.eatWhile(/[\w\$_]/);return"meta"}}});function d(l,j){var k=false;while(!l.eol()){if(!k&&l.match('"""')){j.tokenize=null;break}k=l.next()!="\\"&&!k}return"string"}a("text/x-scala",{name:"clike",keywords:f("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:true,blockKeywords:f("catch class do else finally for forSome if match switch try while"),atoms:f("true false null"),indentStatements:false,hooks:{"@":function(j){j.eatWhile(/[\w\$_]/);return"meta"},'"':function(k,j){if(!k.match('""')){return false}j.tokenize=d;return j.tokenize(k,j)}}});a(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:f("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:f("for while do if else struct"),builtin:f("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:f("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":c},modeProps:{fold:["brace","include"]}});a("text/x-nesc",{name:"clike",keywords:f(i+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),blockKeywords:f("case do else for if switch while struct"),atoms:f("null"),hooks:{"#":c},modeProps:{fold:["brace","include"]}});a("text/x-objectivec",{name:"clike",keywords:f(i+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),atoms:f("YES NO NULL NILL ON OFF"),hooks:{"@":function(j){j.eatWhile(/[\w\$]/);return"keyword"},"#":c},modeProps:{fold:"brace"}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(n){n.defineMode("css",function(O,C){if(!C.propertyKeywords){C=n.resolveMode("text/css")}var I=O.indentUnit,u=C.tokenHooks,N=C.mediaTypes||{},E=C.mediaFeatures||{},B=C.propertyKeywords||{},v=C.nonStandardPropertyKeywords||{},H=C.colorKeywords||{},K=C.valueKeywords||{},x=C.fontProperties||{},F=C.allowNested;var w,G;function P(S,T){w=T;return S}function R(V,U){var T=V.next();if(u[T]){var S=u[T](V,U);if(S!==false){return S}}if(T=="@"){V.eatWhile(/[\w\\\-]/);return P("def",V.current())}else{if(T=="="||(T=="~"||T=="|")&&V.eat("=")){return P(null,"compare")}else{if(T=='"'||T=="'"){U.tokenize=D(T);return U.tokenize(V,U)}else{if(T=="#"){V.eatWhile(/[\w\\\-]/);return P("atom","hash")}else{if(T=="!"){V.match(/^\s*\w*/);return P("keyword","important")}else{if(/\d/.test(T)||T=="."&&V.eat(/\d/)){V.eatWhile(/[\w.%]/);return P("number","unit")}else{if(T==="-"){if(/[\d.]/.test(V.peek())){V.eatWhile(/[\w.%]/);return P("number","unit")}else{if(V.match(/^\w+-/)){return P("meta","meta")}}}else{if(/[,+>*\/]/.test(T)){return P(null,"select-op")}else{if(T=="."&&V.match(/^-?[_a-z][_a-z0-9-]*/i)){return P("qualifier","qualifier")}else{if(/[:;{}\[\]\(\)]/.test(T)){return P(null,T)}else{if(T=="u"&&V.match("rl(")){V.backUp(1);U.tokenize=Q;return P("property","word")}else{if(/[\w\\\-]/.test(T)){V.eatWhile(/[\w\\\-]/);return P("property","word")}else{return P(null,null)}}}}}}}}}}}}}function D(S){return function(W,U){var V=false,T;while((T=W.next())!=null){if(T==S&&!V){if(S==")"){W.backUp(1)}break}V=!V&&T=="\\"}if(T==S||!V&&S!=")"){U.tokenize=null}return P("string","string")}}function Q(T,S){T.next();if(!T.match(/\s*[\"\')]/,false)){S.tokenize=D(")")}else{S.tokenize=null}return P(null,"(")}function J(T,S,U){this.type=T;this.indent=S;this.prev=U}function z(T,U,S){T.context=new J(S,U.indentation()+I,T.context);return S}function L(S){S.context=S.context.prev;return S.context.type}function t(S,U,T){return y[T.context.type](S,U,T)}function M(T,V,U,W){for(var S=W||1;S>0;S--){U.context=U.context.prev}return t(T,V,U)}function A(T){var S=T.current().toLowerCase();if(K.hasOwnProperty(S)){G="atom"}else{if(H.hasOwnProperty(S)){G="keyword"}else{G="variable"}}}var y={};y.top=function(S,U,T){if(S=="{"){return z(T,U,"block")}else{if(S=="}"&&T.context.prev){return L(T)}else{if(S=="@media"){return z(T,U,"media")}else{if(S=="@font-face"){return"font_face_before"}else{if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(S)){return"keyframes"}else{if(S&&S.charAt(0)=="@"){return z(T,U,"at")}else{if(S=="hash"){G="builtin"}else{if(S=="word"){G="tag"}else{if(S=="variable-definition"){return"maybeprop"}else{if(S=="interpolation"){return z(T,U,"interpolation")}else{if(S==":"){return"pseudo"}else{if(F&&S=="("){return z(T,U,"parens")}}}}}}}}}}}}return T.context.type};y.block=function(S,V,T){if(S=="word"){var U=V.current().toLowerCase();if(B.hasOwnProperty(U)){G="property";return"maybeprop"}else{if(v.hasOwnProperty(U)){G="string-2";return"maybeprop"}else{if(F){G=V.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{G+=" error";return"maybeprop"}}}}else{if(S=="meta"){return"block"}else{if(!F&&(S=="hash"||S=="qualifier")){G="error";return"block"}else{return y.top(S,V,T)}}}};y.maybeprop=function(S,U,T){if(S==":"){return z(T,U,"prop")}return t(S,U,T)};y.prop=function(S,U,T){if(S==";"){return L(T)}if(S=="{"&&F){return z(T,U,"propBlock")}if(S=="}"||S=="{"){return M(S,U,T)}if(S=="("){return z(T,U,"parens")}if(S=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(U.current())){G+=" error"}else{if(S=="word"){A(U)}else{if(S=="interpolation"){return z(T,U,"interpolation")}}}return"prop"};y.propBlock=function(T,S,U){if(T=="}"){return L(U)}if(T=="word"){G="property";return"maybeprop"}return U.context.type};y.parens=function(S,U,T){if(S=="{"||S=="}"){return M(S,U,T)}if(S==")"){return L(T)}if(S=="("){return z(T,U,"parens")}if(S=="word"){A(U)}return"parens"};y.pseudo=function(S,U,T){if(S=="word"){G="variable-3";return T.context.type}return t(S,U,T)};y.media=function(S,V,T){if(S=="("){return z(T,V,"media_parens")}if(S=="}"){return M(S,V,T)}if(S=="{"){return L(T)&&z(T,V,F?"block":"top")}if(S=="word"){var U=V.current().toLowerCase();if(U=="only"||U=="not"||U=="and"){G="keyword"}else{if(N.hasOwnProperty(U)){G="attribute"}else{if(E.hasOwnProperty(U)){G="property"}else{G="error"}}}}return T.context.type};y.media_parens=function(S,U,T){if(S==")"){return L(T)}if(S=="{"||S=="}"){return M(S,U,T,2)}return y.media(S,U,T)};y.font_face_before=function(S,U,T){if(S=="{"){return z(T,U,"font_face")}return t(S,U,T)};y.font_face=function(S,U,T){if(S=="}"){return L(T)}if(S=="word"){if(!x.hasOwnProperty(U.current().toLowerCase())){G="error"}else{G="property"}return"maybeprop"}return"font_face"};y.keyframes=function(S,U,T){if(S=="word"){G="variable";return"keyframes"}if(S=="{"){return z(T,U,"top")}return t(S,U,T)};y.at=function(S,U,T){if(S==";"){return L(T)}if(S=="{"||S=="}"){return M(S,U,T)}if(S=="word"){G="tag"}else{if(S=="hash"){G="builtin"}}return"at"};y.interpolation=function(S,U,T){if(S=="}"){return L(T)}if(S=="{"||S==";"){return M(S,U,T)}if(S!="variable"){G="error"}return"interpolation"};return{startState:function(S){return{tokenize:null,state:"top",context:new J("top",S||0,null)}},token:function(U,T){if(!T.tokenize&&U.eatSpace()){return null}var S=(T.tokenize||R)(U,T);if(S&&typeof S=="object"){w=S[1];S=S[0]}G=S;T.state=y[T.state](w,U,T);return G},indent:function(W,U){var T=W.context,V=U&&U.charAt(0);var S=T.indent;if(T.type=="prop"&&(V=="}"||V==")")){T=T.prev}if(T.prev&&(V=="}"&&(T.type=="block"||T.type=="top"||T.type=="interpolation"||T.type=="font_face")||V==")"&&(T.type=="parens"||T.type=="media_parens")||V=="{"&&(T.type=="at"||T.type=="media"))){S=T.indent-I;T=T.prev}return S},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});function f(v){var u={};for(var t=0;t<v.length;++t){u[v[t]]=true}return u}var a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],q=f(a);var s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],i=f(s);var c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=f(c);var l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=f(l);var b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=f(b);var j=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],o=f(j);var p=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],e=f(p);var m=a.concat(s).concat(c).concat(l).concat(b).concat(j);n.registerHelper("hintWords","css",m);function r(w,v){var t=false,u;while((u=w.next())!=null){if(t&&u=="/"){v.tokenize=null;break}t=(u=="*")}return["comment","comment"]}function g(u,t){if(u.skipTo("-->")){u.match("-->");t.tokenize=null}else{u.skipToEnd()}return["comment","comment"]}n.defineMIME("text/css",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,tokenHooks:{"<":function(u,t){if(!u.match("!--")){return false}t.tokenize=g;return g(u,t)},"/":function(u,t){if(!u.eat("*")){return false}t.tokenize=r;return r(u,t)}},name:"css"});n.defineMIME("text/x-scss",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,allowNested:true,tokenHooks:{"/":function(u,t){if(u.eat("/")){u.skipToEnd();return["comment","comment"]}else{if(u.eat("*")){t.tokenize=r;return r(u,t)}else{return["operator","operator"]}}},":":function(t){if(t.match(/\s*\{/)){return[null,"{"]}return false},"$":function(t){t.match(/^[\w-]+/);if(t.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"#":function(t){if(!t.eat("{")){return false}return[null,"interpolation"]}},name:"css",helperType:"scss"});n.defineMIME("text/x-less",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,allowNested:true,tokenHooks:{"/":function(u,t){if(u.eat("/")){u.skipToEnd();return["comment","comment"]}else{if(u.eat("*")){t.tokenize=r;return r(u,t)}else{return["operator","operator"]}}},"@":function(t){if(t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false)){return false}t.eatWhile(/[\w\\\-]/);if(t.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../htmlmixed/htmlmixed"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("htmlembedded",function(d,f){var b=f.scriptStartRegex||/^<%/i,c=f.scriptEndRegex||/^%>/i;var i,g;function h(k,j){if(k.match(b,false)){j.token=e;return i.token(k,j.scriptState)}else{return g.token(k,j.htmlState)}}function e(k,j){if(k.match(c,false)){j.token=h;return g.token(k,j.htmlState)}else{return i.token(k,j.scriptState)}}return{startState:function(){i=i||a.getMode(d,f.scriptingModeSpec);g=g||a.getMode(d,"htmlmixed");return{token:f.startOpen?e:h,htmlState:a.startState(g),scriptState:a.startState(i)}},token:function(k,j){return j.token(k,j)},indent:function(k,j){if(k.token==h){return g.indent(k.htmlState,j)}else{if(i.indent){return i.indent(k.scriptState,j)}}},copyState:function(j){return{token:j.token,htmlState:a.copyState(g,j.htmlState),scriptState:a.copyState(i,j.scriptState)}},innerMode:function(j){if(j.token==e){return{state:j.scriptState,mode:i}}else{return{state:j.htmlState,mode:g}}}}},"htmlmixed");a.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});a.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});a.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});a.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("htmlmixed",function(c,d){var b=a.getMode(c,{name:"xml",htmlMode:true,multilineTagIndentFactor:d.multilineTagIndentFactor,multilineTagIndentPastTag:d.multilineTagIndentPastTag});var n=a.getMode(c,"css");var l=[],k=d&&d.scriptTypes;l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:a.getMode(c,"javascript")});if(k){for(var e=0;e<k.length;++e){var j=k[e];l.push({matches:j.matches,mode:j.mode&&a.getMode(c,j.mode)})}}l.push({matches:/./,mode:a.getMode(c,"text/plain")});function f(t,r){var p=r.htmlState.tagName;if(p){p=p.toLowerCase()}var q=b.token(t,r.htmlState);if(p=="script"&&/\btag\b/.test(q)&&t.current()==">"){var u=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);u=u?u[1]:"";if(u&&/[\"\']/.test(u.charAt(0))){u=u.slice(1,u.length-1)}for(var o=0;o<l.length;++o){var s=l[o];if(typeof s.matches=="string"?u==s.matches:s.matches.test(u)){if(s.mode){r.token=m;r.localMode=s.mode;r.localState=s.mode.startState&&s.mode.startState(b.indent(r.htmlState,""))}break}}}else{if(p=="style"&&/\btag\b/.test(q)&&t.current()==">"){r.token=g;r.localMode=n;r.localState=n.startState(b.indent(r.htmlState,""))}}return q}function h(s,o,p){var r=s.current();var q=r.search(o),i;if(q>-1){s.backUp(r.length-q)}else{if(i=r.match(/<\/?$/)){s.backUp(r.length);if(!s.match(o,false)){s.match(r)}}}return p}function m(o,i){if(o.match(/^<\/\s*script\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return null}return h(o,/<\/\s*script\s*>/,i.localMode.token(o,i.localState))}function g(o,i){if(o.match(/^<\/\s*style\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return null}return h(o,/<\/\s*style\s*>/,n.token(o,i.localState))}return{startState:function(){var i=b.startState();return{token:f,localMode:null,localState:null,htmlState:i}},copyState:function(o){if(o.localState){var i=a.copyState(o.localMode,o.localState)}return{token:o.token,localMode:o.localMode,localState:i,htmlState:a.copyState(b,o.htmlState)}},token:function(o,i){return i.token(o,i)},indent:function(o,i){if(!o.localMode||/^\s*<\//.test(i)){return b.indent(o.htmlState,i)}else{if(o.localMode.indent){return o.localMode.indent(o.localState,i)}else{return a.Pass}}},innerMode:function(i){return{state:i.localState||i.htmlState,mode:i.localMode||b}}}},"xml","javascript","css");a.defineMIME("text/html","htmlmixed")});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("sql",function(c,f){var d=f.client||{},i=f.atoms||{"false":true,"true":true,"null":true},m=f.builtin||{},g=f.keywords||{},h=f.operatorChars||/^[*+\-%<>!=&|~^]/,n=f.support||{},p=f.hooks||{},b=f.dateSQL||{date:true,time:true,timestamp:true};function e(u,s){var r=u.next();if(p[r]){var q=p[r](u,s);if(q!==false){return q}}if(n.hexNumber==true&&((r=="0"&&u.match(/^[xX][0-9a-fA-F]+/))||(r=="x"||r=="X")&&u.match(/^'[0-9a-fA-F]+'/))){return"number"}else{if(n.binaryNumber==true&&(((r=="b"||r=="B")&&u.match(/^'[01]+'/))||(r=="0"&&u.match(/^b[01]+/)))){return"number"}else{if(r.charCodeAt(0)>47&&r.charCodeAt(0)<58){u.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/);n.decimallessFloat==true&&u.eat(".");return"number"}else{if(r=="?"&&(u.eatSpace()||u.eol()||u.eat(";"))){return"variable-3"}else{if(r=="'"||(r=='"'&&n.doubleQuote)){s.tokenize=o(r);return s.tokenize(u,s)}else{if((((n.nCharCast==true&&(r=="n"||r=="N"))||(n.charsetCast==true&&r=="_"&&u.match(/[a-z][a-z0-9]*/i)))&&(u.peek()=="'"||u.peek()=='"'))){return"keyword"}else{if(/^[\(\),\;\[\]]/.test(r)){return null}else{if(n.commentSlashSlash&&r=="/"&&u.eat("/")){u.skipToEnd();return"comment"}else{if((n.commentHash&&r=="#")||(r=="-"&&u.eat("-")&&(!n.commentSpaceRequired||u.eat(" ")))){u.skipToEnd();return"comment"}else{if(r=="/"&&u.eat("*")){s.tokenize=k;return s.tokenize(u,s)}else{if(r=="."){if(n.zerolessFloat==true&&u.match(/^(?:\d+(?:e[+-]?\d+)?)/i)){return"number"}if(n.ODBCdotTable==true&&u.match(/^[a-zA-Z_]+/)){return"variable-2"}}else{if(h.test(r)){u.eatWhile(h);return null}else{if(r=="{"&&(u.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||u.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/))){return"number"}else{u.eatWhile(/^[_\w\d]/);var t=u.current().toLowerCase();if(b.hasOwnProperty(t)&&(u.match(/^( )+'[^']*'/)||u.match(/^( )+"[^"]*"/))){return"number"}if(i.hasOwnProperty(t)){return"atom"}if(m.hasOwnProperty(t)){return"builtin"}if(g.hasOwnProperty(t)){return"keyword"}if(d.hasOwnProperty(t)){return"string-2"}return null}}}}}}}}}}}}}}function o(q){return function(u,s){var t=false,r;while((r=u.next())!=null){if(r==q&&!t){s.tokenize=e;break}t=!t&&r=="\\"}return"string"}}function k(r,q){while(true){if(r.skipTo("*")){r.next();if(r.eat("/")){q.tokenize=e;break}}else{r.skipToEnd();break}}return"comment"}function j(s,r,q){r.context={prev:r.context,indent:s.indentation(),col:s.column(),type:q}}function l(q){q.indent=q.context.indent;q.context=q.context.prev}return{startState:function(){return{tokenize:e,context:null}},token:function(t,s){if(t.sol()){if(s.context&&s.context.align==null){s.context.align=false}}if(t.eatSpace()){return null}var r=s.tokenize(t,s);if(r=="comment"){return r}if(s.context&&s.context.align==null){s.context.align=true}var q=t.current();if(q=="("){j(t,s,")")}else{if(q=="["){j(t,s,"]")}else{if(s.context&&s.context.type==q){l(s)}}}return r},indent:function(t,r){var q=t.context;if(!q){return 0}var s=r.charAt(0)==q.type;if(q.align){return q.col+(s?0:1)}else{return q.indent+(s?0:c.indentUnit)}},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:n.commentSlashSlash?"//":n.commentHash?"#":null}});(function(){function c(h){var g;while((g=h.next())!=null){if(g=="`"&&!h.eat("`")){return"variable-2"}}h.backUp(h.current().length-1);return h.eatWhile(/\w/)?"variable-2":null}function b(g){if(g.eat("@")){g.match(/^session\./);g.match(/^local\./);g.match(/^global\./)}if(g.eat("'")){g.match(/^.*'/);return"variable-2"}else{if(g.eat('"')){g.match(/^.*"/);return"variable-2"}else{if(g.eat("`")){g.match(/^.*`/);return"variable-2"}else{if(g.match(/^[0-9a-zA-Z$\.\_]+/)){return"variable-2"}}}}return null}function d(g){if(g.eat("N")){return"atom"}return g.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var e="alter and as asc between by count create delete desc distinct drop from having in insert into is join like not on or order select set table union update values where ";function f(k){var h={},j=k.split(" ");for(var g=0;g<j.length;++g){h[j[g]]=true}return h}a.defineMIME("text/x-sql",{name:"sql",keywords:f(e+"begin"),builtin:f("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable doubleQuote binaryNumber hexNumber")});a.defineMIME("text/x-mssql",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered"),builtin:f("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":b}});a.defineMIME("text/x-mysql",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group groupby_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:f("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":b,"`":c,"\\":d}});a.defineMIME("text/x-mariadb",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:f("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":b,"`":c,"\\":d}});a.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:f("use select from using consistency where limit first reversed first and in insert into values using consistency ttl update set delete truncate begin batch apply create keyspace with columnfamily primary key index on drop alter type add any one quorum all local_quorum each_quorum"),builtin:f("ascii bigint blob boolean counter decimal double float int text timestamp uuid varchar varint"),atoms:f("false true"),operatorChars:/^[<>=]/,dateSQL:{},support:f("commentSlashSlash decimallessFloat"),hooks:{}});a.defineMIME("text/x-plsql",{name:"sql",client:f("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:f("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:f("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:f("date time timestamp"),support:f("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});a.defineMIME("text/x-hive",{name:"sql",keywords:f("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:f("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date timestamp"),support:f("ODBCdotTable doubleQuote binaryNumber hexNumber")})}())});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("xml",function(y,k){var p=y.indentUnit;var x=k.multilineTagIndentFactor||1;var d=k.multilineTagIndentPastTag;if(d==null){d=true}var w=k.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};var c=k.alignCDATA;var f,g;function n(F,E){function C(G){E.tokenize=G;return G(F,E)}var D=F.next();if(D=="<"){if(F.eat("!")){if(F.eat("[")){if(F.match("CDATA[")){return C(v("atom","]]>"))}else{return null}}else{if(F.match("--")){return C(v("comment","-->"))}else{if(F.match("DOCTYPE",true,true)){F.eatWhile(/[\w\._\-]/);return C(z(1))}else{return null}}}}else{if(F.eat("?")){F.eatWhile(/[\w\._\-]/);E.tokenize=v("meta","?>");return"meta"}else{f=F.eat("/")?"closeTag":"openTag";E.tokenize=m;return"tag bracket"}}}else{if(D=="&"){var B;if(F.eat("#")){if(F.eat("x")){B=F.eatWhile(/[a-fA-F\d]/)&&F.eat(";")}else{B=F.eatWhile(/[\d]/)&&F.eat(";")}}else{B=F.eatWhile(/[\w\.\-:]/)&&F.eat(";")}return B?"atom":"error"}else{F.eatWhile(/[^&<]/);return null}}}function m(E,D){var C=E.next();if(C==">"||(C=="/"&&E.eat(">"))){D.tokenize=n;f=C==">"?"endTag":"selfcloseTag";return"tag bracket"}else{if(C=="="){f="equals";return null}else{if(C=="<"){D.tokenize=n;D.state=l;D.tagName=D.tagStart=null;var B=D.tokenize(E,D);return B?B+" tag error":"tag error"}else{if(/[\'\"]/.test(C)){D.tokenize=j(C);D.stringStartCol=E.column();return D.tokenize(E,D)}else{E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}}}}function j(B){var C=function(E,D){while(!E.eol()){if(E.next()==B){D.tokenize=m;break}}return"string"};C.isInAttribute=true;return C}function v(C,B){return function(E,D){while(!E.eol()){if(E.match(B)){D.tokenize=n;break}E.next()}return C}}function z(B){return function(E,D){var C;while((C=E.next())!=null){if(C=="<"){D.tokenize=z(B+1);return D.tokenize(E,D)}else{if(C==">"){if(B==1){D.tokenize=n;break}else{D.tokenize=z(B-1);return D.tokenize(E,D)}}}}return"meta"}}function r(C,B,D){this.prev=C.context;this.tagName=B;this.indent=C.indented;this.startOfLine=D;if(w.doNotIndent.hasOwnProperty(B)||(C.context&&C.context.noIndent)){this.noIndent=true}}function u(B){if(B.context){B.context=B.context.prev}}function q(D,C){var B;while(true){if(!D.context){return}B=D.context.tagName;if(!w.contextGrabbers.hasOwnProperty(B)||!w.contextGrabbers[B].hasOwnProperty(C)){return}u(D)}}function l(B,D,C){if(B=="openTag"){C.tagStart=D.column();return b}else{if(B=="closeTag"){return t}else{return l}}}function b(B,D,C){if(B=="word"){C.tagName=D.current();g="tag";return e}else{g="error";return b}}function t(C,E,D){if(C=="word"){var B=E.current();if(D.context&&D.context.tagName!=B&&w.implicitlyClosed.hasOwnProperty(D.context.tagName)){u(D)}if(D.context&&D.context.tagName==B){g="tag";return s}else{g="tag error";return A}}else{g="error";return A}}function s(C,B,D){if(C!="endTag"){g="error";return s}u(D);return l}function A(B,D,C){g="error";return s(B,D,C)}function e(E,C,F){if(E=="word"){g="attribute";return i}else{if(E=="endTag"||E=="selfcloseTag"){var D=F.tagName,B=F.tagStart;F.tagName=F.tagStart=null;if(E=="selfcloseTag"||w.autoSelfClosers.hasOwnProperty(D)){q(F,D)}else{q(F,D);F.context=new r(F,D,B==F.indented)}return l}}g="error";return e}function i(B,D,C){if(B=="equals"){return o}if(!w.allowMissing){g="error"}return e(B,D,C)}function o(B,D,C){if(B=="string"){return h}if(B=="word"&&w.allowUnquoted){g="string";return e}g="error";return e(B,D,C)}function h(B,D,C){if(B=="string"){return h}return e(B,D,C)}return{startState:function(){return{tokenize:n,state:l,indented:0,tagName:null,tagStart:null,context:null}},token:function(D,C){if(!C.tagName&&D.sol()){C.indented=D.indentation()}if(D.eatSpace()){return null}f=null;var B=C.tokenize(D,C);if((B||f)&&B!="comment"){g=null;C.state=C.state(f||B,D,C);if(g){B=g=="error"?B+" error":g}}return B},indent:function(G,C,F){var E=G.context;if(G.tokenize.isInAttribute){if(G.tagStart==G.indented){return G.stringStartCol+1}else{return G.indented+p}}if(E&&E.noIndent){return a.Pass}if(G.tokenize!=m&&G.tokenize!=n){return F?F.match(/^(\s*)/)[0].length:0}if(G.tagName){if(d){return G.tagStart+G.tagName.length+2}else{return G.tagStart+p*x}}if(c&&/<!\[CDATA\[/.test(C)){return 0}var B=C&&/^<(\/)?([\w_:\.-]*)/.exec(C);if(B&&B[1]){while(E){if(E.tagName==B[2]){E=E.prev;break}else{if(w.implicitlyClosed.hasOwnProperty(E.tagName)){E=E.prev}else{break}}}}else{if(B){while(E){var D=w.contextGrabbers[E.tagName];if(D&&D.hasOwnProperty(B[2])){E=E.prev}else{break}}}}while(E&&!E.startOfLine){E=E.prev}if(E){return E.indent+p}else{return 0}},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml"}});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");if(!a.mimeModes.hasOwnProperty("text/html")){a.defineMIME("text/html",{name:"xml",htmlMode:true})}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(d){var f="CodeMirror-hint";var e="CodeMirror-hint-active";d.showHint=function(j,k,l){if(j.options.readOnly){return}if(!k){return j.showHint(l)}if(l&&l.async){k.async=true}var m={hint:k};if(l){for(var n in l){m[n]=l[n]}}return j.showHint(m)};d.defineExtension("showHint",function(l){if(this.listSelections().length>1||this.somethingSelected()){return}if(this.state.completionActive){this.state.completionActive.close()}var k=this.state.completionActive=new a(this,l);var j=k.options.hint;if(!j){return}d.signal(this,"startCompletion",this);if(j.async){j(this,function(m){k.showHints(m)},k.options)}else{return k.showHints(j(this,k.options))}});function a(j,k){this.cm=j;this.options=this.buildOptions(k);this.widget=this.onClose=null}a.prototype={close:function(){if(!this.active()){return}this.cm.state.completionActive=null;if(this.widget){this.widget.close()}if(this.onClose){this.onClose()}d.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(l,k){var m,j=l.list[k];if(typeof j==="string"){m=j.indexOf("\n");if(m!=-1){j=j.substring(0,m)}}if(j.hint){j.hint(this.cm,l,j)}else{this.cm.replaceRange(i(j),j.from||l.from,j.to||l.to,"complete")}d.signal(l,"pick",j);this.close()},showHints:function(j){if(!j||!j.list.length||!this.active()){return this.close()}this.showWidget(j)},showWidget:function(o){this.widget=new h(this,o);d.signal(o,"shown");var v=0,l=this,k;var w=this.options.closeCharacters;var s=this.cm.getCursor(),p=this.cm.getLine(s.line).length;var t=window.requestAnimationFrame||function(x){return setTimeout(x,1000/60)};var q=window.cancelAnimationFrame||clearTimeout;function n(){if(k){return}k=true;l.close();l.cm.off("cursorActivity",j);if(o){d.signal(o,"close")}}function m(){if(k){return}d.signal(o,"update");var x=l.options.hint;if(x.async){x(l.cm,u,l.options)}else{u(x(l.cm,l.options))}}function u(x){o=x;if(k){return}if(!o||!o.list.length){return n()}if(l.widget){l.widget.close()}l.widget=new h(l,o)}function r(){if(v){q(v);v=0}}function j(){r();var y=l.cm.getCursor(),x=l.cm.getLine(y.line);if(y.line!=s.line||x.length-y.ch!=p-s.ch||y.ch<s.ch||l.cm.somethingSelected()||(y.ch&&w.test(x.charAt(y.ch-1)))){l.close()}else{v=t(m);if(l.widget){l.widget.close()}}}this.cm.on("cursorActivity",j);this.onClose=n},buildOptions:function(k){var l=this.cm.options.hintOptions;var j={};for(var m in b){j[m]=b[m]}if(l){for(var m in l){if(l[m]!==undefined){j[m]=l[m]}}}if(k){for(var m in k){if(k[m]!==undefined){j[m]=k[m]}}}return j}};function i(j){if(typeof j=="string"){return j}else{return j.text}}function c(n,q){var k={Up:function(){q.moveFocus(-1)},Down:function(){q.moveFocus(1)},PageUp:function(){q.moveFocus(-q.menuSize()+1,true)},PageDown:function(){q.moveFocus(q.menuSize()-1,true)},Home:function(){q.setFocus(0)},End:function(){q.setFocus(q.length-1)},Enter:q.pick,Tab:q.pick,Esc:q.close};var p=n.options.customKeys;var m=p?{}:k;function l(r,t){var s;if(typeof t!="string"){s=function(u){return t(u,q)}}else{if(k.hasOwnProperty(t)){s=k[t]}else{s=t}}m[r]=s}if(p){for(var o in p){if(p.hasOwnProperty(o)){l(o,p[o])}}}var j=n.options.extraKeys;if(j){for(var o in j){if(j.hasOwnProperty(o)){l(o,j[o])}}}return m}function g(k,j){while(j&&j!=k){if(j.nodeName.toUpperCase()==="LI"&&j.parentNode==k){return j}j=j.parentNode}}function h(w,G){this.completion=w;this.data=G;var n=this,s=w.cm;var D=this.hints=document.createElement("ul");D.className="CodeMirror-hints";this.selectedHint=G.selectedHint||0;var r=G.list,H,q;for(var F=0;F<r.length;++F){var m=D.appendChild(document.createElement("li")),l=r[F];var k=f+(F!=this.selectedHint?"":" "+e);if(l.className!=null){k=l.className+" "+k}m.className=k;if(l.render){l.render(m,G,l)}else{H=l.displayText||i(l);q=H.indexOf("\n");if(q==-1){m.appendChild(document.createTextNode(H))}else{m.innerHTML=H.substring(0,q)+'&nbsp;&nbsp;<span class="cm-hint-item">'+H.substring(q+1)+"</span>"}}m.hintId=F}var q=s.cursorCoords(w.options.alignWithWord?G.from:null);var o=q.left,A=q.bottom,y=true;D.style.left=o+"px";D.style.top=A+"px";var t=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);var E=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(w.options.container||document.body).appendChild(D);var u=D.getBoundingClientRect(),v=u.bottom-E;if(D.scrollHeight>D.clientHeight){D.style.width=(u.right-u.left)+20+"px"}if(v>0){var B=u.bottom-u.top,j=q.top-(q.bottom-u.top);if(j-B>0){D.style.top=(A=q.top-B)+"px";y=false}else{if(B>E){D.style.height=(E-5)+"px";D.style.top=(A=q.bottom-u.top)+"px";var p=s.getCursor();if(G.from.ch!=p.ch){q=s.cursorCoords(p);D.style.left=(o=q.left)+"px";u=D.getBoundingClientRect()}}}}var x=u.right-t;if(x>0){if(u.right-u.left>t){D.style.width=(t-5)+"px";x-=(u.right-u.left)-t}D.style.left=(o=q.left-x)+"px"}s.addKeyMap(this.keyMap=c(w,{moveFocus:function(J,I){n.changeActive(n.selectedHint+J,I)},setFocus:function(I){n.changeActive(I)},menuSize:function(){return n.screenAmount()},length:r.length,close:function(){w.close()},pick:function(){n.pick()},data:G}));if(w.options.closeOnUnfocus){var C;s.on("blur",this.onBlur=function(){C=setTimeout(function(){w.close()},100)});s.on("focus",this.onFocus=function(){clearTimeout(C)})}var z=s.getScrollInfo();s.on("scroll",this.onScroll=function(){var L=s.getScrollInfo(),K=s.getWrapperElement().getBoundingClientRect();var J=A+z.top-L.top;var I=J-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(!y){I+=D.offsetHeight}if(I<=K.top||I>=K.bottom){return w.close()}D.style.top=J+"px";D.style.left=(o+z.left-L.left)+"px"});d.on(D,"dblclick",function(J){var I=g(D,J.target||J.srcElement);if(I&&I.hintId!=null){n.changeActive(I.hintId);n.pick()}});d.on(D,"click",function(J){var I=g(D,J.target||J.srcElement);if(I&&I.hintId!=null){n.changeActive(I.hintId);if(w.options.completeOnSingleClick){n.pick()}}});d.on(D,"mousedown",function(){setTimeout(function(){s.focus()},20)});d.signal(G,"select",r[0],D.firstChild);return true}h.prototype={close:function(){if(this.completion.widget!=this){return}this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var j=this.completion.cm;if(this.completion.options.closeOnUnfocus){j.off("blur",this.onBlur);j.off("focus",this.onFocus)}j.off("scroll",this.onScroll)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(j,l){if(j>=this.data.list.length){j=l?this.data.list.length-1:0}else{if(j<0){j=l?0:this.data.list.length-1}}if(this.selectedHint==j){return}var k=this.hints.childNodes[this.selectedHint];k.className=k.className.replace(" "+e,"");k=this.hints.childNodes[this.selectedHint=j];k.className+=" "+e;if(k.offsetTop<this.hints.scrollTop){this.hints.scrollTop=k.offsetTop-3}else{if(k.offsetTop+k.offsetHeight>this.hints.scrollTop+this.hints.clientHeight){this.hints.scrollTop=k.offsetTop+k.offsetHeight-this.hints.clientHeight+3}}d.signal(this.data,"select",this.data.list[this.selectedHint],k)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};d.registerHelper("hint","auto",function(j,k){var m=j.getHelpers(j.getCursor(),"hint"),o;if(m.length){for(var l=0;l<m.length;l++){var n=m[l](j,k);if(n&&n.list.length){return n}}}else{if(o=j.getHelper(j.getCursor(),"hintWords")){if(o){return d.hint.fromList(j,{words:o})}}else{if(d.hint.anyword){return d.hint.anyword(j,k)}}}});d.registerHelper("hint","fromList",function(j,k){var p=j.getCursor(),m=j.getTokenAt(p);var n=[];for(var l=0;l<k.words.length;l++){var o=k.words[l];if(o.slice(0,m.string.length)==m.string){n.push(o)}}if(n.length){return{list:n,from:d.Pos(p.line,m.start),to:d.Pos(p.line,m.end)}}});d.commands.autocomplete=d.showHint;var b={hint:d.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:true,completeOnSingleClick:false,container:null,customKeys:null,extraKeys:null};d.defineOption("hintOptions",null)});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(d){var l=d.Pos;function h(p,r){for(var q=0,s=p.length;q<s;++q){r(p[q])}}function e(p,r){if(!Array.prototype.indexOf){var q=p.length;while(q--){if(p[q]===r){return true}}return false}return p.indexOf(r)!=-1}function i(u,t,w,q){var v=u.getCursor(),s=w(u,v);if(/\b(?:string|comment|number)\b/.test(s.type)){return}s.state=d.innerMode(u.getMode(),s.state).state;if(u.allUserHintItems){if(s.string&&s.string.substring(0,1)=="."){s.string=s.string.substring(1);s.usePrefix=false}else{if(!/^[\w$_]*$/.test(s.string)){s.string=""}s.usePrefix=true}return{list:j(s,[w(u,l(v.line,s.start))],t,q,u),from:l(v.line,(s.usePrefix&&s.string)?s.start:++s.start),to:l(v.line,s.end)}}if(!/^[\w$_]*$/.test(s.string)){s={start:v.ch,end:v.ch,string:"",state:s.state,type:s.string=="."?"property":null}}else{if(s.end>v.ch){s.end=v.ch;s.string=s.string.slice(0,v.ch-s.start)}}var p=s;while(p.type=="property"){p=w(u,l(v.line,p.start));if(p.string!="."){return}p=w(u,l(v.line,p.start));if(!r){var r=[]}r.push(p)}return{list:j(s,r,t,q,u),from:l(v.line,s.start),to:l(v.line,s.end)}}function a(q,p){return i(q,c,function(r,s){return r.getTokenAt(s)},p)}d.registerHelper("hint","javascript",a);function g(q,p){return i(q,c,function(r,s){return r.getTokenAt(s)},p)}d.registerHelper("hint","sql",g);function b(q,r){var p=q.getTokenAt(r);if(r.ch==p.start+1&&p.string.charAt(0)=="."){p.end=p.start;p.string=".";p.type="property"}else{if(/^\.[\w$_]*$/.test(p.string)){p.type="property";p.start++;p.string=p.string.replace(/\./,"")}}return p}function k(q,p){return i(q,n,b,p)}d.registerHelper("hint","coffeescript",k);var m=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search").split(" ");var o=("length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var f="prototype apply call bind".split(" ");var c=("break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with").split(" ");var n=("and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");function j(x,q,z,s,t){var D=[],u=x.string,F=s&&s.globalScope||window;function B(M){var L=M.toLowerCase(),v=u.toLowerCase();if(L.lastIndexOf(v,0)==0&&!e(D,M)){D.push(M)}}function p(M){if(typeof M=="string"){h(m,B)}else{if(M instanceof Array){h(o,B)}else{if(M instanceof Function){h(f,B)}}}var L;for(var v in M){L=true;B(v)}if(!L&&M&&Object.getOwnPropertyNames){h(Object.getOwnPropertyNames(M),B)}}function I(v){if(Ext.String.startsWith(v,"  ")){var L,M=v.indexOf(":");if(M!=-1){L=v.substring(2,M);if(Wb.verifyName(L)===true){return L}}}return false}function K(P,N){var v,M,L,O;M=Ide.activeCard.activeTab;if(M.itemName==P&&M.node.getDepth()==1){v=M.editor.getValue()}else{O=Ide.activeCard.tree.getRootNode().firstChild.data[N];if(O){v=O[P]}}if(v){Wb.each(v.split("\n"),function(Q){L=I(Q);if(L){B(L)}})}}if(q&&q.length){var E=q.pop(),w;if(t.allUserHintItems){if(t.xsyncLoadItems){t.xsyncLoadItems(t,E.string)}if(x.usePrefix){Wb.each(t.allUserHintItems,function(v){B(v)})}else{Wb.each(t.allUserHintItems[E.string],function(v){B(v)})}return Wb.sort(D)}else{if(E.type&&E.type.indexOf("variable")===0){if(t.options.isServerScript||window.Ide&&Ide.activeCard&&Ide.activeCard.file=="server.js"){if(q.length){return D}if(t.options.isServerScript&&E.string=="app"){K("serverScript","configs")}var y,H,G;y=Ide.cmPickList[E.string];if(y){G=y.length;for(H=0;H<G;H++){B(y[H])}}return Wb.sort(D)}else{if(E.string=="app"&&window.Ide&&Ide.activeCard&&Ide.activeCard.cardType=="module"){if(q.length>1){return[]}var r,A,J;if(q.length){A=q.pop().string;A=Ide.activeCard.tree.getRootNode().findChildBy(function(v){if(v.data.configs.itemId==A||v.data.configs.normalName==A){return true}},null,true);if(A){A=Ide.getMetaControl(A);r=A.data.general.type||A.data.general.hintType;if(r){A=Ext.ClassManager.get(r)}else{A=null}}if(A){for(J in A){B(J)}if(A.prototype){for(J in A.prototype){B(J)}}}}else{Ide.activeCard.tree.getRootNode().cascadeBy(function(v){if(v.getDepth()>1){J=v.data.configs.itemId;B(J);J=v.data.configs.normalName;if(J){B(J)}}});K("initialize","events")}return Wb.sort(D)}}if(s&&s.additionalContext){w=s.additionalContext[E.string]}if(!s||s.useGlobalScope!==false){w=w||F[E.string]}}else{if(E.type=="string"){w=""}else{if(E.type=="atom"){w=1}else{if(E.type=="function"){if(F.jQuery!=null&&(E.string=="$"||E.string=="jQuery")&&(typeof F.jQuery=="function")){w=F.jQuery()}else{if(F._!=null&&(E.string=="_")&&(typeof F._=="function")){w=F._()}}}}}}}while(w!=null&&q.length){w=w[q.pop().string]}if(w!=null){p(w)}}else{if(t.allUserHintItems===undefined){for(var C=x.state.localVars;C;C=C.next){B(C.name)}for(var C=x.state.globalVars;C;C=C.next){B(C.name)}if(!s||s.useGlobalScope!==false){p(F)}h(z,B)}}return Wb.sort(D)}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){var c=b.Pos;function a(o,h){var t=h&&h.schemaInfo;var E=(h&&h.quoteChar)||'"';if(!t){return}var g=o.getCursor(),m=o.getTokenAt(g);if(m.end>g.ch){m.end=g.ch;m.string=m.string.slice(0,g.ch-m.start)}var F=b.innerMode(o.getMode(),m.state);if(F.mode.name!="xml"){return}var p=[],z=false,A;var H=/\btag\b/.test(m.type)&&!/>$/.test(m.string);var e=H&&/^\w/.test(m.string),C;if(e){var s=o.getLine(g.line).slice(Math.max(0,m.start-2),m.start);var l=/<\/$/.test(s)?"close":/<$/.test(s)?"open":null;if(l){C=m.start-(l=="close"?2:1)}}else{if(H&&m.string=="<"){l="open"}else{if(H&&m.string=="</"){l="close"}}}if(!H&&!F.state.tagName||l){if(e){A=m.string}z=l;var f=F.state.context,u=f&&t[f.tagName];var k=f?u&&u.children:t["!top"];if(k&&l!="close"){for(var B=0;B<k.length;++B){if(!A||k[B].lastIndexOf(A,0)==0){p.push("<"+k[B])}}}else{if(l!="close"){for(var G in t){if(t.hasOwnProperty(G)&&G!="!top"&&G!="!attrs"&&(!A||G.lastIndexOf(A,0)==0)){p.push("<"+G)}}}}if(f&&(!A||l=="close"&&f.tagName.lastIndexOf(A,0)==0)){p.push("</"+f.tagName+">")}}else{var u=t[F.state.tagName],x=u&&u.attrs;var j=t["!attrs"];if(!x&&!j){return}if(!x){x=j}else{if(j){var r={};for(var d in j){if(j.hasOwnProperty(d)){r[d]=j[d]}}for(var d in x){if(x.hasOwnProperty(d)){r[d]=x[d]}}x=r}}if(m.type=="string"||m.string=="="){var s=o.getRange(c(g.line,Math.max(0,g.ch-60)),c(g.line,m.type=="string"?m.start:m.end));var v=s.match(/([^\s\u00a0=<>\"\']+)=$/),q;if(!v||!x.hasOwnProperty(v[1])||!(q=x[v[1]])){return}if(typeof q=="function"){q=q.call(this,o)}if(m.type=="string"){A=m.string;var w=0;if(/['"]/.test(m.string.charAt(0))){E=m.string.charAt(0);A=m.string.slice(1);w++}var D=m.string.length;if(/['"]/.test(m.string.charAt(D-1))){E=m.string.charAt(D-1);A=m.string.substr(w,D-2)}z=true}for(var B=0;B<q.length;++B){if(!A||q[B].lastIndexOf(A,0)==0){p.push(E+q[B]+E)}}}else{if(m.type=="attribute"){A=m.string;z=true}for(var y in x){if(x.hasOwnProperty(y)&&(!A||y.lastIndexOf(A,0)==0)){p.push(y)}}}}return{list:p,from:z?c(g.line,C==null?m.start:C):g,to:z?c(g.line,m.end):g}}b.registerHelper("hint","xml",a)});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("./xml-hint"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./xml-hint"],a)}else{a(CodeMirror)}}})(function(f){var g="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");var j=["_blank","_self","_top","_parent"];var a=["ascii","utf-8","utf-16","latin1","latin1"];var e=["get","post","put","delete"];var b=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var c=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];var m={attrs:{}};var h={a:{attrs:{href:null,ping:null,type:null,media:c,target:j,hreflang:g}},abbr:m,acronym:m,address:m,applet:m,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:c,hreflang:g,type:null,shape:["default","rect","circle","poly"]}},article:m,aside:m,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:m,base:{attrs:{href:null,target:j}},basefont:m,bdi:m,bdo:m,big:m,blockquote:{attrs:{cite:null}},body:m,br:m,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:m,center:m,cite:m,code:m,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:m,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:m,dir:m,div:m,dl:m,dt:m,em:m,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:m,figure:m,font:m,footer:m,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:b,method:e,novalidate:["","novalidate"],target:j}},frame:m,frameset:m,h1:m,h2:m,h3:m,h4:m,h5:m,h6:m,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:m,hgroup:m,hr:m,html:{attrs:{manifest:null},children:["head","body"]},i:m,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:m,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:m,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:g,media:c,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:m,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:m,noframes:m,noscript:m,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:m,param:{attrs:{name:null,value:null}},pre:m,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:m,rt:m,ruby:m,s:m,samp:m,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:m,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:m,source:{attrs:{src:null,type:null,media:null}},span:m,strike:m,strong:m,style:{attrs:{type:["text/css"],media:c,scoped:null}},sub:m,summary:m,sup:m,table:m,tbody:m,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:m,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:m,time:{attrs:{datetime:null}},title:m,tr:m,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:g}},tt:m,u:m,ul:m,"var":m,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:m};var d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};function i(o){for(var n in d){if(d.hasOwnProperty(n)){o.attrs[n]=d[n]}}}i(m);for(var l in h){if(h.hasOwnProperty(l)&&h[l]!=m){i(h[l])}}f.htmlSchema=h;function k(n,o){var q={schemaInfo:h};if(o){for(var p in o){q[p]=o[p]}}return f.hint.xml(n,q)}f.registerHelper("hint","html",k)});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var b={};var e=/[^\s\u00a0]/;var c=a.Pos;function d(g){var f=g.search(e);return f==-1?0:f}a.commands.toggleComment=function(f){var j=Infinity,g=f.listSelections(),k=null;for(var h=g.length-1;h>=0;h--){var m=g[h].from(),l=g[h].to();if(m.line>=j){continue}if(l.line>=j){l=c(j,0)}j=m.line;if(k==null){if(f.uncomment(m,l)){k="un"}else{f.lineComment(m,l);k="line"}}else{if(k=="un"){f.uncomment(m,l)}else{f.lineComment(m,l)}}}};a.defineExtension("lineComment",function(k,l,o){if(!o){o=b}var m=this,h=m.getModeAt(k);var n=o.lineComment||h.lineComment;if(!n){if(o.blockCommentStart||h.blockCommentStart){o.fullLines=true;m.blockComment(k,l,o)}return}var j=m.getLine(k.line);if(j==null){return}var g=Math.min(l.ch!=0||l.line==k.line?l.line+1:l.line,m.lastLine()+1);var f=o.padding==null?" ":o.padding;var i=o.commentBlankLines||k.line==l.line;m.operation(function(){if(o.indent){var r=j.slice(0,d(j));for(var q=k.line;q<g;++q){var p=m.getLine(q),s=r.length;if(!i&&!e.test(p)){continue}if(p.slice(0,s)!=r){s=d(p)}m.replaceRange(r+n+f,c(q,0),c(q,s))}}else{for(var q=k.line;q<g;++q){if(i||e.test(m.getLine(q))){m.replaceRange(n+f,c(q,0))}}}})});a.defineExtension("blockComment",function(j,k,n){if(!n){n=b}var m=this,h=m.getModeAt(j);var i=n.blockCommentStart||h.blockCommentStart;var l=n.blockCommentEnd||h.blockCommentEnd;if(!i||!l){if((n.lineComment||h.lineComment)&&n.fullLines!=false){m.lineComment(j,k,n)}return}var g=Math.min(k.line,m.lastLine());if(g!=j.line&&k.ch==0&&e.test(m.getLine(g))){--g}var f=n.padding==null?" ":n.padding;if(j.line>g){return}m.operation(function(){if(n.fullLines!=false){var q=e.test(m.getLine(g));m.replaceRange(f+l,c(g));m.replaceRange(i+f,c(j.line,0));var o=n.blockCommentLead||h.blockCommentLead;if(o!=null){for(var p=j.line+1;p<=g;++p){if(p!=g||q){m.replaceRange(o+f,c(p,0))}}}}else{m.replaceRange(l,k);m.replaceRange(i,j)}})});a.defineExtension("uncomment",function(z,j,k){if(!k){k=b}var w=this,t=w.getModeAt(z);var l=Math.min(j.ch!=0||j.line==z.line?j.line:j.line-1,w.lastLine()),m=Math.min(z.line,l);var v=k.lineComment||t.lineComment,h=[];var C=k.padding==null?" ":k.padding,o;lineComment:{if(!v){break lineComment}for(var A=m;A<=l;++A){var p=w.getLine(A);var q=p.indexOf(v);if(q>-1&&!/comment/.test(w.getTokenTypeAt(c(A,q+1)))){q=-1}if(q==-1&&(A!=l||A==m)&&e.test(p)){break lineComment}if(q>-1&&e.test(p.slice(0,q))){break lineComment}h.push(p)}w.operation(function(){for(var G=m;G<=l;++G){var E=h[G-m];var H=E.indexOf(v),F=H+v.length;if(H<0){continue}if(E.slice(F,F+C.length)==C){F+=C.length}o=true;w.replaceRange("",c(G,H),c(G,F))}});if(o){return true}}var r=k.blockCommentStart||t.blockCommentStart;var f=k.blockCommentEnd||t.blockCommentEnd;if(!r||!f){return false}var B=k.blockCommentLead||t.blockCommentLead;var y=w.getLine(m),n=l==m?y:w.getLine(l);var s=y.indexOf(r),u=n.lastIndexOf(f);if(u==-1&&m!=l){n=w.getLine(--l);u=n.lastIndexOf(f)}if(s==-1||u==-1||!/comment/.test(w.getTokenTypeAt(c(m,s+1)))||!/comment/.test(w.getTokenTypeAt(c(l,u+1)))){return false}var x=y.lastIndexOf(r,z.ch);var D=x==-1?-1:y.slice(0,z.ch).indexOf(f,x+r.length);if(x!=-1&&D!=-1&&D+f.length!=z.ch){return false}D=n.indexOf(f,j.ch);var g=n.slice(j.ch).lastIndexOf(r,D-j.ch);x=(D==-1||g==-1)?-1:j.ch+g;if(D!=-1&&x!=-1&&x!=j.ch){return false}w.operation(function(){w.replaceRange("",c(l,u-(C&&n.slice(u-C.length,u)==C?C.length:0)),c(l,u+f.length));var H=s+r.length;if(C&&y.slice(H,H+C.length)==C){H+=C.length}w.replaceRange("",c(m,s),c(m,H));if(B){for(var G=m+1;G<=l;++G){var F=w.getLine(G),I=F.indexOf(B);if(I==-1||e.test(F.slice(0,I))){continue}var E=I+B.length;if(C&&F.slice(E,E+C.length)==C){E+=C.length}w.replaceRange("",c(G,I),c(G,E))}}});return true})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(e){var d=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var i=e.Pos;var a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function f(q,m,p,k){var s=q.getLineHandle(m.line),o=m.ch-1;var n=(o>=0&&a[s.text.charAt(o)])||a[s.text.charAt(++o)];if(!n){return null}var l=n.charAt(1)==">"?1:-1;if(p&&(l>0)!=(o==m.ch)){return null}var j=q.getTokenTypeAt(i(m.line,o+1));var r=g(q,i(m.line,o+(l>0?1:0)),l,j||null,k);if(r==null){return null}return{from:i(m.line,o),to:r&&r.pos,match:r&&r.ch==n.charAt(0),forward:l>0}}function g(w,r,n,k,m){var l=(m&&m.maxScanLineLength)||10000;var t=(m&&m.maxScanLines)||1000;var v=[];var x=m&&m.bracketRegex?m.bracketRegex:/[(){}[\]]/;var q=n>0?Math.min(r.line+t,w.lastLine()+1):Math.max(w.firstLine()-1,r.line-t);for(var o=r.line;o!=q;o+=n){var y=w.getLine(o);if(!y){continue}var u=n>0?0:y.length-1,p=n>0?y.length:-1;if(y.length>l){continue}if(o==r.line){u=r.ch-(n<0?1:0)}for(;u!=p;u+=n){var j=y.charAt(u);if(x.test(j)&&(k===undefined||w.getTokenTypeAt(i(o,u+1))==k)){var s=a[j];if((s.charAt(1)==">")==(n>0)){v.push(j)}else{if(!v.length){return{pos:i(o,u),ch:j}}else{v.pop()}}}}}return o-n==(n>0?w.lastLine():w.firstLine())?false:null}function b(s,n,m){var k=s.state.matchBrackets.maxHighlightLineLength||1000;var r=[],l=s.listSelections();for(var o=0;o<l.length;o++){var q=l[o].empty()&&f(s,l[o].head,false,m);if(q&&s.getLine(q.from.line).length<=k){var j=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";r.push(s.markText(q.from,i(q.from.line,q.from.ch+1),{className:j}));if(q.to&&s.getLine(q.to.line).length<=k){r.push(s.markText(q.to,i(q.to.line,q.to.ch+1),{className:j}))}}}if(r.length){if(d&&s.state.focused){s.display.input.focus()}var p=function(){s.operation(function(){for(var t=0;t<r.length;t++){r[t].clear()}})};if(n){setTimeout(p,800)}else{return p}}}var c=null;function h(j){j.operation(function(){if(c){c();c=null}c=b(j,false,j.state.matchBrackets)})}e.defineOption("matchBrackets",false,function(j,l,k){if(k&&k!=e.Init){j.off("cursorActivity",h)}if(l){j.state.matchBrackets=typeof l=="object"?l:{};j.on("cursorActivity",h)}});e.defineExtension("matchBrackets",function(){b(this,true)});e.defineExtension("findMatchingBracket",function(l,j,k){return f(this,l,j,k)});e.defineExtension("scanForBracket",function(m,k,l,j){return g(this,m,k,l,j)})});var JSHINT=(function(){var aW,s={"<":true,"<=":true,"==":true,"===":true,"!==":true,"!=":true,">":true,">=":true,"+":true,"-":true,"*":true,"/":true,"%":true},n={asi:true,bitwise:true,boss:true,browser:true,couch:true,curly:true,debug:true,devel:true,dojo:true,eqeqeq:true,eqnull:true,es5:true,esnext:true,evil:true,expr:true,forin:true,funcscope:true,globalstrict:true,immed:true,iterator:true,jquery:true,lastsemic:true,latedef:true,laxbreak:true,laxcomma:true,loopfunc:true,mootools:true,multistr:true,newcap:true,noarg:true,node:true,noempty:true,nonew:true,nonstandard:true,nomen:true,onevar:true,onecase:true,passfail:true,plusplus:true,proto:true,prototypejs:true,regexdash:true,regexp:true,rhino:true,undef:true,scripturl:true,shadow:true,smarttabs:true,strict:true,sub:true,supernew:true,trailing:true,validthis:true,withstmt:true,white:true,wsh:true},ai={maxlen:false,indent:false,maxerr:false,predef:false},aE={bitwise:true,forin:true,newcap:true,nomen:true,plusplus:true,regexp:true,undef:true,white:true,eqeqeq:true,onevar:true},r={eqeq:"eqeqeq",vars:"onevar",windows:"wsh"},aS={ArrayBuffer:false,ArrayBufferView:false,Audio:false,addEventListener:false,applicationCache:false,atob:false,blur:false,btoa:false,clearInterval:false,clearTimeout:false,close:false,closed:false,DataView:false,DOMParser:false,defaultStatus:false,document:false,event:false,FileReader:false,Float32Array:false,Float64Array:false,FormData:false,focus:false,frames:false,getComputedStyle:false,HTMLElement:false,HTMLAnchorElement:false,HTMLBaseElement:false,HTMLBlockquoteElement:false,HTMLBodyElement:false,HTMLBRElement:false,HTMLButtonElement:false,HTMLCanvasElement:false,HTMLDirectoryElement:false,HTMLDivElement:false,HTMLDListElement:false,HTMLFieldSetElement:false,HTMLFontElement:false,HTMLFormElement:false,HTMLFrameElement:false,HTMLFrameSetElement:false,HTMLHeadElement:false,HTMLHeadingElement:false,HTMLHRElement:false,HTMLHtmlElement:false,HTMLIFrameElement:false,HTMLImageElement:false,HTMLInputElement:false,HTMLIsIndexElement:false,HTMLLabelElement:false,HTMLLayerElement:false,HTMLLegendElement:false,HTMLLIElement:false,HTMLLinkElement:false,HTMLMapElement:false,HTMLMenuElement:false,HTMLMetaElement:false,HTMLModElement:false,HTMLObjectElement:false,HTMLOListElement:false,HTMLOptGroupElement:false,HTMLOptionElement:false,HTMLParagraphElement:false,HTMLParamElement:false,HTMLPreElement:false,HTMLQuoteElement:false,HTMLScriptElement:false,HTMLSelectElement:false,HTMLStyleElement:false,HTMLTableCaptionElement:false,HTMLTableCellElement:false,HTMLTableColElement:false,HTMLTableElement:false,HTMLTableRowElement:false,HTMLTableSectionElement:false,HTMLTextAreaElement:false,HTMLTitleElement:false,HTMLUListElement:false,HTMLVideoElement:false,history:false,Int16Array:false,Int32Array:false,Int8Array:false,Image:false,length:false,localStorage:false,location:false,MessageChannel:false,MessageEvent:false,MessagePort:false,moveBy:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,openDatabase:false,opener:false,Option:false,parent:false,print:false,removeEventListener:false,resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,sessionStorage:false,setInterval:false,setTimeout:false,SharedWorker:false,status:false,top:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,WebSocket:false,window:false,Worker:false,XMLHttpRequest:false,XMLSerializer:false,XPathEvaluator:false,XPathException:false,XPathExpression:false,XPathNamespace:false,XPathNSResolver:false,XPathResult:false},a6={require:false,respond:false,getRow:false,emit:false,send:false,start:false,sum:false,log:false,exports:false,module:false,provides:false},t={alert:false,confirm:false,console:false,Debug:false,opera:false,prompt:false},P={dojo:false,dijit:false,dojox:false,define:false,require:false},E={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},az,aK=["closure","exception","global","label","outer","unused","var"],z,A,aQ,aA,am,j,ba={"$":false,jQuery:false},a4,K,aF,aR,aU={"$":false,"$$":false,Assets:false,Browser:false,Chain:false,Class:false,Color:false,Cookie:false,Core:false,Document:false,DomReady:false,DOMReady:false,Drag:false,Element:false,Elements:false,Event:false,Events:false,Fx:false,Group:false,Hash:false,HtmlTable:false,Iframe:false,IframeShim:false,InputValidator:false,instanceOf:false,Keyboard:false,Locale:false,Mask:false,MooTools:false,Native:false,Options:false,OverText:false,Request:false,Scroller:false,Slick:false,Slider:false,Sortables:false,Spinner:false,Swiff:false,Tips:false,Type:false,typeOf:false,URI:false,Window:false},k,ao={__filename:false,__dirname:false,Buffer:false,console:false,exports:false,GLOBAL:false,global:false,module:false,process:false,require:false,setTimeout:false,clearTimeout:false,setInterval:false,clearInterval:false},C,T,aZ,q,aM,d={"$":false,"$$":false,"$A":false,"$F":false,"$H":false,"$R":false,"$break":false,"$continue":false,"$w":false,Abstract:false,Ajax:false,Class:false,Enumerable:false,Element:false,Event:false,Field:false,Form:false,Hash:false,Insertion:false,ObjectRange:false,PeriodicalExecuter:false,Position:false,Prototype:false,Selector:false,Template:false,Toggle:false,Try:false,Autocompleter:false,Builder:false,Control:false,Draggable:false,Draggables:false,Droppables:false,Effect:false,Sortable:false,SortableObserver:false,Sound:false,Scriptaculous:false},X={defineClass:false,deserialize:false,gc:false,help:false,importPackage:false,java:false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false},aC,au,a3={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,"eval":false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false},at={escape:false,unescape:false},G={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,PI:true,POSITIVE_INFINITY:true,SQRT1_2:true,SQRT2:true},aw,a={},m,aB,S,M,y,e={ActiveXObject:true,Enumerator:true,GetObject:true,ScriptEngine:true,ScriptEngineBuildVersion:true,ScriptEngineMajorVersion:true,ScriptEngineMinorVersion:true,VBArray:true,WSH:true,WScript:true,XDomainRequest:true};var an,J,ad,Y,ab,aV,L,v,aT;(function(){an=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i;J=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;ad=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;Y=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;ab=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;aV=/\*\/|\/\*/;L=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;v=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i;aT=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}());function aq(){}function aP(ax,F){return Object.prototype.hasOwnProperty.call(ax,F)}function a1(F,ax){if(ai[F]===undefined&&n[F]===undefined){ak("Bad option: '"+F+"'.",ax)}}if(typeof Array.isArray!=="function"){Array.isArray=function(F){return Object.prototype.toString.apply(F)==="[object Array]"}}if(typeof Object.create!=="function"){Object.create=function(F){aq.prototype=F;return new aq()}}if(typeof Object.keys!=="function"){Object.keys=function(bb){var F=[],ax;for(ax in bb){if(aP(bb,ax)){F.push(ax)}}return F}}if(typeof String.prototype.entityify!=="function"){String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}if(typeof String.prototype.isAlpha!=="function"){String.prototype.isAlpha=function(){return(this>="a"&&this<="z\uffff")||(this>="A"&&this<="Z\uffff")}}if(typeof String.prototype.isDigit!=="function"){String.prototype.isDigit=function(){return(this>="0"&&this<="9")}}if(typeof String.prototype.supplant!=="function"){String.prototype.supplant=function(F){return this.replace(/\{([^{}]*)\}/g,function(bb,ax){var bc=F[ax];return typeof bc==="string"||typeof bc==="number"?bc:bb})}}if(typeof String.prototype.name!=="function"){String.prototype.name=function(){if(L.test(this)){return this}if(Y.test(this)){return'"'+this.replace(ab,function(F){var ax=E[F];if(ax){return ax}return"\\u"+("0000"+F.charCodeAt().toString(16)).slice(-4)})+'"'}return'"'+this+'"'}}function a8(F,ax){var bb;for(bb in ax){if(aP(ax,bb)){F[bb]=ax[bb]}}}function af(){if(T.couch){a8(aZ,a6)}if(T.rhino){a8(aZ,X)}if(T.prototypejs){a8(aZ,d)}if(T.node){a8(aZ,ao);T.globalstrict=true}if(T.devel){a8(aZ,t)}if(T.dojo){a8(aZ,P)}if(T.browser){a8(aZ,aS)}if(T.nonstandard){a8(aZ,at)}if(T.jquery){a8(aZ,ba)}if(T.mootools){a8(aZ,aU)}if(T.wsh){a8(aZ,e)}if(T.esnext){M()}if(T.globalstrict&&T.strict!==false){T.strict=true}}function ap(bc,ax,bb){var F=Math.floor((ax/a4.length)*100);throw {name:"JSHintError",line:ax,character:bb,message:bc+" ("+F+"% scanned).",raw:bc}}function c(bc,F,bb,ax){return JSHINT.undefs.push([bc,F,bb,ax])}function ak(ax,bh,bf,be,bd,bc){var F,bb,bg;bh=bh||k;if(bh.id==="(end)"){bh=aB}bb=bh.line||0;F=bh.from||0;bg={id:"(error)",raw:ax,evidence:a4[bb-1]||"",line:bb,character:F,a:bf,b:be,c:bd,d:bc};bg.reason=ax.supplant(bg);JSHINT.errors.push(bg);if(T.passfail){ap("Stopping. ",bb,F)}y+=1;if(y>=T.maxerr){ap("Too many errors.",bb,F)}return bg}function Z(ax,bc,bd,bb,F,bf,be){return ak(ax,{line:bc,from:bd},bb,F,bf,be)}function aG(ax,bd,bc,F,bf,be){var bb=ak(ax,bd,bc,F,bf,be)}function V(ax,bc,bd,bb,F,bf,be){return aG(ax,{line:bc,from:bd},bb,F,bf,be)}var aj=(function aj(){var bd,be,F,bb;function bc(){var bf,bg;if(F>=a4.length){return false}bd=1;bb=a4[F];F+=1;if(T.smarttabs){bf=bb.search(/ \t/)}else{bf=bb.search(/ \t|\t /)}if(bf>=0){Z("Mixed spaces and tabs.",F,bf+1)}bb=bb.replace(/\t/g,m);bf=bb.search(J);if(bf>=0){Z("Unsafe character.",F,bf)}if(T.maxlen&&T.maxlen<bb.length){Z("Line too long.",F,bb.length)}bg=T.trailing&&bb.match(/^(.*?)\s+$/);if(bg&&!/^\s+$/.test(bb)){Z("Trailing whitespace.",F,bg[1].length+1)}return true}function ax(bh,bi){var bg,bf;if(bh==="(color)"||bh==="(range)"){bf={type:bh}}else{if(bh==="(punctuator)"||(bh==="(identifier)"&&aP(a,bi))){bf=a[bi]||a["(error)"]}else{bf=a[bh]}}bf=Object.create(bf);if(bh==="(string)"||bh==="(range)"){if(!T.scripturl&&v.test(bi)){Z("Script URL.",F,be)}}if(bh==="(identifier)"){bf.identifier=true;if(bi==="__proto__"&&!T.proto){Z("The '{a}' property is deprecated.",F,be,bi)}else{if(bi==="__iterator__"&&!T.iterator){Z("'{a}' is only available in JavaScript 1.7.",F,be,bi)}else{if(T.nomen&&(bi.charAt(0)==="_"||bi.charAt(bi.length-1)==="_")){if(!T.node||aB.id==="."||(bi!=="__dirname"&&bi!=="__filename")){Z("Unexpected {a} in '{b}'.",F,be,"dangling '_'",bi)}}}}}bf.value=bi;bf.line=F;bf.character=bd;bf.from=be;bg=bf.id;if(bg!=="(endline)"){q=bg&&(("(,=:[!&|?{};".indexOf(bg.charAt(bg.length-1))>=0)||bg==="return"||bg==="case")}return bf}return{init:function(bf){if(typeof bf==="string"){a4=bf.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}else{a4=bf}if(a4[0]&&a4[0].substr(0,2)==="#!"){a4[0]=""}F=0;bc();be=1},range:function(bg,bf){var bi,bh="";be=bd;if(bb.charAt(0)!==bg){V("Expected '{a}' and instead saw '{b}'.",F,bd,bg,bb.charAt(0))}for(;;){bb=bb.slice(1);bd+=1;bi=bb.charAt(0);switch(bi){case"":V("Missing '{a}'.",F,bd,bi);break;case bf:bb=bb.slice(1);bd+=1;return ax("(range)",bh);case"\\":Z("Unexpected '{a}'.",F,bd,bi)}bh+=bi}},token:function(){var bt,bs,bh,bq,bm,bl,bn,bj,br,bg,bu,bf,bk,bi;function bo(bv){var bx=bv.exec(bb),bw;if(bx){bj=bx[0].length;bw=bx[1];bs=bw.charAt(0);bb=bb.substr(bj);be=bd+bj-bw.length;bd+=bj;return bw}}function bp(bv){var bC,by,bz="",bB=false;if(j&&bv!=='"'){Z("Strings must use doublequote.",F,bd)}function bx(bE){var bD=parseInt(bb.substr(by+1,bE),16);by+=bE;if(bD>=32&&bD<=126&&bD!==34&&bD!==92&&bD!==39){Z("Unnecessary escapement.",F,bd)}bd+=bE;bC=String.fromCharCode(bD)}by=0;unclosedString:for(;;){while(by>=bb.length){by=0;var bw=F,bA=be;if(!bc()){V("Unclosed string.",bw,bA);break unclosedString}if(bB){bB=false}else{Z("Unclosed string.",bw,bA)}}bC=bb.charAt(by);if(bC===bv){bd+=1;bb=bb.substr(by+1);return ax("(string)",bz,bv)}if(bC<" "){if(bC==="\n"||bC==="\r"){break}Z("Control character in string: {a}.",F,bd+by,bb.slice(0,by))}else{if(bC==="\\"){by+=1;bd+=1;bC=bb.charAt(by);bi=bb.charAt(by+1);switch(bC){case"\\":case'"':case"/":break;case"'":if(j){Z("Avoid \\'.",F,bd)}break;case"b":bC="\b";break;case"f":bC="\f";break;case"n":bC="\n";break;case"r":bC="\r";break;case"t":bC="\t";break;case"0":bC="\0";if(bi>=0&&bi<=7&&aw["use strict"]){Z("Octal literals are not allowed in strict mode.",F,bd)}break;case"u":bx(4);break;case"v":if(j){Z("Avoid \\v.",F,bd)}bC="\v";break;case"x":if(j){Z("Avoid \\x-.",F,bd)}bx(2);break;case"":bB=true;if(T.multistr){if(j){Z("Avoid EOL escapement.",F,bd)}bC="";bd-=1;break}Z("Bad escapement of EOL. Use option multistr if needed.",F,bd);break;default:Z("Bad escapement.",F,bd)}}}bz+=bC;bd+=1;by+=1}}for(;;){if(!bb){return ax(bc()?"(endline)":"(end)","")}bu=bo(ad);if(!bu){bu="";bs="";while(bb&&bb<"!"){bb=bb.substr(1)}if(bb){V("Unexpected '{a}'.",F,bd,bb.substr(0,1));bb=""}}else{if(bs.isAlpha()||bs==="_"||bs==="$"){return ax("(identifier)",bu)}if(bs.isDigit()){if(!isFinite(Number(bu))){Z("Bad number '{a}'.",F,bd,bu)}if(bb.substr(0,1).isAlpha()){Z("Missing space after '{a}'.",F,bd,bu)}if(bs==="0"){bq=bu.substr(1,1);if(bq.isDigit()){if(aB.id!=="."){Z("Don't use extra leading zeros '{a}'.",F,bd,bu)}}else{if(j&&(bq==="x"||bq==="X")){Z("Avoid 0x-. '{a}'.",F,bd,bu)}}}if(bu.substr(bu.length-1)==="."){Z("A trailing decimal point can be confused with a dot '{a}'.",F,bd,bu)}return ax("(number)",bu)}switch(bu){case'"':case"'":return bp(bu);case"//":bb="";aB.comment=true;break;case"/*":for(;;){bn=bb.search(aV);if(bn>=0){break}if(!bc()){V("Unclosed comment.",F,bd)}}bd+=bn+2;if(bb.substr(bn,1)==="/"){V("Nested comment.",F,bd)}bb=bb.substr(bn+2);aB.comment=true;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":return{value:bu,type:"special",line:F,character:bd,from:be};case"":break;case"/":if(aB.id==="/="){V("A regular expression literal can be confused with '/='.",F,be)}if(q){bm=0;bh=0;bj=0;for(;;){bt=true;bs=bb.charAt(bj);bj+=1;switch(bs){case"":V("Unclosed regular expression.",F,be);return ap("Stopping.",F,be);case"/":if(bm>0){Z("{a} unterminated regular expression group(s).",F,be+bj,bm)}bs=bb.substr(0,bj-1);bg={g:true,i:true,m:true};while(bg[bb.charAt(bj)]===true){bg[bb.charAt(bj)]=false;bj+=1}bd+=bj;bb=bb.substr(bj);bg=bb.charAt(0);if(bg==="/"||bg==="*"){V("Confusing regular expression.",F,be)}return ax("(regexp)",bs);case"\\":bs=bb.charAt(bj);if(bs<" "){Z("Unexpected control character in regular expression.",F,be+bj)}else{if(bs==="<"){Z("Unexpected escaped character '{a}' in regular expression.",F,be+bj,bs)}}bj+=1;break;case"(":bm+=1;bt=false;if(bb.charAt(bj)==="?"){bj+=1;switch(bb.charAt(bj)){case":":case"=":case"!":bj+=1;break;default:Z("Expected '{a}' and instead saw '{b}'.",F,be+bj,":",bb.charAt(bj))}}else{bh+=1}break;case"|":bt=false;break;case")":if(bm===0){Z("Unescaped '{a}'.",F,be+bj,")")}else{bm-=1}break;case" ":bg=1;while(bb.charAt(bj)===" "){bj+=1;bg+=1}if(bg>1){Z("Spaces are hard to count. Use {{a}}.",F,be+bj,bg)}break;case"[":bs=bb.charAt(bj);if(bs==="^"){bj+=1;if(T.regexp){Z("Insecure '{a}'.",F,be+bj,bs)}else{if(bb.charAt(bj)==="]"){V("Unescaped '{a}'.",F,be+bj,"^")}}}if(bs==="]"){Z("Empty class.",F,be+bj-1)}bf=false;bk=false;klass:do{bs=bb.charAt(bj);bj+=1;switch(bs){case"[":case"^":Z("Unescaped '{a}'.",F,be+bj,bs);if(bk){bk=false}else{bf=true}break;case"-":if(bf&&!bk){bf=false;bk=true}else{if(bk){bk=false}else{if(bb.charAt(bj)==="]"){bk=true}else{if(T.regexdash!==(bj===2||(bj===3&&bb.charAt(1)==="^"))){Z("Unescaped '{a}'.",F,be+bj-1,"-")}bf=true}}}break;case"]":if(bk&&!T.regexdash){Z("Unescaped '{a}'.",F,be+bj-1,"-")}break klass;case"\\":bs=bb.charAt(bj);if(bs<" "){Z("Unexpected control character in regular expression.",F,be+bj)}else{if(bs==="<"){Z("Unexpected escaped character '{a}' in regular expression.",F,be+bj,bs)}}bj+=1;if(/[wsd]/i.test(bs)){if(bk){Z("Unescaped '{a}'.",F,be+bj,"-");bk=false}bf=false}else{if(bk){bk=false}else{bf=true}}break;case"/":Z("Unescaped '{a}'.",F,be+bj-1,"/");if(bk){bk=false}else{bf=true}break;case"<":if(bk){bk=false}else{bf=true}break;default:if(bk){bk=false}else{bf=true}}}while(bs);break;case".":if(T.regexp){Z("Insecure '{a}'.",F,be+bj,bs)}break;case"]":case"?":case"{":case"}":case"+":case"*":Z("Unescaped '{a}'.",F,be+bj,bs)}if(bt){switch(bb.charAt(bj)){case"?":case"+":case"*":bj+=1;if(bb.charAt(bj)==="?"){bj+=1}break;case"{":bj+=1;bs=bb.charAt(bj);if(bs<"0"||bs>"9"){Z("Expected a number and instead saw '{a}'.",F,be+bj,bs)}bj+=1;br=+bs;for(;;){bs=bb.charAt(bj);if(bs<"0"||bs>"9"){break}bj+=1;br=+bs+(br*10)}bl=br;if(bs===","){bj+=1;bl=Infinity;bs=bb.charAt(bj);if(bs>="0"&&bs<="9"){bj+=1;bl=+bs;for(;;){bs=bb.charAt(bj);if(bs<"0"||bs>"9"){break}bj+=1;bl=+bs+(bl*10)}}}if(bb.charAt(bj)!=="}"){Z("Expected '{a}' and instead saw '{b}'.",F,be+bj,"}",bs)}else{bj+=1}if(bb.charAt(bj)==="?"){bj+=1}if(br>bl){Z("'{a}' should not be greater than '{b}'.",F,be+bj,br,bl)}}}}bs=bb.substr(0,bj-1);bd+=bj;bb=bb.substr(bj);return ax("(regexp)",bs)}return ax("(punctuator)",bu);case"#":return ax("(punctuator)",bu);default:return ax("(punctuator)",bu)}}}}}}());function u(F,ax){if(F==="hasOwnProperty"){ak("'hasOwnProperty' is a really bad name.")}if(aP(az,F)&&!az["(global)"]){if(az[F]===true){if(T.latedef){ak("'{a}' was used before it was defined.",k,F)}}else{if(!T.shadow&&ax!=="exception"){ak("'{a}' is already defined.",k,F)}}}az[F]=ax;if(az["(global)"]){A[F]=az;if(aP(aQ,F)){if(T.latedef){ak("'{a}' was used before it was defined.",k,F)}delete aQ[F]}}else{aC[F]=az}}function w(){var ax,be,bd,bf=k.value,bc,F,bb;switch(bf){case"*/":aG("Unbegun comment.");break;case"/*members":case"/*member":bf="/*members";if(!aR){aR={}}be=aR;break;case"/*jshint":case"/*jslint":be=T;bd=n;break;case"/*global":be=aZ;break;default:aG("What?")}bc=aj.token();loop:for(;;){for(;;){if(bc.type==="special"&&bc.value==="*/"){break loop}if(bc.id!=="(endline)"&&bc.id!==","){break}bc=aj.token()}if(bc.type!=="(string)"&&bc.type!=="(identifier)"&&bf!=="/*members"){aG("Bad option.",bc)}bb=aj.token();if(bb.id===":"){bb=aj.token();if(be===aR){aG("Expected '{a}' and instead saw '{b}'.",bc,"*/",":")}if(bf==="/*jshint"){a1(bc.value,bc)}if(bc.value==="indent"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.white=true;be.indent=ax}else{if(bc.value==="maxerr"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.maxerr=ax}else{if(bc.value==="maxlen"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.maxlen=ax}else{if(bc.value==="validthis"){if(az["(global)"]){aG("Option 'validthis' can't be used in a global scope.")}else{if(bb.value==="true"||bb.value==="false"){be[bc.value]=bb.value==="true"}else{aG("Bad option value.",bb)}}}else{if(bb.value==="true"||bb.value==="false"){if(bf==="/*jslint"){F=r[bc.value]||bc.value;be[F]=bb.value==="true";if(aE[F]!==undefined){be[F]=!be[F]}}else{be[bc.value]=bb.value==="true"}}else{aG("Bad option value.",bb)}}}}}bc=aj.token()}else{if(bf==="/*jshint"||bf==="/*jslint"){aG("Missing option value.",bc)}be[bc.value]=false;bc=bb}}if(bd){af()}}function aN(bc){var bb=bc||0,F=0,ax;while(F<=bb){ax=K[F];if(!ax){ax=K[F]=aj.token()}F+=1}return ax}function ac(ax,F){switch(aB.id){case"(number)":if(k.id==="."){ak("A dot following a number can be confused with a decimal point.",aB)}break;case"-":if(k.id==="-"||k.id==="--"){ak("Confusing minusses.")}break;case"+":if(k.id==="+"||k.id==="++"){ak("Confusing plusses.")}break}if(aB.type==="(string)"||aB.identifier){aW=aB.value}if(ax&&k.id!==ax){if(F){if(k.id==="(end)"){ak("Unmatched '{a}'.",F,F.id)}else{ak("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",k,ax,F.id,F.line,k.value)}}else{if(k.type!=="(identifier)"||k.value!==ax){ak("Expected '{a}' and instead saw '{b}'.",k,ax,k.value)}}}aM=aB;aB=k;for(;;){k=K.shift()||aj.token();if(k.id==="(end)"||k.id==="(error)"){return}if(k.type==="special"){w()}else{if(k.id!=="(endline)"){break}}}}function aD(bb,bc){var bd,ax=false,F=false;if(k.id==="(end)"){aG("Unexpected early end of program.",aB)}ac();if(bc){aW="anonymous";az["(verb)"]=aB.value}if(bc===true&&aB.fud){bd=aB.fud()}else{if(aB.nud){bd=aB.nud()}else{if(k.type==="(number)"&&aB.id==="."){ak("A leading decimal point can be confused with a dot: '.{a}'.",aB,k.value);ac();return aB}else{aG("Expected an identifier and instead saw '{a}'.",aB,aB.id)}}while(bb<k.lbp){ax=aB.value==="Array";F=aB.value==="Object";if(bd&&(bd.value||(bd.first&&bd.first.value))){if(bd.value!=="new"||(bd.first&&bd.first.value&&bd.first.value===".")){ax=false;if(bd.value!==aB.value){F=false}}}ac();if(ax&&aB.id==="("&&k.id===")"){ak("Use the array literal notation [].",aB)}if(F&&aB.id==="("&&k.id===")"){ak("Use the object literal notation {}.",aB)}if(aB.led){bd=aB.led(bd)}else{aG("Expected an operator and instead saw '{a}'.",aB,aB.id)}}}return bd}function ar(ax,F){ax=ax||aB;F=F||k;if(T.white){if(ax.character!==F.from&&ax.line===F.line){ax.from+=(ax.character-ax.from);ak("Unexpected space after '{a}'.",ax,ax.value)}}}function aJ(ax,F){ax=ax||aB;F=F||k;if(T.white&&(ax.character!==F.from||ax.line!==F.line)){ak("Unexpected space before '{a}'.",F,F.value)}}function R(ax,F){ax=ax||aB;F=F||k;if(T.white&&!ax.comment){if(ax.line===F.line){ar(ax,F)}}}function Q(ax,F){if(T.white){ax=ax||aB;F=F||k;if(ax.line===F.line&&ax.character===F.from){ax.from+=(ax.character-ax.from);ak("Missing space after '{a}'.",ax,ax.value)}}}function ah(ax,F){ax=ax||aB;F=F||k;if(!T.laxbreak&&ax.line!==F.line){ak("Bad line breaking before '{a}'.",F,F.id)}else{if(T.white){ax=ax||aB;F=F||k;if(ax.character===F.from){ax.from+=(ax.character-ax.from);ak("Missing space after '{a}'.",ax,ax.value)}}}}function b(F){var ax;if(T.white&&k.id!=="(end)"){ax=am+(F||0);if(k.from!==ax){ak("Expected '{a}' to have an indentation at {b} instead at {c}.",k,k.value,ax,k.from)}}}function a7(F){F=F||aB;if(F.line!==k.line){ak("Line breaking error '{a}'.",F,F.value)}}function al(){if(aB.line!==k.line){if(!T.laxcomma){if(al.first){ak("Comma warnings can be turned off with 'laxcomma'");al.first=false}ak("Bad line breaking before '{a}'.",aB,k.id)}}else{if(!aB.comment&&aB.character!==k.from&&T.white){aB.from+=(aB.character-aB.from);ak("Unexpected space after '{a}'.",aB,aB.value)}}ac(",");Q(aB,k)}function O(ax,bb){var F=a[ax];if(!F||typeof F!=="object"){a[ax]=F={id:ax,lbp:bb,value:ax}}return F}function aL(F){return O(F,0)}function g(ax,bb){var F=aL(ax);F.identifier=F.reserved=true;F.fud=bb;return F}function aY(ax,bb){var F=g(ax,bb);F.block=true;return F}function B(F){var ax=F.id.charAt(0);if((ax>="a"&&ax<="z")||(ax>="A"&&ax<="Z")){F.identifier=F.reserved=true}return F}function aH(ax,bb){var F=O(ax,150);B(F);F.nud=(typeof bb==="function")?bb:function(){this.right=aD(150);this.arity="unary";if(this.id==="++"||this.id==="--"){if(T.plusplus){ak("Unexpected use of '{a}'.",this,this.id)}else{if((!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="["){ak("Bad operand.",this)}}}return this};return F}function aa(ax,bb){var F=aL(ax);F.type=ax;F.nud=bb;return F}function p(ax,bb){var F=aa(ax,bb);F.identifier=F.reserved=true;return F}function U(ax,F){return p(ax,function(){if(typeof F==="function"){F(this)}return this})}function x(bb,bc,bd,ax){var F=O(bb,bd);B(F);F.led=function(be){if(!ax){ah(aM,aB);Q(aB,k)}if(bb==="in"&&be.id==="!"){ak("Confusing use of '{a}'.",be,"!")}if(typeof bc==="function"){return bc(be,this)}else{this.left=be;this.right=aD(bd);return this}};return F}function a2(ax,bb){var F=O(ax,100);F.led=function(bd){ah(aM,aB);Q(aB,k);var bc=aD(100);if((bd&&bd.id==="NaN")||(bc&&bc.id==="NaN")){ak("Use the isNaN function to compare with NaN.",this)}else{if(bb){bb.apply(this,[bd,bc])}}if(bd.id==="!"){ak("Confusing use of '{a}'.",bd,"!")}if(bc.id==="!"){ak("Confusing use of '{a}'.",bc,"!")}this.left=bd;this.right=bc;return this};return F}function a9(F){return F&&((F.type==="(number)"&&+F.value===0)||(F.type==="(string)"&&F.value==="")||(F.type==="null"&&!T.eqnull)||F.type==="true"||F.type==="false"||F.type==="undefined")}function ag(F,ax){O(F,20).exps=true;return x(F,function(bd,bc){var bb;bc.left=bd;if(aZ[bd.value]===false&&aC[bd.value]["(global)"]===true){ak("Read only.",bd)}else{if(bd["function"]){ak("'{a}' is a function.",bd,bd.value)}}if(bd){if(T.esnext&&az[bd.value]==="const"){ak("Attempting to override '{a}' which is a constant",bd,bd.value)}if(bd.id==="."||bd.id==="["){if(!bd.left||bd.left.value==="arguments"){ak("Bad assignment.",bc)}bc.right=aD(19);return bc}else{if(bd.identifier&&!bd.reserved){if(az[bd.value]==="exception"){ak("Do not assign to the exception parameter.",bd)}bc.right=aD(19);return bc}}if(bd===a["function"]){ak("Expected an identifier in an assignment and instead saw a function invocation.",aB)}}aG("Bad assignment.",bc)},20)}function ay(ax,bb,bc){var F=O(ax,bc);B(F);F.led=(typeof bb==="function")?bb:function(bd){if(T.bitwise){ak("Unexpected use of '{a}'.",this,this.id)}this.left=bd;this.right=aD(bc);return this};return F}function i(F){O(F,20).exps=true;return x(F,function(bb,ax){if(T.bitwise){ak("Unexpected use of '{a}'.",ax,ax.id)}Q(aM,aB);Q(aB,k);if(bb){if(bb.id==="."||bb.id==="["||(bb.identifier&&!bb.reserved)){aD(19);return ax}if(bb===a["function"]){ak("Expected an identifier in an assignment, and instead saw a function invocation.",aB)}return ax}aG("Bad assignment.",ax)},20)}function av(ax,bb){var F=O(ax,150);F.led=function(bc){if(T.plusplus){ak("Unexpected use of '{a}'.",this,this.id)}else{if((!bc.identifier||bc.reserved)&&bc.id!=="."&&bc.id!=="["){ak("Bad operand.",this)}}this.left=bc;return this};return F}function l(F){if(k.identifier){ac();if(aB.reserved&&!T.es5){if(!F||aB.value!=="undefined"){ak("Expected an identifier and instead saw '{a}' (a reserved word).",aB,aB.id)}}return aB.value}}function ae(F){var ax=l(F);if(ax){return ax}if(aB.id==="function"&&k.id==="("){ak("Missing name in function declaration.")}else{aG("Expected an identifier and instead saw '{a}'.",k,k.value)}}function W(bb){var ax=0,F;if(k.id!==";"||C){return}for(;;){F=aN(ax);if(F.reach){return}if(F.id!=="(endline)"){if(F.id==="function"){if(!T.latedef){break}ak("Inner functions should be listed at the top of the outer function.",F);break}ak("Unreachable '{a}' after '{b}'.",F,F.value,bb);break}ax+=1}}function a5(bd){var ax=am,bc,bb=aC,F=k;if(F.id===";"){ac(";");return}if(F.identifier&&!F.reserved&&aN().id===":"){ac();ac(":");aC=Object.create(bb);u(F.value,"label");if(!k.labelled){ak("Label '{a}' on {b} statement.",k,F.value,k.value)}if(v.test(F.value+":")){ak("Label '{a}' looks like a javascript url.",F,F.value)}k.label=F.value;F=k}if(!bd){b()}bc=aD(0,true);if(!F.block){if(!T.expr&&(!bc||!bc.exps)){ak("Expected an assignment or function call and instead saw an expression.",aB)}else{if(T.nonew&&bc.id==="("&&bc.left.id==="new"){ak("Do not use 'new' for side effects.")}}if(k.id===","){return al()}if(k.id!==";"){if(!T.asi){if(!T.lastsemic||k.id!=="}"||k.line!==aB.line){Z("Missing semicolon.",aB.line,aB.character)}}}else{ar(aB,k);ac(";");Q(aB,k)}}am=ax;aC=bb;return bc}function aI(bc){var F=[],ax,bb;while(!k.reach&&k.id!=="(end)"){if(k.id===";"){bb=aN();if(!bb||bb.id!=="("){ak("Unnecessary semicolon.")}ac(";")}else{F.push(a5(bc===k.line))}}return F}function aX(){var ax,bb,F;for(;;){if(k.id==="(string)"){bb=aN(0);if(bb.id==="(endline)"){ax=1;do{F=aN(ax);ax=ax+1}while(F.id==="(endline)");if(F.id!==";"){if(F.id!=="(string)"&&F.id!=="(number)"&&F.id!=="(regexp)"&&F.identifier!==true&&F.id!=="}"){break}ak("Missing semicolon.",k)}else{bb=F}}else{if(bb.id==="}"){ak("Missing semicolon.",bb)}else{if(bb.id!==";"){break}}}b();ac();if(aw[aB.value]){ak('Unnecessary directive "{a}".',aB,aB.value)}if(aB.value==="use strict"){T.newcap=true;T.undef=true}aw[aB.value]=true;if(bb.id===";"){ac(";")}continue}break}}function D(bg,ax,bc){var bf,be=aA,F=am,bb,bj=aC,bh,bi,bd;aA=bg;if(!bg||!T.funcscope){aC=Object.create(aC)}Q(aB,k);bh=k;if(k.id==="{"){ac("{");bi=aB.line;if(k.id!=="}"){am+=T.indent;while(!bg&&k.from>am){am+=T.indent}if(bc){bb={};for(bd in aw){if(aP(aw,bd)){bb[bd]=aw[bd]}}aX();if(T.strict&&az["(context)"]["(global)"]){if(!bb["use strict"]&&!aw["use strict"]){ak('Missing "use strict" statement.')}}}bf=aI(bi);if(bc){aw=bb}am-=T.indent;if(bi!==k.line){b()}}else{if(bi!==k.line){b()}}ac("}",bh);am=F}else{if(!bg){aG("Expected '{a}' and instead saw '{b}'.",k,"{",k.value)}else{if(!ax||T.curly){ak("Expected '{a}' and instead saw '{b}'.",k,"{",k.value)}C=true;am+=T.indent;bf=[a5(k.line===aB.line)];am-=T.indent;C=false}}az["(verb)"]=null;if(!bg||!T.funcscope){aC=bj}aA=be;if(bg&&T.noempty&&(!bf||bf.length===0)){ak("Empty block.")}return bf}function h(F){if(aR&&typeof aR[F]!=="boolean"){ak("Unexpected /*member '{a}'.",aB,F)}if(typeof aF[F]==="number"){aF[F]+=1}else{aF[F]=1}}function a0(bc){var bb=bc.value,ax=bc.line,F=aQ[bb];if(typeof F==="function"){F=false}if(!F){F=[ax];aQ[bb]=F}else{if(F[F.length-1]!==ax){F.push(ax)}}}aa("(number)",function(){return this});aa("(string)",function(){return this});a["(identifier)"]={type:"(identifier)",lbp:0,identifier:true,nud:function(){var F=this.value,ax=aC[F],bb;if(typeof ax==="function"){ax=undefined}else{if(typeof ax==="boolean"){bb=az;az=z[0];u(F,"var");ax=az;az=bb}}if(az===ax){switch(az[F]){case"unused":az[F]="var";break;case"unction":az[F]="function";this["function"]=true;break;case"function":this["function"]=true;break;case"label":ak("'{a}' is a statement label.",aB,F);break}}else{if(az["(global)"]){if(T.undef&&typeof aZ[F]!=="boolean"){if(!(aW==="typeof"||aW==="delete")||(k&&(k.value==="."||k.value==="["))){c(az,"'{a}' is not defined.",aB,F)}}a0(aB)}else{switch(az[F]){case"closure":case"function":case"var":case"unused":ak("'{a}' used out of scope.",aB,F);break;case"label":ak("'{a}' is a statement label.",aB,F);break;case"outer":case"global":break;default:if(ax===true){az[F]=true}else{if(ax===null){ak("'{a}' is not allowed.",aB,F);a0(aB)}else{if(typeof ax!=="object"){if(T.undef){if(!(aW==="typeof"||aW==="delete")||(k&&(k.value==="."||k.value==="["))){c(az,"'{a}' is not defined.",aB,F)}}az[F]=true;a0(aB)}else{switch(ax[F]){case"function":case"unction":this["function"]=true;ax[F]="closure";az[F]=ax["(global)"]?"global":"outer";break;case"var":case"unused":ax[F]="closure";az[F]=ax["(global)"]?"global":"outer";break;case"closure":case"parameter":az[F]=ax["(global)"]?"global":"outer";break;case"label":ak("'{a}' is a statement label.",aB,F)}}}}}}}return this},led:function(){aG("Expected an operator and instead saw '{a}'.",k,k.value)}};aa("(regexp)",function(){return this});aL("(endline)");aL("(begin)");aL("(end)").reach=true;aL("</").reach=true;aL("<!");aL("<!--");aL("-->");aL("(error)").reach=true;aL("}").reach=true;aL(")");aL("]");aL('"').reach=true;aL("'").reach=true;aL(";");aL(":").reach=true;aL(",");aL("#");aL("@");p("else");p("case").reach=true;p("catch");p("default").reach=true;p("finally");U("arguments",function(F){if(aw["use strict"]&&az["(global)"]){ak("Strict violation.",F)}});U("eval");U("false");U("Infinity");U("NaN");U("null");U("this",function(F){if(aw["use strict"]&&!T.validthis&&((az["(statement)"]&&az["(name)"].charAt(0)>"Z")||az["(global)"])){ak("Possible strict violation.",F)}});U("true");U("undefined");ag("=","assign",20);ag("+=","assignadd",20);ag("-=","assignsub",20);ag("*=","assignmult",20);ag("/=","assigndiv",20).nud=function(){aG("A regular expression literal can be confused with '/='.")};ag("%=","assignmod",20);i("&=","assignbitand",20);i("|=","assignbitor",20);i("^=","assignbitxor",20);i("<<=","assignshiftleft",20);i(">>=","assignshiftright",20);i(">>>=","assignshiftrightunsigned",20);x("?",function(ax,F){F.left=ax;F.right=aD(10);ac(":");F["else"]=aD(10);return F},30);x("||","or",40);x("&&","and",50);ay("|","bitor",70);ay("^","bitxor",80);ay("&","bitand",90);a2("==",function(ax,F){var bb=T.eqnull&&(ax.value==="null"||F.value==="null");if(!bb&&T.eqeqeq){ak("Expected '{a}' and instead saw '{b}'.",this,"===","==")}else{if(a9(ax)){ak("Use '{a}' to compare with '{b}'.",this,"===",ax.value)}else{if(a9(F)){ak("Use '{a}' to compare with '{b}'.",this,"===",F.value)}}}return this});a2("===");a2("!=",function(ax,F){var bb=T.eqnull&&(ax.value==="null"||F.value==="null");if(!bb&&T.eqeqeq){ak("Expected '{a}' and instead saw '{b}'.",this,"!==","!=")}else{if(a9(ax)){ak("Use '{a}' to compare with '{b}'.",this,"!==",ax.value)}else{if(a9(F)){ak("Use '{a}' to compare with '{b}'.",this,"!==",F.value)}}}return this});a2("!==");a2("<");a2(">");a2("<=");a2(">=");ay("<<","shiftleft",120);ay(">>","shiftright",120);ay(">>>","shiftrightunsigned",120);x("in","in",120);x("instanceof","instanceof",120);x("+",function(bb,ax){var F=aD(130);if(bb&&F&&bb.id==="(string)"&&F.id==="(string)"){bb.value+=F.value;bb.character=F.character;if(!T.scripturl&&v.test(bb.value)){ak("JavaScript URL.",bb)}return bb}ax.left=bb;ax.right=F;return ax},130);aH("+","num");aH("+++",function(){ak("Confusing pluses.");this.right=aD(150);this.arity="unary";return this});x("+++",function(F){ak("Confusing pluses.");this.left=F;this.right=aD(130);return this},130);x("-","sub",130);aH("-","neg");aH("---",function(){ak("Confusing minuses.");this.right=aD(150);this.arity="unary";return this});x("---",function(F){ak("Confusing minuses.");this.left=F;this.right=aD(130);return this},130);x("*","mult",140);x("/","div",140);x("%","mod",140);av("++","postinc");aH("++","preinc");a["++"].exps=true;av("--","postdec");aH("--","predec");a["--"].exps=true;aH("delete",function(){var F=aD(0);if(!F||(F.id!=="."&&F.id!=="[")){ak("Variables should not be deleted.")}this.first=F;return this}).exps=true;aH("~",function(){if(T.bitwise){ak("Unexpected '{a}'.",this,"~")}aD(150);return this});aH("!",function(){this.right=aD(150);this.arity="unary";if(s[this.right.id]===true){ak("Confusing use of '{a}'.",this,"!")}return this});aH("typeof","typeof");aH("new",function(){var ax=aD(155),F;if(ax&&ax.id!=="function"){if(ax.identifier){ax["new"]=true;switch(ax.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":ak("Do not use {a} as a constructor.",aB,ax.value);break;case"Function":if(!T.evil){ak("The Function constructor is eval.")}break;case"Date":case"RegExp":break;default:if(ax.id!=="function"){F=ax.value.substr(0,1);if(T.newcap&&(F<"A"||F>"Z")){ak("A constructor name should start with an uppercase letter.",aB)}}}}else{if(ax.id!=="."&&ax.id!=="["&&ax.id!=="("){ak("Bad constructor.",aB)}}}else{if(!T.supernew){ak("Weird construction. Delete 'new'.",this)}}ar(aB,k);if(k.id!=="("&&!T.supernew){ak("Missing '()' invoking a constructor.")}this.first=ax;return this});a["new"].exps=true;aH("void").exps=true;x(".",function(bb,ax){ar(aM,aB);aJ();var F=ae();if(typeof F==="string"){h(F)}ax.left=bb;ax.right=F;if(bb&&bb.value==="arguments"&&(F==="callee"||F==="caller")){if(T.noarg){ak("Avoid arguments.{a}.",bb,F)}else{if(aw["use strict"]){aG("Strict violation.")}}}else{if(!T.evil&&bb&&bb.value==="document"&&(F==="write"||F==="writeln")){ak("document.write can be a form of eval.",bb)}}if(!T.evil&&(F==="eval"||F==="execScript")){}return ax},160,true);x("(",function(bb,F){if(aM.id!=="}"&&aM.id!==")"){aJ(aM,aB)}R();if(T.immed&&!bb.immed&&bb.id==="function"){ak("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.")}var bc=0,ax=[];if(bb){if(bb.type==="(identifier)"){if(bb.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(bb.value!=="Number"&&bb.value!=="String"&&bb.value!=="Boolean"&&bb.value!=="Date"){if(bb.value==="Math"){ak("Math is not a function.",bb)}else{if(T.newcap){ak("Missing 'new' prefix when invoking a constructor.",bb)}}}}}}if(k.id!==")"){for(;;){ax[ax.length]=aD(10);bc+=1;if(k.id!==","){break}al()}}ac(")");R(aM,aB);if(typeof bb==="object"){if(bb.value==="parseInt"&&bc===1){ak("Missing radix parameter.",bb)}if(!T.evil){if(bb.value==="eval"||bb.value==="Function"||bb.value==="execScript"){}else{if(ax[0]&&ax[0].id==="(string)"&&(bb.value==="setTimeout"||bb.value==="setInterval")){ak("Implied eval is evil. Pass a function instead of a string.",bb)}}}if(!bb.identifier&&bb.id!=="."&&bb.id!=="["&&bb.id!=="("&&bb.id!=="&&"&&bb.id!=="||"&&bb.id!=="?"){ak("Bad invocation.",bb)}}F.left=bb;return F},155,true).exps=true;aH("(",function(){R();if(k.id==="function"){k.immed=true}var F=aD(0);ac(")",this);R(aM,aB);if(T.immed&&F.id==="function"){if(k.id==="("||(k.id==="."&&(aN().value==="call"||aN().value==="apply"))){ak("Move the invocation into the parens that contain the function.",k)}else{ak("Do not wrap function literals in parens unless they are to be immediately invoked.",this)}}return F});x("[",function(bc,ax){aJ(aM,aB);R();var bb=aD(0),F;if(bb&&bb.type==="(string)"){if(!T.evil&&(bb.value==="eval"||bb.value==="execScript")){}h(bb.value);if(!T.sub&&L.test(bb.value)){F=a[bb.value];if(!F||!F.reserved){ak("['{a}'] is better written in dot notation.",bb,bb.value)}}}ac("]",ax);R(aM,aB);ax.left=bc;ax.right=bb;return ax},160,true);aH("[",function(){var F=aB.line!==k.line;this.first=[];if(F){am+=T.indent;if(k.from===am+T.indent){am+=T.indent}}while(k.id!=="(end)"){while(k.id===","){ak("Extra comma.");ac(",")}if(k.id==="]"){break}if(F&&aB.line!==k.line){b()}this.first.push(aD(10));if(k.id===","){al();if(k.id==="]"&&!T.es5){ak("Extra comma.",aB);break}}else{break}}if(F){am-=T.indent;b()}ac("]",this);return this},160);function f(){var F=l(true);if(!F){if(k.id==="(string)"){F=k.value;ac()}else{if(k.id==="(number)"){F=k.value.toString();ac()}}}return F}function N(){var ax,F=k,bb=[];ac("(");R();if(k.id===")"){ac(")");return}for(;;){ax=ae(true);bb.push(ax);u(ax,"parameter");if(k.id===","){al()}else{ac(")",F);R(aM,aB);return bb}}}function I(bb,bc){var bd,ax=T,F=aC;T=Object.create(T);aC=Object.create(aC);az={"(name)":bb||'"'+aW+'"',"(line)":k.line,"(context)":az,"(breakage)":0,"(loopage)":0,"(scope)":aC,"(statement)":bc};bd=az;aB.funct=az;z.push(az);if(bb){u(bb,"function")}az["(params)"]=N();D(false,false,true);aC=F;T=ax;az["(last)"]=aB.line;az=az["(context)"];return bd}(function(F){F.nud=function(){var bj,bg,bf,be,bb,bk;var bi={};function bc(bl,bm){if(bi[bl]&&aP(bi,bl)){ak("Duplicate member '{a}'.",k,bf)}else{bi[bl]={}}bi[bl].basic=true;bi[bl].basicToken=bm}function bd(bl,bm){if(bi[bl]&&aP(bi,bl)){if(bi[bl].basic||bi[bl].setter){ak("Duplicate member '{a}'.",k,bf)}}else{bi[bl]={}}bi[bl].setter=true;bi[bl].setterToken=bm}function bh(bl){if(bi[bl]&&aP(bi,bl)){if(bi[bl].basic||bi[bl].getter){ak("Duplicate member '{a}'.",k,bf)}}else{bi[bl]={}}bi[bl].getter=true;bi[bl].getterToken=aB}bj=aB.line!==k.line;if(bj){am+=T.indent;if(k.from===am+T.indent){am+=T.indent}}for(;;){if(k.id==="}"){break}if(bj){b()}if(k.value==="get"&&aN().id!==":"){ac("get");if(!T.es5){aG("get/set are ES5 features.")}bf=f();if(!bf){aG("Missing property name.")}bh(bf);bk=k;ar(aB,k);bg=I();bb=bg["(params)"];if(bb){ak("Unexpected parameter '{a}' in get {b} function.",bk,bb[0],bf)}ar(aB,k)}else{if(k.value==="set"&&aN().id!==":"){ac("set");if(!T.es5){aG("get/set are ES5 features.")}bf=f();if(!bf){aG("Missing property name.")}bd(bf,k);bk=k;ar(aB,k);bg=I();bb=bg["(params)"];if(!bb||bb.length!==1){ak("Expected a single parameter in set {a} function.",bk,bf)}}else{bf=f();bc(bf,k);if(typeof bf!=="string"){break}ac(":");Q(aB,k);aD(10)}}h(bf);if(k.id===","){al();if(k.id===","){ak("Extra comma.",aB)}else{if(k.id==="}"&&!T.es5){ak("Extra comma.",aB)}}}else{break}}if(bj){am-=T.indent;b()}ac("}",this);if(T.es5){for(var ax in bi){if(aP(bi,ax)&&bi[ax].setter&&!bi[ax].getter){ak("Setter is defined without getter.",bi[ax].setterToken)}}}return this};F.fud=function(){aG("Expected to see a statement and instead saw a block.",aB)}}(aL("{")));M=function(){var F=g("const",function(bc){var bd,ax,bb;this.first=[];for(;;){Q(aB,k);bd=ae();if(az[bd]==="const"){ak("const '"+bd+"' has already been declared")}if(az["(global)"]&&aZ[bd]===false){ak("Redefinition of '{a}'.",aB,bd)}u(bd,"const");if(bc){break}ax=aB;this.first.push(aB);if(k.id!=="="){ak("const '{a}' is initialized to 'undefined'.",aB,bd)}if(k.id==="="){Q(aB,k);ac("=");Q(aB,k);if(k.id==="undefined"){ak("It is not necessary to initialize '{a}' to 'undefined'.",aB,bd)}if(aN(0).id==="="&&k.identifier){aG("Constant {a} was not declared correctly.",k,k.value)}bb=aD(0);ax.first=bb}if(k.id!==","){break}al()}return this});F.exps=true};var aO=g("var",function(bb){var bc,F,ax;if(az["(onevar)"]&&T.onevar){ak("Too many var statements.")}else{if(!az["(global)"]){az["(onevar)"]=true}}this.first=[];for(;;){Q(aB,k);bc=ae();if(T.esnext&&az[bc]==="const"){ak("const '"+bc+"' has already been declared")}if(az["(global)"]&&aZ[bc]===false){ak("Redefinition of '{a}'.",aB,bc)}u(bc,"unused");if(bb){break}F=aB;this.first.push(aB);if(k.id==="="){Q(aB,k);ac("=");Q(aB,k);if(k.id==="undefined"){ak("It is not necessary to initialize '{a}' to 'undefined'.",aB,bc)}if(aN(0).id==="="&&k.identifier){aG("Variable {a} was not declared correctly.",k,k.value)}ax=aD(0);F.first=ax}if(k.id!==","){break}al()}return this});aO.exps=true;aY("function",function(){if(aA){ak("Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",aB)}var F=ae();if(T.esnext&&az[F]==="const"){ak("const '"+F+"' has already been declared")}ar(aB,k);u(F,"unction");I(F,true);if(k.id==="("&&k.line===aB.line){aG("Function declarations are not invocable. Wrap the whole function invocation in parens.")}return this});aH("function",function(){var F=l();if(F){ar(aB,k)}else{Q(aB,k)}I(F);if(!T.loopfunc&&az["(loopage)"]){ak("Don't make functions within a loop.")}return this});aY("if",function(){var F=k;ac("(");Q(this,F);R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",F);R(aM,aB);D(true,true);if(k.id==="else"){Q(aB,k);ac("else");if(k.id==="if"||k.id==="switch"){a5(true)}else{D(true,true)}}return this});aY("try",function(){var F,bb,ax;D(false);if(k.id==="catch"){ac("catch");Q(aB,k);ac("(");ax=aC;aC=Object.create(ax);bb=k.value;if(k.type!=="(identifier)"){ak("Expected an identifier and instead saw '{a}'.",k,bb)}else{u(bb,"exception")}ac();ac(")");D(false);F=true;aC=ax}if(k.id==="finally"){ac("finally");D(false);return}else{if(!F){aG("Expected '{a}' and instead saw '{b}'.",k,"catch",k.value)}}return this});aY("while",function(){var F=k;az["(breakage)"]+=1;az["(loopage)"]+=1;ac("(");Q(this,F);R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",F);R(aM,aB);D(true,true);az["(breakage)"]-=1;az["(loopage)"]-=1;return this}).labelled=true;aY("with",function(){var F=k;if(aw["use strict"]){aG("'with' is not allowed in strict mode.",aB)}else{if(!T.withstmt){ak("Don't use 'with'.",aB)}}ac("(");Q(this,F);R();aD(0);ac(")",F);R(aM,aB);D(true,true);return this});aY("switch",function(){var F=k,ax=false;az["(breakage)"]+=1;ac("(");Q(this,F);R();this.condition=aD(20);ac(")",F);R(aM,aB);Q(aB,k);F=k;ac("{");Q(aB,k);am+=T.indent;this.cases=[];for(;;){switch(k.id){case"case":switch(az["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:if(!aT.test(a4[k.line-2])){ak("Expected a 'break' statement before 'case'.",aB)}}b(-T.indent);ac("case");this.cases.push(aD(20));ax=true;ac(":");az["(verb)"]="case";break;case"default":switch(az["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:if(!aT.test(a4[k.line-2])){ak("Expected a 'break' statement before 'default'.",aB)}}b(-T.indent);ac("default");ax=true;ac(":");break;case"}":am-=T.indent;b();ac("}",F);if(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false"){if(!T.onecase){ak("This 'switch' should be an 'if'.",this)}}az["(breakage)"]-=1;az["(verb)"]=undefined;return;case"(end)":aG("Missing '{a}'.",k,"}");return;default:if(ax){switch(aB.id){case",":aG("Each value should have its own case label.");return;case":":ax=false;aI();break;default:aG("Missing ':' on a case clause.",aB);return}}else{if(aB.id===":"){ac(":");aG("Unexpected '{a}'.",aB,":");aI()}else{aG("Expected '{a}' and instead saw '{b}'.",k,"case",k.value);return}}}}}).labelled=true;g("debugger",function(){if(!T.debug){ak("All 'debugger' statements should be removed.")}return this}).exps=true;(function(){var F=g("do",function(){az["(breakage)"]+=1;az["(loopage)"]+=1;this.first=D(true);ac("while");var ax=k;Q(aB,ax);ac("(");R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",ax);R(aM,aB);az["(breakage)"]-=1;az["(loopage)"]-=1;return this});F.labelled=true;F.exps=true}());aY("for",function(){var ax,F=k;az["(breakage)"]+=1;az["(loopage)"]+=1;ac("(");Q(this,F);R();if(aN(k.id==="var"?1:0).id==="in"){if(k.id==="var"){ac("var");aO.fud.call(aO,true)}else{switch(az[k.value]){case"unused":az[k.value]="var";break;case"var":break;default:ak("Bad for in variable '{a}'.",k,k.value)}ac()}ac("in");aD(20);ac(")",F);ax=D(true,true);if(T.forin&&ax&&(ax.length>1||typeof ax[0]!=="object"||ax[0].value!=="if")){ak("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this)}az["(breakage)"]-=1;az["(loopage)"]-=1;return this}else{if(k.id!==";"){if(k.id==="var"){ac("var");aO.fud.call(aO)}else{for(;;){aD(0,"for");if(k.id!==","){break}al()}}}a7(aB);ac(";");if(k.id!==";"){aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}}a7(aB);ac(";");if(k.id===";"){aG("Expected '{a}' and instead saw '{b}'.",k,")",";")}if(k.id!==")"){for(;;){aD(0,"for");if(k.id!==","){break}al()}}ac(")",F);R(aM,aB);D(true,true);az["(breakage)"]-=1;az["(loopage)"]-=1;return this}}).labelled=true;g("break",function(){var F=k.value;if(az["(breakage)"]===0){ak("Unexpected '{a}'.",k,this.value)}if(!T.asi){a7(this)}if(k.id!==";"){if(aB.line===k.line){if(az[F]!=="label"){ak("'{a}' is not a statement label.",k,F)}else{if(aC[F]!==az){ak("'{a}' is out of scope.",k,F)}}this.first=k;ac()}}W("break");return this}).exps=true;g("continue",function(){var F=k.value;if(az["(breakage)"]===0){ak("Unexpected '{a}'.",k,this.value)}if(!T.asi){a7(this)}if(k.id!==";"){if(aB.line===k.line){if(az[F]!=="label"){ak("'{a}' is not a statement label.",k,F)}else{if(aC[F]!==az){ak("'{a}' is out of scope.",k,F)}}this.first=k;ac()}}else{if(!az["(loopage)"]){ak("Unexpected '{a}'.",k,this.value)}}W("continue");return this}).exps=true;g("return",function(){if(this.line===k.line){if(k.id==="(regexp)"){ak("Wrap the /regexp/ literal in parens to disambiguate the slash operator.")}if(k.id!==";"&&!k.reach){Q(aB,k);if(aN().value==="="&&!T.boss){Z("Did you mean to return a conditional instead of an assignment?",aB.line,aB.character+1)}this.first=aD(0)}}else{if(!T.asi){a7(this)}}W("return");return this}).exps=true;g("throw",function(){a7(this);Q(aB,k);this.first=aD(20);W("throw");return this}).exps=true;p("class");p("const");p("enum");p("export");p("extends");p("import");p("super");p("let");p("yield");p("implements");p("interface");p("package");p("private");p("protected");p("public");p("static");function o(){function F(){var bc={},bb=k;ac("{");if(k.id!=="}"){for(;;){if(k.id==="(end)"){aG("Missing '}' to match '{' from line {a}.",k,bb.line)}else{if(k.id==="}"){ak("Unexpected comma.",aB);break}else{if(k.id===","){aG("Unexpected comma.",k)}else{if(k.id!=="(string)"){ak("Expected a string and instead saw {a}.",k,k.value)}}}}if(bc[k.value]===true){ak("Duplicate key '{a}'.",k,k.value)}else{if((k.value==="__proto__"&&!T.proto)||(k.value==="__iterator__"&&!T.iterator)){ak("The '{a}' key may produce unexpected results.",k,k.value)}else{bc[k.value]=true}}ac();ac(":");o();if(k.id!==","){break}ac(",")}}ac("}")}function ax(){var bb=k;ac("[");if(k.id!=="]"){for(;;){if(k.id==="(end)"){aG("Missing ']' to match '[' from line {a}.",k,bb.line)}else{if(k.id==="]"){ak("Unexpected comma.",aB);break}else{if(k.id===","){aG("Unexpected comma.",k)}}}o();if(k.id!==","){break}ac(",")}}ac("]")}switch(k.id){case"{":F();break;case"[":ax();break;case"true":case"false":case"null":case"(number)":case"(string)":ac();break;case"-":ac("-");if(aB.character!==k.from){ak("Unexpected space after '-'.",aB)}ar(aB,k);ac("(number)");break;default:aG("Expected a JSON value.",k)}}var H=function(bm,ax,bf){var bj,bd,bc,bk,bl,bb={};JSHINT.errors=[];JSHINT.undefs=[];aZ=Object.create(a3);a8(aZ,bf||{});if(ax){bj=ax.predef;if(bj){if(Array.isArray(bj)){for(bd=0;bd<bj.length;bd+=1){aZ[bj[bd]]=true}}else{if(typeof bj==="object"){bc=Object.keys(bj);for(bd=0;bd<bc.length;bd+=1){aZ[bc[bd]]=!!bj[bc[bd]]}}}}bl=Object.keys(ax);for(bk=0;bk<bl.length;bk++){bb[bl[bk]]=ax[bl[bk]]}}T=bb;T.indent=T.indent||4;T.maxerr=T.maxerr||50;m="";for(bd=0;bd<T.indent;bd+=1){m+=" "}am=1;A=Object.create(aZ);aC=A;az={"(global)":true,"(name)":"(global)","(scope)":aC,"(breakage)":0,"(loopage)":0};z=[az];S=[];au=null;aF={};aR=null;aQ={};aA=false;K=[];j=false;y=0;aj.init(bm);q=true;aw={};aM=aB=k=a["(begin)"];for(var F in ax){if(aP(ax,F)){a1(F,aB)}}af();a8(aZ,bf||{});al.first=true;try{ac();switch(k.id){case"{":case"[":T.laxbreak=true;j=true;o();break;default:aX();if(aw["use strict"]&&!T.globalstrict){ak('Use the function form of "use strict".',aM)}aI()}ac("(end)");var be=function(bn,bo){do{if(typeof bo[bn]==="string"){if(bo[bn]==="unused"){bo[bn]="var"}else{if(bo[bn]==="unction"){bo[bn]="closure"}}return true}bo=bo["(context)"]}while(bo);return false};var bi=function(bo,bn){if(!aQ[bo]){return}var bq=[];for(var bp=0;bp<aQ[bo].length;bp+=1){if(aQ[bo][bp]!==bn){bq.push(aQ[bo][bp])}}if(bq.length===0){delete aQ[bo]}else{aQ[bo]=bq}};for(bd=0;bd<JSHINT.undefs.length;bd+=1){bc=JSHINT.undefs[bd].slice(0);if(be(bc[2].value,bc[0])){bi(bc[2].value,bc[2].line)}else{ak.apply(ak,bc.slice(1))}}}catch(bg){if(bg){var bh=k||{};JSHINT.errors.push({raw:bg.raw,reason:bg.message,line:bg.line||bh.line,character:bg.character||bh.from},null)}}return JSHINT.errors.length===0};H.data=function(){var be={functions:[],options:T},bd,bf,bj=[],bh,bg,bb,bc=[],F,ax=[],bi;if(H.errors.length){be.errors=H.errors}if(j){be.json=true}for(F in aQ){if(aP(aQ,F)){bj.push({name:F,line:aQ[F]})}}if(bj.length>0){be.implieds=bj}if(S.length>0){be.urls=S}bf=Object.keys(aC);if(bf.length>0){be.globals=bf}for(bg=1;bg<z.length;bg+=1){bh=z[bg];bd={};for(bb=0;bb<aK.length;bb+=1){bd[aK[bb]]=[]}for(F in bh){if(aP(bh,F)&&F.charAt(0)!=="("){bi=bh[F];if(bi==="unction"){bi="unused"}if(Array.isArray(bd[bi])){bd[bi].push(F);if(bi==="unused"){ax.push({name:F,line:bh["(line)"],"function":bh["(name)"]})}}}}for(bb=0;bb<aK.length;bb+=1){if(bd[aK[bb]].length===0){delete bd[aK[bb]]}}bd.name=bh["(name)"];bd.param=bh["(params)"];bd.line=bh["(line)"];bd.last=bh["(last)"];be.functions.push(bd)}if(ax.length>0){be.unused=ax}bc=[];for(F in aF){if(typeof aF[F]==="number"){be.member=aF;break}}return be};H.report=function(bh){var bf=H.data();var bm=[],bl,bk,be,bj,bg,bd,bc,bb="",ax,F=[],bn;function bi(br,bs){var bo,bq,bp;if(bs){F.push("<div><i>"+br+"</i> ");bs=bs.sort();for(bq=0;bq<bs.length;bq+=1){if(bs[bq]!==bp){bp=bs[bq];F.push((bo?", ":"")+bp);bo=true}}F.push("</div>")}}if(bf.errors||bf.implieds||bf.unused){be=true;F.push("<div id=errors><i>Error:</i>");if(bf.errors){for(bg=0;bg<bf.errors.length;bg+=1){bl=bf.errors[bg];if(bl){bk=bl.evidence||"";F.push("<p>Problem"+(isFinite(bl.line)?" at line "+bl.line+" character "+bl.character:"")+": "+bl.reason.entityify()+"</p><p class=evidence>"+(bk&&(bk.length>80?bk.slice(0,77)+"...":bk).entityify())+"</p>")}}}if(bf.implieds){bn=[];for(bg=0;bg<bf.implieds.length;bg+=1){bn[bg]="<code>"+bf.implieds[bg].name+"</code>&nbsp;<i>"+bf.implieds[bg].line+"</i>"}F.push("<p><i>Implied global:</i> "+bn.join(", ")+"</p>")}if(bf.unused){bn=[];for(bg=0;bg<bf.unused.length;bg+=1){bn[bg]="<code><u>"+bf.unused[bg].name+"</u></code>&nbsp;<i>"+bf.unused[bg].line+"</i> <code>"+bf.unused[bg]["function"]+"</code>"}F.push("<p><i>Unused variable:</i> "+bn.join(", ")+"</p>")}if(bf.json){F.push("<p>JSON: bad.</p>")}F.push("</div>")}if(!bh){F.push("<br><div id=functions>");if(bf.urls){bi("URLs<br>",bf.urls,"<br>")}if(bf.json&&!be){F.push("<p>JSON: good.</p>")}else{if(bf.globals){F.push("<div><i>Global</i> "+bf.globals.sort().join(", ")+"</div>")}else{F.push("<div><i>No new global variables introduced.</i></div>")}}for(bg=0;bg<bf.functions.length;bg+=1){bj=bf.functions[bg];F.push("<br><div class=function><i>"+bj.line+"-"+bj.last+"</i> "+(bj.name||"")+"("+(bj.param?bj.param.join(", "):"")+")</div>");bi("<big><b>Unused</b></big>",bj.unused);bi("Closure",bj.closure);bi("Variable",bj["var"]);bi("Exception",bj.exception);bi("Outer",bj.outer);bi("Global",bj.global);bi("Label",bj.label)}if(bf.member){bm=Object.keys(bf.member);if(bm.length){bm=bm.sort();bb="<br><pre id=members>/*members ";bc=10;for(bg=0;bg<bm.length;bg+=1){bd=bm[bg];ax=bd.name();if(bc+ax.length>72){F.push(bb+"<br>");bb="    ";bc=1}bc+=ax.length+2;if(bf.member[bd]===1){ax="<i>"+ax+"</i>"}if(bg<bm.length-1){ax+=", "}bb+=ax}F.push(bb+"<br>*/</pre>")}F.push("</div>")}}return F.join("")};H.jshint=H;return H}());if(typeof exports==="object"&&exports){exports.JSHINT=JSHINT}var jsonlint=(function(){var f={trace:function c(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,"$accept":0,"$end":1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function b(g,j,k,n,m,i,l){var h=i.length-1;switch(m){case 1:this.$=g.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(g);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=i[h-1];break;case 13:this.$={};break;case 14:this.$=i[h-1];break;case 15:this.$=[i[h-2],i[h]];break;case 16:this.$={};this.$[i[h][0]]=i[h][1];break;case 17:this.$=i[h-2];i[h-2][i[h][0]]=i[h][1];break;case 18:this.$=[];break;case 19:this.$=i[h-1];break;case 20:this.$=[i[h]];break;case 21:this.$=i[h-2];i[h-2].push(i[h]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function d(h,g){throw new Error(h)},parse:function e(o){var x=this,l=[0],G=[null],s=[],H=this.table,h="",q=0,E=0,j=0,n=2,u=1;this.lexer.setInput(o);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var i=this.lexer.yylloc;s.push(i);if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function w(p){l.length=l.length-2*p;G.length=G.length-p;s.length=s.length-p}function v(){var p;p=x.lexer.lex()||1;if(typeof p!=="number"){p=x.symbols_[p]||p}return p}var D,z,k,C,I,t,B={},y,F,g,m;while(true){k=l[l.length-1];if(this.defaultActions[k]){C=this.defaultActions[k]}else{if(D==null){D=v()}C=H[k]&&H[k][D]}_handle_error:if(typeof C==="undefined"||!C.length||!C[0]){if(!j){m=[];for(y in H[k]){if(this.terminals_[y]&&y>2){m.push("'"+this.terminals_[y]+"'")}}var A="";if(this.lexer.showPosition){A="Parse error on line "+(q+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+m.join(", ")+", got '"+this.terminals_[D]+"'"}else{A="Parse error on line "+(q+1)+": Unexpected "+(D==1?"end of input":("'"+(this.terminals_[D]||D)+"'"))}this.parseError(A,{text:this.lexer.match,token:this.terminals_[D]||D,line:this.lexer.yylineno,loc:i,expected:m})}if(j==3){if(D==u){throw new Error(A||"Parsing halted.")}E=this.lexer.yyleng;h=this.lexer.yytext;q=this.lexer.yylineno;i=this.lexer.yylloc;D=v()}while(1){if((n.toString()) in H[k]){break}if(k==0){throw new Error(A||"Parsing halted.")}w(1);k=l[l.length-1]}z=D;D=n;k=l[l.length-1];C=H[k]&&H[k][n];j=3}if(C[0] instanceof Array&&C.length>1){throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+D)}switch(C[0]){case 1:l.push(D);G.push(this.lexer.yytext);s.push(this.lexer.yylloc);l.push(C[1]);D=null;if(!z){E=this.lexer.yyleng;h=this.lexer.yytext;q=this.lexer.yylineno;i=this.lexer.yylloc;if(j>0){j--}}else{D=z;z=null}break;case 2:F=this.productions_[C[1]][1];B.$=G[G.length-F];B._$={first_line:s[s.length-(F||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(F||1)].first_column,last_column:s[s.length-1].last_column};t=this.performAction.call(B,h,E,q,this.yy,C[1],G,s);if(typeof t!=="undefined"){return t}if(F){l=l.slice(0,-1*F*2);G=G.slice(0,-1*F);s=s.slice(0,-1*F)}l.push(this.productions_[C[1]][0]);G.push(B.$);s.push(B._$);g=H[l[l.length-2]][l[l.length-1]];l.push(g);break;case 3:return true}}return true}};var a=(function(){var j=({EOF:1,parseError:function l(o,n){if(this.yy.parseError){this.yy.parseError(o,n)}else{throw new Error(o)}},setInput:function(n){this._input=n;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var o=this._input[0];this.yytext+=o;this.yyleng++;this.match+=o;this.matched+=o;var n=o.match(/\n/);if(n){this.yylineno++}this._input=this._input.slice(1);return o},unput:function(n){this._input=n+this._input;return this},more:function(){this._more=true;return this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;if(n.length<20){n+=this._input.substr(0,20-n.length)}return(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput();var o=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+o+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var t,r,o,q,p,n;if(!this._more){this.yytext="";this.match=""}var u=this._currentRules();for(var s=0;s<u.length;s++){o=this._input.match(this.rules[u[s]]);if(o&&(!r||o[0].length>r[0].length)){r=o;q=s;if(!this.options.flex){break}}}if(r){n=r[0].match(/\n.*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-1:this.yylloc.last_column+r[0].length};this.yytext+=r[0];this.match+=r[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(r[0].length);this.matched+=r[0];t=this.performAction.call(this,this.yy,this,u[q],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(t){return t}else{return}}if(this._input===""){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function g(){var n=this.next();if(typeof n!=="undefined"){return n}else{return this.lex()}},begin:function h(n){this.conditionStack.push(n)},popState:function m(){return this.conditionStack.pop()},_currentRules:function k(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function h(n){this.begin(n)}});j.options={};j.performAction=function i(r,o,q,n){var p=n;switch(q){case 0:break;case 1:return 6;break;case 2:o.yytext=o.yytext.substr(1,o.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return"INVALID";break}};j.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];j.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:true}};return j})();f.lexer=a;return f})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments)};exports.main=function commonjsMain(a){if(!a[1]){throw new Error("Usage: "+a[0]+" FILE")}if(typeof process!=="undefined"){var c=require("fs").readFileSync(require("path").join(process.cwd(),a[1]),"utf8")}else{var b=require("file").path(require("file").cwd());var c=b.join(a[1]).read({charset:"utf-8"})}return exports.parser.parse(c)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}var CSSLint=(function(){var parserlib={};(function(){function EventTarget(){this._listeners={}}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){if(!this._listeners[type]){this._listeners[type]=[]}this._listeners[type].push(listener)},fire:function(event){if(typeof event=="string"){event={type:event}}if(typeof event.target!="undefined"){event.target=this}if(typeof event.type=="undefined"){throw new Error("Event object missing 'type' property.")}if(this._listeners[event.type]){var listeners=this._listeners[event.type].concat();for(var i=0,len=listeners.length;i<len;i++){listeners[i].call(this,event)}}},removeListener:function(type,listener){if(this._listeners[type]){var listeners=this._listeners[type];for(var i=0,len=listeners.length;i<len;i++){if(listeners[i]===listener){listeners.splice(i,1);break}}}}};function StringReader(text){this._input=text.replace(/\n\r?/g,"\n");this._line=1;this._col=1;this._cursor=0}StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return(this._cursor==this._input.length)},peek:function(count){var c=null;count=(typeof count=="undefined"?1:count);if(this._cursor<this._input.length){c=this._input.charAt(this._cursor+count-1)}return c},read:function(){var c=null;if(this._cursor<this._input.length){if(this._input.charAt(this._cursor)=="\n"){this._line++;this._col=1}else{this._col++}c=this._input.charAt(this._cursor++)}return c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){if(this._bookmark){this._cursor=this._bookmark.cursor;this._line=this._bookmark.line;this._col=this._bookmark.col;delete this._bookmark}},readTo:function(pattern){var buffer="",c;while(buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length){c=this.read();if(c){buffer+=c}else{throw new Error('Expected "'+pattern+'" at line '+this._line+", col "+this._col+".")}}return buffer},readWhile:function(filter){var buffer="",c=this.read();while(c!==null&&filter(c)){buffer+=c;c=this.read()}return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;if(typeof matcher=="string"){if(source.indexOf(matcher)===0){value=this.readCount(matcher.length)}}else{if(matcher instanceof RegExp){if(matcher.test(source)){value=this.readCount(RegExp.lastMatch.length)}}}return value},readCount:function(count){var buffer="";while(count--){buffer+=this.read()}return buffer}};function SyntaxError(message,line,col){this.col=col;this.line=line;this.message=message}SyntaxError.prototype=new Error();function SyntaxUnit(text,line,col,type){this.col=col;this.line=line;this.text=text;this.type=type}SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)};SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.toString()},toString:function(){return this.text}};function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(input.toString()):null;this._token=null;this._tokenData=tokenData;this._lt=[];this._ltIndex=0;this._ltIndexCache=[]}TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;tokenData.UNKNOWN=-1;tokenData.unshift({name:"EOF"});for(;i<len;i++){nameMap.push(tokenData[i].name);tokenData[tokenData[i].name]=i;if(tokenData[i].text){typeMap[tokenData[i].text]=i}}tokenData.name=function(tt){return nameMap[tt]};tokenData.type=function(c){return typeMap[c]};return tokenData};TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){if(!(tokenTypes instanceof Array)){tokenTypes=[tokenTypes]}var tt=this.get(channel),i=0,len=tokenTypes.length;while(i<len){if(tt==tokenTypes[i++]){return true}}this.unget();return false},mustMatch:function(tokenTypes,channel){var token;if(!(tokenTypes instanceof Array)){tokenTypes=[tokenTypes]}if(!this.match.apply(this,arguments)){token=this.LT(1);throw new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)}},advance:function(tokenTypes,channel){while(this.LA(0)!==0&&!this.match(tokenTypes,channel)){this.get()}return this.LA(0)},get:function(channel){var tokenInfo=this._tokenData,reader=this._reader,value,i=0,len=tokenInfo.length,found=false,token,info;if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){i++;this._token=this._lt[this._ltIndex++];info=tokenInfo[this._token.type];while((info.channel!==undefined&&channel!==info.channel)&&this._ltIndex<this._lt.length){this._token=this._lt[this._ltIndex++];info=tokenInfo[this._token.type];i++}if((info.channel===undefined||channel===info.channel)&&this._ltIndex<=this._lt.length){this._ltIndexCache.push(i);return this._token.type}}token=this._getToken();if(token.type>-1&&!tokenInfo[token.type].hide){token.channel=tokenInfo[token.type].channel;this._token=token;this._lt.push(token);this._ltIndexCache.push(this._lt.length-this._ltIndex+i);if(this._lt.length>5){this._lt.shift()}if(this._ltIndexCache.length>5){this._ltIndexCache.shift()}this._ltIndex=this._lt.length}info=tokenInfo[token.type];if(info&&(info.hide||(info.channel!==undefined&&channel!==info.channel))){return this.get(channel)}else{return token.type}},LA:function(index){var total=index,tt;if(index>0){if(index>5){throw new Error("Too much lookahead.")}while(total){tt=this.get();total--}while(total<index){this.unget();total++}}else{if(index<0){if(this._lt[this._ltIndex+index]){tt=this._lt[this._ltIndex+index].type}else{throw new Error("Too much lookbehind.")}}else{tt=this._token.type}}return tt},LT:function(index){this.LA(index);return this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){if(tokenType<0||tokenType>this._tokenData.length){return"UNKNOWN_TOKEN"}else{return this._tokenData[tokenType].name}},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(this._ltIndexCache.length){this._ltIndex-=this._ltIndexCache.pop();this._token=this._lt[this._ltIndex-1]}else{throw new Error("Too much lookahead.")}}};parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})();(function(){var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit;var Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE);this.type="unknown";if(/^\s+$/.test(text)){this.type="descendant"}else{if(text==">"){this.type="child"}else{if(text=="+"){this.type="adjacent-sibling"}else{if(text=="~"){this.type="sibling"}}}}}Combinator.prototype=new SyntaxUnit();Combinator.prototype.constructor=Combinator;function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(value!==null?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE);this.name=name;this.value=value}MediaFeature.prototype=new SyntaxUnit();MediaFeature.prototype.constructor=MediaFeature;function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE);this.modifier=modifier;this.mediaType=mediaType;this.features=features}MediaQuery.prototype=new SyntaxUnit();MediaQuery.prototype.constructor=MediaQuery;function Parser(options){EventTarget.call(this);this.options=options||{};this._tokenStream=null}Parser.DEFAULT_TYPE=0;Parser.COMBINATOR_TYPE=1;Parser.MEDIA_FEATURE_TYPE=2;Parser.MEDIA_QUERY_TYPE=3;Parser.PROPERTY_NAME_TYPE=4;Parser.PROPERTY_VALUE_TYPE=5;Parser.PROPERTY_VALUE_PART_TYPE=6;Parser.SELECTOR_TYPE=7;Parser.SELECTOR_PART_TYPE=8;Parser.SELECTOR_SUB_PART_TYPE=9;Parser.prototype=function(){var proto=new EventTarget(),prop,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var tokenStream=this._tokenStream,charset=null,count,token,tt;this.fire("startstylesheet");this._charset();this._skipCruft();while(tokenStream.peek()==Tokens.IMPORT_SYM){this._import();this._skipCruft()}while(tokenStream.peek()==Tokens.NAMESPACE_SYM){this._namespace();this._skipCruft()}tt=tokenStream.peek();while(tt>Tokens.EOF){try{switch(tt){case Tokens.MEDIA_SYM:this._media();this._skipCruft();break;case Tokens.PAGE_SYM:this._page();this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face();this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes();this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport();this._skipCruft();break;case Tokens.UNKNOWN_SYM:tokenStream.get();if(!this.options.strict){this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol});count=0;while(tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE){count++}while(count){tokenStream.advance([Tokens.RBRACE]);count--}}else{throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol)}break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset()){switch(tt){case Tokens.CHARSET_SYM:token=tokenStream.LT(1);this._charset(false);throw new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:token=tokenStream.LT(1);this._import(false);throw new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:token=tokenStream.LT(1);this._namespace(false);throw new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get();this._unexpectedToken(tokenStream.token())}}}}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}else{throw ex}}tt=tokenStream.peek()}if(tt!=Tokens.EOF){this._unexpectedToken(tokenStream.token())}this.fire("endstylesheet")},_charset:function(emit){var tokenStream=this._tokenStream,charset,token,line,col;if(tokenStream.match(Tokens.CHARSET_SYM)){line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();tokenStream.mustMatch(Tokens.STRING);token=tokenStream.token();charset=token.value;this._readWhitespace();tokenStream.mustMatch(Tokens.SEMICOLON);if(emit!==false){this.fire({type:"charset",charset:charset,line:line,col:col})}}},_import:function(emit){var tokenStream=this._tokenStream,tt,uri,importToken,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM);importToken=tokenStream.token();this._readWhitespace();tokenStream.mustMatch([Tokens.STRING,Tokens.URI]);uri=tokenStream.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();mediaList=this._media_query_list();tokenStream.mustMatch(Tokens.SEMICOLON);this._readWhitespace();if(emit!==false){this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})}},_namespace:function(emit){var tokenStream=this._tokenStream,line,col,prefix,uri;tokenStream.mustMatch(Tokens.NAMESPACE_SYM);line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();if(tokenStream.match(Tokens.IDENT)){prefix=tokenStream.token().value;this._readWhitespace()}tokenStream.mustMatch([Tokens.STRING,Tokens.URI]);uri=tokenStream.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();tokenStream.mustMatch(Tokens.SEMICOLON);this._readWhitespace();if(emit!==false){this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})}},_media:function(){var tokenStream=this._tokenStream,line,col,mediaList;tokenStream.mustMatch(Tokens.MEDIA_SYM);line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();mediaList=this._media_query_list();tokenStream.mustMatch(Tokens.LBRACE);this._readWhitespace();this.fire({type:"startmedia",media:mediaList,line:line,col:col});while(true){if(tokenStream.peek()==Tokens.PAGE_SYM){this._page()}else{if(tokenStream.peek()==Tokens.FONT_FACE_SYM){this._font_face()}else{if(!this._ruleset()){break}}}}tokenStream.mustMatch(Tokens.RBRACE);this._readWhitespace();this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];this._readWhitespace();if(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN){mediaList.push(this._media_query())}while(tokenStream.match(Tokens.COMMA)){this._readWhitespace();mediaList.push(this._media_query())}return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)){ident=tokenStream.token().value.toLowerCase();if(ident!="only"&&ident!="not"){tokenStream.unget();ident=null}else{token=tokenStream.token()}}this._readWhitespace();if(tokenStream.peek()==Tokens.IDENT){type=this._media_type();if(token===null){token=tokenStream.token()}}else{if(tokenStream.peek()==Tokens.LPAREN){if(token===null){token=tokenStream.LT(1)}expressions.push(this._media_expression())}}if(type===null&&expressions.length===0){return null}else{this._readWhitespace();while(tokenStream.match(Tokens.IDENT)){if(tokenStream.token().value.toLowerCase()!="and"){this._unexpectedToken(tokenStream.token())}this._readWhitespace();expressions.push(this._media_expression())}}return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var tokenStream=this._tokenStream,feature=null,token,expression=null;tokenStream.mustMatch(Tokens.LPAREN);feature=this._media_feature();this._readWhitespace();if(tokenStream.match(Tokens.COLON)){this._readWhitespace();token=tokenStream.LT(1);expression=this._expression()}tokenStream.mustMatch(Tokens.RPAREN);this._readWhitespace();return new MediaFeature(feature,(expression?new SyntaxUnit(expression,token.startLine,token.startCol):null))},_media_feature:function(){var tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.IDENT);return SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var tokenStream=this._tokenStream,line,col,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM);line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();if(tokenStream.match(Tokens.IDENT)){identifier=tokenStream.token().value;if(identifier.toLowerCase()==="auto"){this._unexpectedToken(tokenStream.token())}}if(tokenStream.peek()==Tokens.COLON){pseudoPage=this._pseudo_page()}this._readWhitespace();this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col});this._readDeclarations(true,true);this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var tokenStream=this._tokenStream,line,col,marginSym=this._margin_sym();if(marginSym){line=tokenStream.token().startLine;col=tokenStream.token().startCol;this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col});this._readDeclarations(true);this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col});return true}else{return false}},_margin_sym:function(){var tokenStream=this._tokenStream;if(tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])){return SyntaxUnit.fromToken(tokenStream.token())}else{return null}},_pseudo_page:function(){var tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.COLON);tokenStream.mustMatch(Tokens.IDENT);return tokenStream.token().value},_font_face:function(){var tokenStream=this._tokenStream,line,col;tokenStream.mustMatch(Tokens.FONT_FACE_SYM);line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();this.fire({type:"startfontface",line:line,col:col});this._readDeclarations(true);this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var tokenStream=this._tokenStream,line,col;tokenStream.mustMatch(Tokens.VIEWPORT_SYM);line=tokenStream.token().startLine;col=tokenStream.token().startCol;this._readWhitespace();this.fire({type:"startviewport",line:line,col:col});this._readDeclarations(true);this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;if(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||(inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))){token=tokenStream.token();this._readWhitespace()}return token?PropertyValuePart.fromToken(token):null},_combinator:function(){var tokenStream=this._tokenStream,value=null,token;if(tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])){token=tokenStream.token();value=new Combinator(token.value,token.startLine,token.startCol);this._readWhitespace()}return value},_unary_operator:function(){var tokenStream=this._tokenStream;if(tokenStream.match([Tokens.MINUS,Tokens.PLUS])){return tokenStream.token().value}else{return null}},_property:function(){var tokenStream=this._tokenStream,value=null,hack=null,tokenValue,token,line,col;if(tokenStream.peek()==Tokens.STAR&&this.options.starHack){tokenStream.get();token=tokenStream.token();hack=token.value;line=token.startLine;col=token.startCol}if(tokenStream.match(Tokens.IDENT)){token=tokenStream.token();tokenValue=token.value;if(tokenValue.charAt(0)=="_"&&this.options.underscoreHack){hack="_";tokenValue=tokenValue.substring(1)}value=new PropertyName(tokenValue,hack,(line||token.startLine),(col||token.startCol));this._readWhitespace()}return value},_ruleset:function(){var tokenStream=this._tokenStream,tt,selectors;try{selectors=this._selectors_group()}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col});tt=tokenStream.advance([Tokens.RBRACE]);if(tt==Tokens.RBRACE){}else{throw ex}}else{throw ex}return true}if(selectors){this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col});this._readDeclarations(true);this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})}return selectors},_selectors_group:function(){var tokenStream=this._tokenStream,selectors=[],selector;selector=this._selector();if(selector!==null){selectors.push(selector);while(tokenStream.match(Tokens.COMMA)){this._readWhitespace();selector=this._selector();if(selector!==null){selectors.push(selector)}else{this._unexpectedToken(tokenStream.LT(1))}}}return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;nextSelector=this._simple_selector_sequence();if(nextSelector===null){return null}selector.push(nextSelector);do{combinator=this._combinator();if(combinator!==null){selector.push(combinator);nextSelector=this._simple_selector_sequence();if(nextSelector===null){this._unexpectedToken(tokenStream.LT(1))}else{selector.push(nextSelector)}}else{if(this._readWhitespace()){ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol);combinator=this._combinator();nextSelector=this._simple_selector_sequence();if(nextSelector===null){if(combinator!==null){this._unexpectedToken(tokenStream.LT(1))}}else{if(combinator!==null){selector.push(combinator)}else{selector.push(ws)}selector.push(nextSelector)}}else{break}}}while(true);return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null,found=false,line,col;line=tokenStream.LT(1).startLine;col=tokenStream.LT(1).startCol;elementName=this._type_selector();if(!elementName){elementName=this._universal()}if(elementName!==null){selectorText+=elementName}while(true){if(tokenStream.peek()===Tokens.S){break}while(i<len&&component===null){component=components[i++].call(this)}if(component===null){if(selectorText===""){return null}else{break}}else{i=0;modifiers.push(component);selectorText+=component.toString();component=null}}return selectorText!==""?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();if(!elementName){if(ns){tokenStream.unget();if(ns.length>1){tokenStream.unget()}}return null}else{if(ns){elementName.text=ns+elementName.text;elementName.col-=ns.length}return elementName}},_class:function(){var tokenStream=this._tokenStream,token;if(tokenStream.match(Tokens.DOT)){tokenStream.mustMatch(Tokens.IDENT);token=tokenStream.token();return new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)}else{return null}},_element_name:function(){var tokenStream=this._tokenStream,token;if(tokenStream.match(Tokens.IDENT)){token=tokenStream.token();return new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)}else{return null}},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";if(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE){if(tokenStream.match([Tokens.IDENT,Tokens.STAR])){value+=tokenStream.token().value}tokenStream.mustMatch(Tokens.PIPE);value+="|"}return value.length?value:null},_universal:function(){var tokenStream=this._tokenStream,value="",ns;ns=this._namespace_prefix();if(ns){value+=ns}if(tokenStream.match(Tokens.STAR)){value+="*"}return value.length?value:null},_attrib:function(){var tokenStream=this._tokenStream,value=null,ns,token;if(tokenStream.match(Tokens.LBRACKET)){token=tokenStream.token();value=token.value;value+=this._readWhitespace();ns=this._namespace_prefix();if(ns){value+=ns}tokenStream.mustMatch(Tokens.IDENT);value+=tokenStream.token().value;value+=this._readWhitespace();if(tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])){value+=tokenStream.token().value;value+=this._readWhitespace();tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]);value+=tokenStream.token().value;value+=this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACKET);return new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)}else{return null}},_pseudo:function(){var tokenStream=this._tokenStream,pseudo=null,colons=":",line,col;if(tokenStream.match(Tokens.COLON)){if(tokenStream.match(Tokens.COLON)){colons+=":"}if(tokenStream.match(Tokens.IDENT)){pseudo=tokenStream.token().value;line=tokenStream.token().startLine;col=tokenStream.token().startCol-colons.length}else{if(tokenStream.peek()==Tokens.FUNCTION){line=tokenStream.LT(1).startLine;col=tokenStream.LT(1).startCol-colons.length;pseudo=this._functional_pseudo()}}if(pseudo){pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col)}}return pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;if(tokenStream.match(Tokens.FUNCTION)){value=tokenStream.token().value;value+=this._readWhitespace();value+=this._expression();tokenStream.mustMatch(Tokens.RPAREN);value+=")"}return value},_expression:function(){var tokenStream=this._tokenStream,value="";while(tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH])){value+=tokenStream.token().value;value+=this._readWhitespace()}return value.length?value:null},_negation:function(){var tokenStream=this._tokenStream,line,col,value="",arg,subpart=null;if(tokenStream.match(Tokens.NOT)){value=tokenStream.token().value;line=tokenStream.token().startLine;col=tokenStream.token().startCol;value+=this._readWhitespace();arg=this._negation_arg();value+=arg;value+=this._readWhitespace();tokenStream.match(Tokens.RPAREN);value+=tokenStream.token().value;subpart=new SelectorSubPart(value,"not",line,col);subpart.args.push(arg)}return subpart},_negation_arg:function(){var tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length,elementName,line,col,part;line=tokenStream.LT(1).startLine;col=tokenStream.LT(1).startCol;while(i<len&&arg===null){arg=args[i].call(this);i++}if(arg===null){this._unexpectedToken(tokenStream.LT(1))}if(arg.type=="elementName"){part=new SelectorPart(arg,[],arg.toString(),line,col)}else{part=new SelectorPart(null,[arg],arg.toString(),line,col)}return part},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,error=null,invalid=null,propertyName="";property=this._property();if(property!==null){tokenStream.mustMatch(Tokens.COLON);this._readWhitespace();expr=this._expr();if(!expr||expr.length===0){this._unexpectedToken(tokenStream.LT(1))}prio=this._prio();propertyName=property.toString();if(this.options.starHack&&property.hack=="*"||this.options.underscoreHack&&property.hack=="_"){propertyName=property.text}try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid});return true}else{return false}},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);this._readWhitespace();return result},_expr:function(inFunction){var tokenStream=this._tokenStream,values=[],value=null,operator=null;value=this._term();if(value!==null){values.push(value);do{operator=this._operator(inFunction);if(operator){values.push(operator)}value=this._term();if(value===null){break}else{values.push(value)}}while(true)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(){var tokenStream=this._tokenStream,unary=null,value=null,token,line,col;unary=this._unary_operator();if(unary!==null){line=tokenStream.token().startLine;col=tokenStream.token().startCol}if(tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters){value=this._ie_function();if(unary===null){line=tokenStream.token().startLine;col=tokenStream.token().startCol}}else{if(tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])){value=tokenStream.token().value;if(unary===null){line=tokenStream.token().startLine;col=tokenStream.token().startCol}this._readWhitespace()}else{token=this._hexcolor();if(token===null){if(unary===null){line=tokenStream.LT(1).startLine;col=tokenStream.LT(1).startCol}if(value===null){if(tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters){value=this._ie_function()}else{value=this._function()}}}else{value=token.value;if(unary===null){line=token.startLine;col=token.startCol}}}}return value!==null?new PropertyValuePart(unary!==null?unary+value:value,line,col):null},_function:function(){var tokenStream=this._tokenStream,functionText=null,expr=null,lt;if(tokenStream.match(Tokens.FUNCTION)){functionText=tokenStream.token().value;this._readWhitespace();expr=this._expr(true);functionText+=expr;if(this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS){do{if(this._readWhitespace()){functionText+=tokenStream.token().value}if(tokenStream.LA(0)==Tokens.COMMA){functionText+=tokenStream.token().value}tokenStream.match(Tokens.IDENT);functionText+=tokenStream.token().value;tokenStream.match(Tokens.EQUALS);functionText+=tokenStream.token().value;lt=tokenStream.peek();while(lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN){tokenStream.get();functionText+=tokenStream.token().value;lt=tokenStream.peek()}}while(tokenStream.match([Tokens.COMMA,Tokens.S]))}tokenStream.match(Tokens.RPAREN);functionText+=")";this._readWhitespace()}return functionText},_ie_function:function(){var tokenStream=this._tokenStream,functionText=null,expr=null,lt;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do{if(this._readWhitespace()){functionText+=tokenStream.token().value}if(tokenStream.LA(0)==Tokens.COMMA){functionText+=tokenStream.token().value}tokenStream.match(Tokens.IDENT);functionText+=tokenStream.token().value;tokenStream.match(Tokens.EQUALS);functionText+=tokenStream.token().value;lt=tokenStream.peek();while(lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN){tokenStream.get();functionText+=tokenStream.token().value;lt=tokenStream.peek()}}while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN);functionText+=")";this._readWhitespace()}return functionText},_hexcolor:function(){var tokenStream=this._tokenStream,token=null,color;if(tokenStream.match(Tokens.HASH)){token=tokenStream.token();color=token.value;if(!/#[a-f0-9]{3,6}/i.test(color)){throw new SyntaxError("Expected a hex color but found '"+color+"' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)}this._readWhitespace()}return token},_keyframes:function(){var tokenStream=this._tokenStream,token,tt,name,prefix="";tokenStream.mustMatch(Tokens.KEYFRAMES_SYM);token=tokenStream.token();if(/^@\-([^\-]+)\-/.test(token.value)){prefix=RegExp.$1}this._readWhitespace();name=this._keyframe_name();this._readWhitespace();tokenStream.mustMatch(Tokens.LBRACE);this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol});this._readWhitespace();tt=tokenStream.peek();while(tt==Tokens.IDENT||tt==Tokens.PERCENTAGE){this._keyframe_rule();this._readWhitespace();tt=tokenStream.peek()}this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol});this._readWhitespace();tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream,token;tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]);return SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var tokenStream=this._tokenStream,token,keyList=this._key_list();this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col});this._readDeclarations(true);this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,token,key,keyList=[];keyList.push(this._key());this._readWhitespace();while(tokenStream.match(Tokens.COMMA)){this._readWhitespace();keyList.push(this._key());this._readWhitespace()}return keyList},_key:function(){var tokenStream=this._tokenStream,token;if(tokenStream.match(Tokens.PERCENTAGE)){return SyntaxUnit.fromToken(tokenStream.token())}else{if(tokenStream.match(Tokens.IDENT)){token=tokenStream.token();if(/from|to/i.test(token.value)){return SyntaxUnit.fromToken(token)}tokenStream.unget()}}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){while(this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC])){}},_readDeclarations:function(checkStart,readMargins){var tokenStream=this._tokenStream,tt;this._readWhitespace();if(checkStart){tokenStream.mustMatch(Tokens.LBRACE)}this._readWhitespace();try{while(true){if(tokenStream.match(Tokens.SEMICOLON)||(readMargins&&this._margin())){}else{if(this._declaration()){if(!tokenStream.match(Tokens.SEMICOLON)){break}}else{break}}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE);this._readWhitespace()}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col});tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]);if(tt==Tokens.SEMICOLON){this._readDeclarations(false,readMargins)}else{if(tt!=Tokens.RBRACE){throw ex}}}else{throw ex}}},_readWhitespace:function(){var tokenStream=this._tokenStream,ws="";while(tokenStream.match(Tokens.S)){ws+=tokenStream.token().value}return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token '"+token.value+"' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){if(this._tokenStream.LA(1)!=Tokens.EOF){this._unexpectedToken(this._tokenStream.LT(1))}},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens);this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();this._verifyEnd();return result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens);this._readWhitespace();var result=this._expr();this._readWhitespace();this._verifyEnd();return result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens);this._readWhitespace();var result=this._ruleset();this._readWhitespace();this._verifyEnd();return result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens);this._readWhitespace();var result=this._selector();this._readWhitespace();this._verifyEnd();return result},parseStyleAttribute:function(input){input+="}";this._tokenStream=new TokenStream(input,Tokens);this._readDeclarations()}};for(prop in additions){if(additions.hasOwnProperty(prop)){proto[prop]=additions[prop]}}return proto}();var Properties={"alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:true},"animation-direction":{multi:"normal | alternate",comma:true},"animation-duration":{multi:"<time>",comma:true},"animation-iteration-count":{multi:"<number> | infinite",comma:true},"animation-name":{multi:"none | <ident>",comma:true},"animation-play-state":{multi:"running | paused",comma:true},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:true},"-moz-animation-direction":{multi:"normal | alternate",comma:true},"-moz-animation-duration":{multi:"<time>",comma:true},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:true},"-moz-animation-name":{multi:"none | <ident>",comma:true},"-moz-animation-play-state":{multi:"running | paused",comma:true},"-ms-animation-delay":{multi:"<time>",comma:true},"-ms-animation-direction":{multi:"normal | alternate",comma:true},"-ms-animation-duration":{multi:"<time>",comma:true},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:true},"-ms-animation-name":{multi:"none | <ident>",comma:true},"-ms-animation-play-state":{multi:"running | paused",comma:true},"-webkit-animation-delay":{multi:"<time>",comma:true},"-webkit-animation-direction":{multi:"normal | alternate",comma:true},"-webkit-animation-duration":{multi:"<time>",comma:true},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:true},"-webkit-animation-name":{multi:"none | <ident>",comma:true},"-webkit-animation-play-state":{multi:"running | paused",comma:true},"-o-animation-delay":{multi:"<time>",comma:true},"-o-animation-direction":{multi:"normal | alternate",comma:true},"-o-animation-duration":{multi:"<time>",comma:true},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:true},"-o-animation-name":{multi:"none | <ident>",comma:true},"-o-animation-play-state":{multi:"running | paused",comma:true},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=false,valid=false,part;if(!ValidationTypes.isAny(expression,simple)){if(ValidationTypes.isAny(expression,"behind")){behind=true;valid=true}if(ValidationTypes.isAny(expression,direction)){valid=true;if(!behind){ValidationTypes.isAny(expression,"behind")}}}if(expression.hasNext()){part=expression.next();if(valid){throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected (<'azimuth'>) but found '"+part+"'.",part.line,part.col)}}},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:true},"background-clip":{multi:"<box>",comma:true},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:true},"background-origin":{multi:"<box>",comma:true},"background-position":{multi:"<bg-position>",comma:true},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:true},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var valid=false,numeric="<number> | <percentage>",fill=false,count=0,max=4,part;if(ValidationTypes.isAny(expression,"fill")){fill=true;valid=true}while(expression.hasNext()&&count<max){valid=ValidationTypes.isAny(expression,numeric);if(!valid){break}count++}if(!fill){ValidationTypes.isAny(expression,"fill")}else{valid=true}if(expression.hasNext()){part=expression.next();if(valid){throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found '"+part+"'.",part.line,part.col)}}},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){var valid=false,simple="<length> | <percentage> | inherit",slash=false,fill=false,count=0,max=8,part;while(expression.hasNext()&&count<max){valid=ValidationTypes.isAny(expression,simple);if(!valid){if(expression.peek()=="/"&&count>0&&!slash){slash=true;max=count+5;expression.next()}else{break}}count++}if(expression.hasNext()){part=expression.next();if(valid){throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected (<'border-radius'>) but found '"+part+"'.",part.line,part.col)}}},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","box-align":"start | end | center | baseline | stretch","box-decoration-break":"slice |clone","box-direction":"normal | reverse | inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single | multiple","box-ordinal-group":"<integer>","box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","box-pack":"start | end | center | justify","box-shadow":function(expression){var result=false,part;if(!ValidationTypes.isAny(expression,"none")){Validation.multiProperty("<shadow>",expression,true,Infinity)}else{if(expression.hasNext()){part=expression.next();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}}},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | box | inline-box | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,"float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | none | inherit","max-width":"<length> | <percentage> | none | inherit","min-height":"<length> | <percentage> | inherit","min-width":"<length> | <percentage> | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | bidi-override | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":1,"z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE);this.hack=hack}PropertyName.prototype=new SyntaxUnit();PropertyName.prototype.constructor=PropertyName;PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text};function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE);this.parts=parts}PropertyValue.prototype=new SyntaxUnit();PropertyValue.prototype.constructor=PropertyValue;function PropertyValueIterator(value){this._i=0;this._parts=value.parts;this._marks=[];this.value=value}PropertyValueIterator.prototype.count=function(){return this._parts.length};PropertyValueIterator.prototype.isFirst=function(){return this._i===0};PropertyValueIterator.prototype.hasNext=function(){return(this._i<this._parts.length)};PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)};PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null};PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null};PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null};PropertyValueIterator.prototype.restore=function(){if(this._marks.length){this._i=this._marks.pop()}};function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE);this.type="unknown";var temp;if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(text)){this.type="dimension";this.value=+RegExp.$1;this.units=RegExp.$2;switch(this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vm":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution";break}}else{if(/^([+\-]?[\d\.]+)%$/i.test(text)){this.type="percentage";this.value=+RegExp.$1}else{if(/^([+\-]?[\d\.]+)%$/i.test(text)){this.type="percentage";this.value=+RegExp.$1}else{if(/^([+\-]?\d+)$/i.test(text)){this.type="integer";this.value=+RegExp.$1}else{if(/^([+\-]?[\d\.]+)$/i.test(text)){this.type="number";this.value=+RegExp.$1}else{if(/^#([a-f0-9]{3,6})/i.test(text)){this.type="color";temp=RegExp.$1;if(temp.length==3){this.red=parseInt(temp.charAt(0)+temp.charAt(0),16);this.green=parseInt(temp.charAt(1)+temp.charAt(1),16);this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)}else{this.red=parseInt(temp.substring(0,2),16);this.green=parseInt(temp.substring(2,4),16);this.blue=parseInt(temp.substring(4,6),16)}}else{if(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1;this.green=+RegExp.$2;this.blue=+RegExp.$3}else{if(/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1*255/100;this.green=+RegExp.$2*255/100;this.blue=+RegExp.$3*255/100}else{if(/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1;this.green=+RegExp.$2;this.blue=+RegExp.$3;this.alpha=+RegExp.$4}else{if(/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1*255/100;this.green=+RegExp.$2*255/100;this.blue=+RegExp.$3*255/100;this.alpha=+RegExp.$4}else{if(/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)){this.type="color";this.hue=+RegExp.$1;this.saturation=+RegExp.$2/100;this.lightness=+RegExp.$3/100}else{if(/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)){this.type="color";this.hue=+RegExp.$1;this.saturation=+RegExp.$2/100;this.lightness=+RegExp.$3/100;this.alpha=+RegExp.$4}else{if(/^url\(["']?([^\)"']+)["']?\)/i.test(text)){this.type="uri";this.uri=RegExp.$1}else{if(/^([^\(]+)\(/i.test(text)){this.type="function";this.name=RegExp.$1;this.value=text}else{if(/^["'][^"']*["']/.test(text)){this.type="string";this.value=eval(text)}else{if(Colors[text.toLowerCase()]){this.type="color";temp=Colors[text.toLowerCase()].substring(1);this.red=parseInt(temp.substring(0,2),16);this.green=parseInt(temp.substring(2,4),16);this.blue=parseInt(temp.substring(4,6),16)}else{if(/^[\,\/]$/.test(text)){this.type="operator";this.value=text}else{if(/^[a-z\-\u0080-\uFFFF][a-z0-9\-\u0080-\uFFFF]*$/i.test(text)){this.type="identifier";this.value=text}}}}}}}}}}}}}}}}}}}PropertyValuePart.prototype=new SyntaxUnit();PropertyValuePart.prototype.constructor=PropertyValuePart;PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1;Pseudos.CLASS=2;Pseudos.isElement=function(pseudo){return pseudo.indexOf("::")===0||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT};function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE);this.parts=parts;this.specificity=Specificity.calculate(this)}Selector.prototype=new SyntaxUnit();Selector.prototype.constructor=Selector;function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE);this.elementName=elementName;this.modifiers=modifiers}SelectorPart.prototype=new SyntaxUnit();SelectorPart.prototype.constructor=SelectorPart;function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE);this.type=type;this.args=[]}SelectorSubPart.prototype=new SyntaxUnit();SelectorSubPart.prototype.constructor=SelectorSubPart;function Specificity(a,b,c,d){this.a=a;this.b=b;this.c=c;this.d=d}Specificity.prototype={constructor:Specificity,compare:function(other){var comps=["a","b","c","d"],i,len;for(i=0,len=comps.length;i<len;i++){if(this[comps[i]]<other[comps[i]]){return -1}else{if(this[comps[i]]>other[comps[i]]){return 1}}}return 0},valueOf:function(){return(this.a*1000)+(this.b*100)+(this.c*10)+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}};Specificity.calculate=function(selector){var i,len,part,b=0,c=0,d=0;function updateValues(part){var i,j,len,num,elementName=part.elementName?part.elementName.text:"",modifier;if(elementName&&elementName.charAt(elementName.length-1)!="*"){d++}for(i=0,len=part.modifiers.length;i<len;i++){modifier=part.modifiers[i];switch(modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":if(Pseudos.isElement(modifier.text)){d++}else{c++}break;case"not":for(j=0,num=modifier.args.length;j<num;j++){updateValues(modifier.args[j])}}}}for(i=0,len=selector.parts.length;i<len;i++){part=selector.parts[i];if(part instanceof SelectorPart){updateValues(part)}}return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\u0080-\uFFFF]$/,nl=/\n|\r\n|\r|\f/;function isHexDigit(c){return c!==null&&h.test(c)}function isDigit(c){return c!==null&&/\d/.test(c)}function isWhitespace(c){return c!==null&&/\s/.test(c)}function isNewLine(c){return c!==null&&nl.test(c)}function isNameStart(c){return c!==null&&(/[a-z_\u0080-\uFFFF\\]/i.test(c))}function isNameChar(c){return c!==null&&(isNameStart(c)||/[0-9\-\\]/.test(c))}function isIdentStart(c){return c!==null&&(isNameStart(c)||/\-\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier){if(supplier.hasOwnProperty(prop)){receiver[prop]=supplier[prop]}}return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}TokenStream.prototype=mix(new TokenStreamBase(),{_getToken:function(channel){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();c=reader.read();while(c){switch(c){case"/":if(reader.peek()=="*"){token=this.commentToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"|":case"~":case"^":case"$":case"*":if(reader.peek()=="="){token=this.comparisonToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case'"':case"'":token=this.stringToken(c,startLine,startCol);break;case"#":if(isNameChar(reader.peek())){token=this.hashToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case".":if(isDigit(reader.peek())){token=this.numberToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"-":if(reader.peek()=="-"){token=this.htmlCommentEndToken(c,startLine,startCol)}else{if(isNameStart(reader.peek())){token=this.identOrFunctionToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}}break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if(reader.peek()=="+"){token=this.unicodeRangeToken(c,startLine,startCol);break}default:if(isDigit(c)){token=this.numberToken(c,startLine,startCol)}else{if(isWhitespace(c)){token=this.whitespaceToken(c,startLine,startCol)}else{if(isIdentStart(c)){token=this.identOrFunctionToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}}}}break}if(!token&&c===null){token=this.createToken(Tokens.EOF,null,startLine,startCol)}return token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;options=options||{};return{value:value,type:tt,channel:options.channel,hide:options.hide||false,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var rule=first,reader=this._reader,tt=Tokens.CHAR,valid=false,ident,c;reader.mark();ident=this.readName();rule=first+ident;tt=Tokens.type(rule.toLowerCase());if(tt==Tokens.CHAR||tt==Tokens.UNKNOWN){if(rule.length>1){tt=Tokens.UNKNOWN_SYM}else{tt=Tokens.CHAR;rule=first;reader.reset()}}return this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c);if(tt==-1){tt=Tokens.CHAR}return this.createToken(tt,c,startLine,startCol)},commentToken:function(first,startLine,startCol){var reader=this._reader,comment=this.readComment(first);return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)},hashToken:function(first,startLine,startCol){var reader=this._reader,name=this.readName(first);return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;reader.mark();text+=reader.readCount(3);if(text=="<!--"){return this.createToken(Tokens.CDO,text,startLine,startCol)}else{reader.reset();return this.charToken(first,startLine,startCol)}},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;reader.mark();text+=reader.readCount(2);if(text=="-->"){return this.createToken(Tokens.CDC,text,startLine,startCol)}else{reader.reset();return this.charToken(first,startLine,startCol)}},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;if(reader.peek()=="("){ident+=reader.read();if(ident.toLowerCase()=="url("){tt=Tokens.URI;ident=this.readURI(ident);if(ident.toLowerCase()=="url("){tt=Tokens.FUNCTION}}else{tt=Tokens.FUNCTION}}else{if(reader.peek()==":"){if(ident.toLowerCase()=="progid"){ident+=reader.readTo("(");tt=Tokens.IE_FUNCTION}}}return this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var reader=this._reader,important=first,tt=Tokens.CHAR,temp,c;reader.mark();c=reader.read();while(c){if(c=="/"){if(reader.peek()!="*"){break}else{temp=this.readComment(c);if(temp===""){break}}}else{if(isWhitespace(c)){important+=c+this.readWhitespace()}else{if(/i/i.test(c)){temp=reader.readCount(8);if(/mportant/i.test(temp)){important+=c+temp;tt=Tokens.IMPORTANT_SYM}break}else{break}}}c=reader.read()}if(tt==Tokens.CHAR){reader.reset();return this.charToken(first,startLine,startCol)}else{return this.createToken(tt,important,startLine,startCol)}},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;reader.mark();text+=reader.readCount(4);if(text.toLowerCase()==":not("){return this.createToken(Tokens.NOT,text,startLine,startCol)}else{reader.reset();return this.charToken(first,startLine,startCol)}},numberToken:function(first,startLine,startCol){var reader=this._reader,value=this.readNumber(first),ident,tt=Tokens.NUMBER,c=reader.peek();if(isIdentStart(c)){ident=this.readName(reader.read());value+=ident;if(/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vm$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)){tt=Tokens.LENGTH}else{if(/^deg|^rad$|^grad$/i.test(ident)){tt=Tokens.ANGLE}else{if(/^ms$|^s$/i.test(ident)){tt=Tokens.TIME}else{if(/^hz$|^khz$/i.test(ident)){tt=Tokens.FREQ}else{if(/^dpi$|^dpcm$/i.test(ident)){tt=Tokens.RESOLUTION}else{tt=Tokens.DIMENSION}}}}}}else{if(c=="%"){value+=reader.read();tt=Tokens.PERCENTAGE}}return this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();while(c){string+=c;if(c==delim&&prev!="\\"){break}if(isNewLine(reader.peek())&&c!="\\"){tt=Tokens.INVALID;break}prev=c;c=reader.read()}if(c===null){tt=Tokens.INVALID}return this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var reader=this._reader,value=first,temp,tt=Tokens.CHAR;if(reader.peek()=="+"){reader.mark();value+=reader.read();value+=this.readUnicodeRangePart(true);if(value.length==2){reader.reset()}else{tt=Tokens.UNICODE_RANGE;if(value.indexOf("?")==-1){if(reader.peek()=="-"){reader.mark();temp=reader.read();temp+=this.readUnicodeRangePart(false);if(temp.length==1){reader.reset()}else{value+=temp}}}}}return this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var reader=this._reader,value=first+this.readWhitespace();return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){var reader=this._reader,part="",c=reader.peek();while(isHexDigit(c)&&part.length<6){reader.read();part+=c;c=reader.peek()}if(allowQuestionMark){while(c=="?"&&part.length<6){reader.read();part+=c;c=reader.peek()}}return part},readWhitespace:function(){var reader=this._reader,whitespace="",c=reader.peek();while(isWhitespace(c)){reader.read();whitespace+=c;c=reader.peek()}return whitespace},readNumber:function(first){var reader=this._reader,number=first,hasDot=(first=="."),c=reader.peek();while(c){if(isDigit(c)){number+=reader.read()}else{if(c=="."){if(hasDot){break}else{hasDot=true;number+=reader.read()}}else{break}}c=reader.peek()}return number},readString:function(){var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();while(c){c=reader.read();string+=c;if(c==delim&&prev!="\\"){break}if(isNewLine(reader.peek())&&c!="\\"){string="";break}prev=c;c=reader.peek()}if(c===null){string=""}return string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();reader.mark();while(c&&isWhitespace(c)){reader.read();c=reader.peek()}if(c=="'"||c=='"'){inner=this.readString()}else{inner=this.readURL()}c=reader.peek();while(c&&isWhitespace(c)){reader.read();c=reader.peek()}if(inner===""||c!=")"){uri=first;reader.reset()}else{uri+=inner+reader.read()}return uri},readURL:function(){var reader=this._reader,url="",c=reader.peek();while(/^[!#$%&\\*-~]$/.test(c)){url+=reader.read();c=reader.peek()}return url},readName:function(first){var reader=this._reader,ident=first||"",c=reader.peek();while(true){if(c=="\\"){ident+=this.readEscape(reader.read());c=reader.peek()}else{if(c&&isNameChar(c)){ident+=reader.read();c=reader.peek()}else{break}}}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c)){do{cssEscape+=reader.read();c=reader.peek()}while(c&&isHexDigit(c)&&++i<6)}if(cssEscape.length==3&&/\s/.test(c)||cssEscape.length==7||cssEscape.length==1){reader.read()}else{c=""}return cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if(c=="*"){while(c){comment+=c;if(comment.length>2&&c=="*"&&reader.peek()=="/"){comment+=reader.read();break}c=reader.read()}return comment}else{return""}}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:true},{name:"COMMENT",comment:true,hide:true,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:"@viewport"},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1;Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;i<len;i++){nameMap.push(Tokens[i].name);Tokens[Tokens[i].name]=i;if(Tokens[i].text){if(Tokens[i].text instanceof Array){for(var j=0;j<Tokens[i].text.length;j++){typeMap[Tokens[i].text[j]]=i}}else{typeMap[Tokens[i].text]=i}}}Tokens.name=function(tt){return nameMap[tt]};Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=property.toString().toLowerCase(),parts=value.parts,expression=new PropertyValueIterator(value),spec=Properties[name],part,valid,j,count,msg,types,last,literals,max,multi,group;if(!spec){if(name.indexOf("-")!==0){throw new ValidationError("Unknown property '"+property+"'.",property.line,property.col)}}else{if(typeof spec!="number"){if(typeof spec=="string"){if(spec.indexOf("||")>-1){this.groupProperty(spec,expression)}else{this.singleProperty(spec,expression,1)}}else{if(spec.multi){this.multiProperty(spec.multi,expression,spec.comma,spec.max||Infinity)}else{if(typeof spec=="function"){spec(expression)}}}}}},singleProperty:function(types,expression,max,partial){var result=false,value=expression.value,count=0,part;while(expression.hasNext()&&count<max){result=ValidationTypes.isAny(expression,types);if(!result){break}count++}if(!result){if(expression.hasNext()&&!expression.isFirst()){part=expression.peek();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col)}}else{if(expression.hasNext()){part=expression.next();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}}},multiProperty:function(types,expression,comma,max){var result=false,value=expression.value,count=0,sep=false,part;while(expression.hasNext()&&!result&&count<max){if(ValidationTypes.isAny(expression,types)){count++;if(!expression.hasNext()){result=true}else{if(comma){if(expression.peek()==","){part=expression.next()}else{break}}}}else{break}}if(!result){if(expression.hasNext()&&!expression.isFirst()){part=expression.peek();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{part=expression.previous();if(comma&&part==","){throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col)}}}else{if(expression.hasNext()){part=expression.next();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}}},groupProperty:function(types,expression,comma){var result=false,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=false,name,part;while(expression.hasNext()&&!result){name=ValidationTypes.isAnyOfGroup(expression,types);if(name){if(groups[name]){break}else{groups[name]=1;groups.count++;partial=true;if(groups.count==typeCount||!expression.hasNext()){result=true}}}else{break}}if(!result){if(partial&&expression.hasNext()){part=expression.peek();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}else{throw new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col)}}else{if(expression.hasNext()){part=expression.next();throw new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col)}}}};function ValidationError(message,line,col){this.col=col;this.line=line;this.message=message}ValidationError.prototype=new Error();var ValidationTypes={isLiteral:function(part,literals){var text=part.text.toString().toLowerCase(),args=literals.split(" | "),i,len,found=false;for(i=0,len=args.length;i<len&&!found;i++){if(text==args[i].toLowerCase()){found=true}}return found},isSimple:function(type){return !!this.simple[type]},isComplex:function(type){return !!this.complex[type]},isAny:function(expression,types){var args=types.split(" | "),i,len,found=false;for(i=0,len=args.length;i<len&&!found&&expression.hasNext();i++){found=this.isType(expression,args[i])}return found},isAnyOfGroup:function(expression,types){var args=types.split(" || "),i,len,found=false;for(i=0,len=args.length;i<len&&!found;i++){found=this.isType(expression,args[i])}return found?args[i-1]:false},isType:function(expression,type){var part=expression.peek(),result=false;if(type.charAt(0)!="<"){result=this.isLiteral(part,type);if(result){expression.next()}}else{if(this.simple[type]){result=this.simple[type](part);if(result){expression.next()}}else{result=this.complex[type](expression)}}return result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return part.type=="function"&&part.name=="attr"},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||part=="none"},"<gradient>":function(part){return part.type=="function"&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return part.type=="function"&&part.name=="content"},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return part.type=="identifier"},"<length>":function(part){if(part.type=="function"&&/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(part)){return true}else{return part.type=="length"||part.type=="number"||part.type=="integer"||part=="0"}},"<color>":function(part){return part.type=="color"||part=="transparent"},"<number>":function(part){return part.type=="number"||this["<integer>"](part)},"<integer>":function(part){return part.type=="integer"},"<line>":function(part){return part.type=="integer"},"<angle>":function(part){return part.type=="angle"},"<uri>":function(part){return part.type=="uri"},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return part.type=="percentage"||part=="0"},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return part.type=="function"&&(part.name=="rect"||part.name=="inset-rect")},"<time>":function(part){return part.type=="time"}},complex:{"<bg-position>":function(expression){var types=this,result=false,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0,hasNext=function(){return expression.hasNext()&&expression.peek()!=","};while(expression.peek(count)&&expression.peek(count)!=","){count++}if(count<3){if(ValidationTypes.isAny(expression,xDir+" | center | "+numeric)){result=true;ValidationTypes.isAny(expression,yDir+" | center | "+numeric)}else{if(ValidationTypes.isAny(expression,yDir)){result=true;ValidationTypes.isAny(expression,xDir+" | center")}}}else{if(ValidationTypes.isAny(expression,xDir)){if(ValidationTypes.isAny(expression,yDir)){result=true;ValidationTypes.isAny(expression,numeric)}else{if(ValidationTypes.isAny(expression,numeric)){if(ValidationTypes.isAny(expression,yDir)){result=true;ValidationTypes.isAny(expression,numeric)}else{if(ValidationTypes.isAny(expression,"center")){result=true}}}}}else{if(ValidationTypes.isAny(expression,yDir)){if(ValidationTypes.isAny(expression,xDir)){result=true;ValidationTypes.isAny(expression,numeric)}else{if(ValidationTypes.isAny(expression,numeric)){if(ValidationTypes.isAny(expression,xDir)){result=true;ValidationTypes.isAny(expression,numeric)}else{if(ValidationTypes.isAny(expression,"center")){result=true}}}}}else{if(ValidationTypes.isAny(expression,"center")){if(ValidationTypes.isAny(expression,xDir+" | "+yDir)){result=true;ValidationTypes.isAny(expression,numeric)}}}}}return result},"<bg-size>":function(expression){var types=this,result=false,numeric="<percentage> | <length> | auto",part,i,len;if(ValidationTypes.isAny(expression,"cover | contain")){result=true}else{if(ValidationTypes.isAny(expression,numeric)){result=true;ValidationTypes.isAny(expression,numeric)}}return result},"<repeat-style>":function(expression){var result=false,values="repeat | space | round | no-repeat",part;if(expression.hasNext()){part=expression.next();if(ValidationTypes.isLiteral(part,"repeat-x | repeat-y")){result=true}else{if(ValidationTypes.isLiteral(part,values)){result=true;if(expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)){expression.next()}}}}return result},"<shadow>":function(expression){var result=false,count=0,inset=false,color=false,part;if(expression.hasNext()){if(ValidationTypes.isAny(expression,"inset")){inset=true}if(ValidationTypes.isAny(expression,"<color>")){color=true}while(ValidationTypes.isAny(expression,"<length>")&&count<4){count++}if(expression.hasNext()){if(!color){ValidationTypes.isAny(expression,"<color>")}if(!inset){ValidationTypes.isAny(expression,"inset")}}result=(count>=2&&count<=4)}return result},"<x-one-radius>":function(expression){var result=false,simple="<length> | <percentage> | inherit";if(ValidationTypes.isAny(expression,simple)){result=true;ValidationTypes.isAny(expression,simple)}return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}})();var CSSLint=(function(){var rules=[],formatters=[],embeddedRuleset=/\/\*csslint([^\*]*)\*\//,api=new parserlib.util.EventTarget();api.version="0.10.0";api.addRule=function(rule){rules.push(rule);rules[rule.id]=rule};api.clearRules=function(){rules=[]};api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})};api.getRuleset=function(){var ruleset={},i=0,len=rules.length;while(i<len){ruleset[rules[i++].id]=1}return ruleset};function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];if(rules){valueMap={"true":2,"":1,"false":0,"2":2,"1":1,"0":0};rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})}return ruleset}api.addFormatter=function(formatter){formatters[formatter.id]=formatter};api.getFormatter=function(formatId){return formatters[formatId]};api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;if(formatter){result=formatter.startFormat();result+=formatter.formatResults(results,filename,options||{});result+=formatter.endFormat()}return result};api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)};api.verify=function(text,ruleset){var i=0,len=rules.length,reporter,lines,report,parser=new parserlib.css.Parser({starHack:true,ieFilters:true,underscoreHack:true,strict:false});lines=text.replace(/\n\r?/g,"$split$").split("$split$");if(!ruleset){ruleset=this.getRuleset()}if(embeddedRuleset.test(text)){ruleset=applyEmbeddedRuleset(text,ruleset)}reporter=new Reporter(lines,ruleset);ruleset.errors=2;for(i in ruleset){if(ruleset.hasOwnProperty(i)&&ruleset[i]){if(rules[i]){rules[i].init(parser,reporter)}}}try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset};report.messages.sort(function(a,b){if(a.rollup&&!b.rollup){return 1}else{if(!a.rollup&&b.rollup){return -1}else{return a.line-b.line}}});return report};return api})();function Reporter(lines,ruleset){this.messages=[];this.stats=[];this.lines=lines;this.ruleset=ruleset}Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:this.ruleset[rule.id]==2?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:true,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:true,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}};CSSLint._Reporter=Reporter;CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier){if(supplier.hasOwnProperty(prop)){receiver[prop]=supplier[prop]}}return prop},indexOf:function(values,value){if(values.indexOf){return values.indexOf(value)}else{for(var i=0,len=values.length;i<len;i++){if(values[i]===value){return i}}return -1}},forEach:function(values,func){if(values.forEach){return values.forEach(func)}else{for(var i=0,len=values.length;i<len;i++){func(values[i],i,values)}}}};CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don't use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,classCount,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==parser.SELECTOR_PART_TYPE){classCount=0;for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="class"){classCount++}if(classCount>1){reporter.report("Don't use adjoining classes.",part.line,part.col,rule)}}}}}})}});CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don't use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){var rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},properties,boxSizing=false;function startRule(){properties={};boxSizing=false}function endRule(){}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startpage",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("property",function(event){var name=event.property.text.toLowerCase();if(heightProperties[name]||widthProperties[name]){if(!/^0\S*$/.test(event.value)&&!(name=="border"&&event.value=="none")){properties[name]={line:event.property.line,col:event.property.col,value:event.value}}}else{if(/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)){properties[name]=1}else{if(name=="box-sizing"){boxSizing=true}}}});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule);parser.addListener("endpage",endRule);parser.addListener("endpagemargin",endRule);parser.addListener("endkeyframerule",endRule)}});CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();if(name=="box-sizing"){reporter.report("The box-sizing property isn't supported in IE6 and IE7.",event.line,event.col,rule)}})}});CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var rule=this,count=0,fontFaceRule=false,firstSrc=true,ruleFailed=false,line,col;parser.addListener("startfontface",function(event){fontFaceRule=true});parser.addListener("property",function(event){if(!fontFaceRule){return}var propertyName=event.property.toString().toLowerCase(),value=event.value.toString();line=event.line;col=event.col;if(propertyName==="src"){var regex=/^\s?url\(['"].+\.eot\?.*['"]\)\s*format\(['"]embedded-opentype['"]\).*$/i;if(!value.match(regex)&&firstSrc){ruleFailed=true;firstSrc=false}else{if(value.match(regex)&&!firstSrc){ruleFailed=false}}}});parser.addListener("endfontface",function(event){fontFaceRule=false;if(ruleFailed){reporter.report("@font-face declaration doesn't follow the fontspring bulletproof syntax.",line,col,rule)}})}});CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var rule=this,compatiblePrefixes,properties,prop,variations,prefixed,i,len,inKeyFrame=false,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes){if(compatiblePrefixes.hasOwnProperty(prop)){variations=[];prefixed=compatiblePrefixes[prop].split(" ");for(i=0,len=prefixed.length;i<len;i++){variations.push("-"+prefixed[i]+"-"+prop)}compatiblePrefixes[prop]=variations;arrayPush.apply(applyTo,variations)}}parser.addListener("startrule",function(){properties=[]});parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||true});parser.addListener("endkeyframes",function(event){inKeyFrame=false});parser.addListener("property",function(event){var name=event.property;if(CSSLint.Util.indexOf(applyTo,name.text)>-1){if(!inKeyFrame||typeof inKeyFrame!="string"||name.text.indexOf("-"+inKeyFrame+"-")!==0){properties.push(name)}}});parser.addListener("endrule",function(event){if(!properties.length){return}var propertyGroups={},i,len,name,prop,variations,value,full,actual,item,propertiesSpecified;for(i=0,len=properties.length;i<len;i++){name=properties[i];for(prop in compatiblePrefixes){if(compatiblePrefixes.hasOwnProperty(prop)){variations=compatiblePrefixes[prop];if(CSSLint.Util.indexOf(variations,name.text)>-1){if(!propertyGroups[prop]){propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}}if(CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)===-1){propertyGroups[prop].actual.push(name.text);propertyGroups[prop].actualNodes.push(name)}}}}}for(prop in propertyGroups){if(propertyGroups.hasOwnProperty(prop)){value=propertyGroups[prop];full=value.full;actual=value.actual;if(full.length>actual.length){for(i=0,len=full.length;i<len;i++){item=full[i];if(CSSLint.Util.indexOf(actual,item)===-1){propertiesSpecified=(actual.length===1)?actual[0]:(actual.length==2)?actual.join(" and "):actual.join(", ");reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule)}}}}}})}});CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values.",browsers:"All",init:function(parser,reporter){var rule=this;var propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1},properties;function reportProperty(name,display,msg){if(properties[name]){if(typeof propertiesToCheck[name]!="string"||properties[name].value.toLowerCase()!=propertiesToCheck[name]){reporter.report(msg||name+" can't be used with display: "+display+".",properties[name].line,properties[name].col,rule)}}}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display){switch(display){case"inline":reportProperty("height",display);reportProperty("width",display);reportProperty("margin",display);reportProperty("margin-top",display);reportProperty("margin-bottom",display);reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);break;case"inline-block":reportProperty("float",display);break;default:if(display.indexOf("table-")===0){reportProperty("margin",display);reportProperty("margin-left",display);reportProperty("margin-right",display);reportProperty("margin-top",display);reportProperty("margin-bottom",display);reportProperty("float",display)}}}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startpage",startRule);parser.addListener("property",function(event){var name=event.property.text.toLowerCase();if(propertiesToCheck[name]){properties[name]={value:event.value.text,line:event.property.line,col:event.property.col}}});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule);parser.addListener("endkeyframerule",endRule);parser.addListener("endpagemargin",endRule);parser.addListener("endpage",endRule)}});CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var name=event.property.text,value=event.value,i,len;if(name.match(/background/i)){for(i=0,len=value.parts.length;i<len;i++){if(value.parts[i].type=="uri"){if(typeof stack[value.parts[i].uri]==="undefined"){stack[value.parts[i].uri]=event}else{reporter.report("Background image '"+value.parts[i].uri+"' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule)}}}}})}});CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){var rule=this,properties,lastProperty;function startRule(event){properties={}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startpage",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();if(properties[name]&&(lastProperty!=name||properties[name]==event.value.text)){reporter.report("Duplicate property '"+event.property+"' found.",event.line,event.col,rule)}properties[name]=event.value.text;lastProperty=name})}});CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0});parser.addListener("property",function(){count++});parser.addListener("endrule",function(event){var selectors=event.selectors;if(count===0){reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)}})}});CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}});CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){var rule=this,lastProperty,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1},properties;function startRule(event){properties={};lastProperty=null}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startpage",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name]){while(i<len){if(parts[i].type=="color"){if("alpha" in parts[i]||"hue" in parts[i]){if(/([^\)]+)\(/.test(parts[i])){colorType=RegExp.$1.toUpperCase()}if(!lastProperty||(lastProperty.property.text.toLowerCase()!=name||lastProperty.colorType!="compat")){reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)}}else{event.colorType="compat"}}i++}}lastProperty=event})}});CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this;var count=0;parser.addListener("property",function(event){if(event.property.text.toLowerCase()=="float"&&event.value.text.toLowerCase()!="none"){count++}});parser.addListener("endstylesheet",function(){reporter.stat("floats",count);if(count>=10){reporter.rollupWarn("Too many floats ("+count+"), you're probably using them for layout. Consider using a grid system instead.",rule)}})}});CSSLint.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++});parser.addListener("endstylesheet",function(){if(count>5){reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)}})}});CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){if(event.property=="font-size"){count++}});parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count);if(count>=10){reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)}})}});CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var rule=this,gradients;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}});parser.addListener("property",function(event){if(/\-(moz|o|webkit)(?:\-(?:linear|radial))\-gradient/i.test(event.value)){gradients[RegExp.$1]=1}else{if(/\-webkit\-gradient/i.test(event.value)){gradients.oldWebkit=1}}});parser.addListener("endrule",function(event){var missing=[];if(!gradients.moz){missing.push("Firefox 3.6+")}if(!gradients.webkit){missing.push("Webkit (Safari 5+, Chrome)")}if(!gradients.oldWebkit){missing.push("Old Webkit (Safari 4+, Chrome)")}if(!gradients.o){missing.push("Opera 11.1+")}if(missing.length&&missing.length<4){reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)}})}});CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,idCount,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];idCount=0;for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==parser.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="id"){idCount++}}}}if(idCount==1){reporter.report("Don't use IDs in selectors.",selector.line,selector.col,rule)}else{if(idCount>1){reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}}}})}});CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don't use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}});CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("endstylesheet",function(){reporter.stat("important",count);if(count>=10){reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)}})}});CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();if(event.invalid){reporter.report(event.invalid.message,event.line,event.col,rule)}})}});CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){var rule=this,lastRule;function startRule(event){if(event.selectors){lastRule={line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:false}}else{lastRule=null}}function endRule(event){if(lastRule){if(lastRule.outline){if(lastRule.selectors.toString().toLowerCase().indexOf(":focus")==-1){reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule)}else{if(lastRule.propCount==1){reporter.report("Outlines shouldn't be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule)}}}}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startpage",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;if(lastRule){lastRule.propCount++;if(name=="outline"&&(value=="none"||value=="0")){lastRule.outline=true}}});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule);parser.addListener("endpage",endRule);parser.addListener("endpagemargin",endRule);parser.addListener("endkeyframerule",endRule)}});CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==parser.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(part.elementName&&modifier.type=="id"){reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule)}else{if(modifier.type=="class"){if(!classes[modifier]){classes[modifier]=[]}classes[modifier].push({modifier:modifier,part:part})}}}}}}});parser.addListener("endstylesheet",function(){var prop;for(prop in classes){if(classes.hasOwnProperty(prop)){if(classes[prop].length==1&&classes[prop][0].part.elementName){reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)}}}})}});CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,i,j;for(i=0;i<selectors.length;i++){selector=selectors[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==parser.SELECTOR_PART_TYPE){if(part.elementName&&/h[1-6]/.test(part.elementName.toString())&&j>0){reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)}}}}})}});CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==parser.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="attribute"){if(/([\~\|\^\$\*]=)/.test(modifier)){reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)}}}}}}})}});CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count++});parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}});CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length});parser.addListener("endstylesheet",function(){if(count>=3800){reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)}})}});CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length});parser.addListener("endstylesheet",function(){if(count>4095){reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)}})}});CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){var rule=this,prop,i,len,propertiesToCheck={},properties,mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping){if(mapping.hasOwnProperty(prop)){for(i=0,len=mapping[prop].length;i<len;i++){propertiesToCheck[mapping[prop][i]]=prop}}}function startRule(event){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping){if(mapping.hasOwnProperty(prop)){total=0;for(i=0,len=mapping[prop].length;i<len;i++){total+=properties[mapping[prop][i]]?1:0}if(total==mapping[prop].length){reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("property",function(event){var name=event.property.toString().toLowerCase(),value=event.value.parts[0].value;if(propertiesToCheck[name]){properties[name]=1}});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule)}});CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;if(property.hack=="*"){reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)}})}});CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){var rule=this,textIndent,direction;function startRule(event){textIndent=false;direction="inherit"}function endRule(event){if(textIndent&&direction!="ltr"){reporter.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("property",function(event){var name=event.property.toString().toLowerCase(),value=event.value;if(name=="text-indent"&&value.parts[0].value<-99){textIndent=event.property}else{if(name=="direction"&&value=="ltr"){direction="ltr"}}});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule)}});CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;if(property.hack=="_"){reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)}})}});CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this;var headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,pseudo,i,j;for(i=0;i<selectors.length;i++){selector=selectors[i];part=selector.parts[selector.parts.length-1];if(part.elementName&&/(h[1-6])/i.test(part.elementName.toString())){for(j=0;j<part.modifiers.length;j++){if(part.modifiers[j].type=="pseudo"){pseudo=true;break}}if(!pseudo){headings[RegExp.$1]++;if(headings[RegExp.$1]>1){reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule)}}}}});parser.addListener("endstylesheet",function(event){var prop,messages=[];for(prop in headings){if(headings.hasOwnProperty(prop)){if(headings[prop]>1){messages.push(headings[prop]+" "+prop+"s")}}}if(messages.length){reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)}})}});CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];part=selector.parts[selector.parts.length-1];if(part.elementName=="*"){reporter.report(rule.desc,part.line,part.col,rule)}}})}});CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selectors=event.selectors,selector,part,modifier,i,j,k;for(i=0;i<selectors.length;i++){selector=selectors[i];part=selector.parts[selector.parts.length-1];if(part.type==parser.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="attribute"&&(!part.elementName||part.elementName=="*")){reporter.report(rule.desc,part.line,part.col,rule)}}}}})}});CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){var rule=this,properties,num,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing","-moz-user-select":"user-select","-khtml-user-select":"user-select","-webkit-user-select":"user-select"};function startRule(){properties={};num=1}function endRule(event){var prop,i,len,standard,needed,actual,needsStandard=[];for(prop in properties){if(propertiesToCheck[prop]){needsStandard.push({actual:prop,needed:propertiesToCheck[prop]})}}for(i=0,len=needsStandard.length;i<len;i++){needed=needsStandard[i].needed;actual=needsStandard[i].actual;if(!properties[needed]){reporter.report("Missing standard property '"+needed+"' to go along with '"+actual+"'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}else{if(properties[needed][0].pos<properties[actual][0].pos){reporter.report("Standard property '"+needed+"' should come after vendor-prefixed property '"+actual+"'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}}}}parser.addListener("startrule",startRule);parser.addListener("startfontface",startRule);parser.addListener("startpage",startRule);parser.addListener("startpagemargin",startRule);parser.addListener("startkeyframerule",startRule);parser.addListener("property",function(event){var name=event.property.text.toLowerCase();if(!properties[name]){properties[name]=[]}properties[name].push({name:event.property,value:event.value,pos:num++})});parser.addListener("endrule",endRule);parser.addListener("endfontface",endRule);parser.addListener("endpage",endRule);parser.addListener("endpagemargin",endRule);parser.addListener("endkeyframerule",endRule)}});CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don't need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var parts=event.value.parts,i=0,len=parts.length;while(i<len){if((parts[i].units||parts[i].type=="percentage")&&parts[i].value===0&&parts[i].type!="time"){reporter.report("Values of 0 shouldn't have units specified.",parts[i].line,parts[i].col,rule)}i++}})}});(function(){var xmlEscape=function(str){if(!str||str.constructor!==String){return""}return str.replace(/[\"&><]/g,function(match){switch(match){case'"':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}})};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><checkstyle>'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return'<file name="'+xmlEscape(filename)+'"><error line="0" column="0" severty="error" message="'+xmlEscape(message)+'"></error></file>'},formatResults:function(results,filename,options){var messages=results.messages,output=[];var generateSource=function(rule){if(!rule||!("name" in rule)){return""}return"net.csslint."+rule.name.replace(/\s/g,"")};if(messages.length>0){output.push('<file name="'+filename+'">');CSSLint.Util.forEach(messages,function(message,i){if(!message.rollup){output.push('<error line="'+message.line+'" column="'+message.col+'" severity="'+message.type+'" message="'+xmlEscape(message.message)+'" source="'+generateSource(message.rule)+'"/>')}});output.push("</file>")}return output.join("")}})}());CSSLint.addFormatter({id:"compact",name:"Compact, 'porcelain' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};if(messages.length===0){return options.quiet?"":filename+": Lint Free!"}CSSLint.Util.forEach(messages,function(message,i){if(message.rollup){output+=filename+": "+capitalize(message.type)+" - "+message.message+"\n"}else{output+=filename+": line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+"\n"}});return output}});CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><csslint>'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename,options){var messages=results.messages,output=[];var escapeSpecialCharacters=function(str){if(!str||str.constructor!==String){return""}return str.replace(/\"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(messages.length>0){output.push('<file name="'+filename+'">');CSSLint.Util.forEach(messages,function(message,i){if(message.rollup){output.push('<issue severity="'+message.type+'" reason="'+escapeSpecialCharacters(message.message)+'" evidence="'+escapeSpecialCharacters(message.evidence)+'"/>')}else{output.push('<issue line="'+message.line+'" char="'+message.col+'" severity="'+message.type+'" reason="'+escapeSpecialCharacters(message.message)+'" evidence="'+escapeSpecialCharacters(message.evidence)+'"/>')}});output.push("</file>")}return output.join("")}});CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><testsuites>'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename,options){var messages=results.messages,output=[],tests={error:0,failure:0};var generateSource=function(rule){if(!rule||!("name" in rule)){return""}return"net.csslint."+rule.name.replace(/\s/g,"")};var escapeSpecialCharacters=function(str){if(!str||str.constructor!==String){return""}return str.replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(messages.length>0){messages.forEach(function(message,i){var type=message.type==="warning"?"error":message.type;if(!message.rollup){output.push('<testcase time="0" name="'+generateSource(message.rule)+'">');output.push("<"+type+' message="'+escapeSpecialCharacters(message.message)+'"><![CDATA['+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">");output.push("</testcase>");tests[type]+=1}});output.unshift('<testsuite time="0" tests="'+messages.length+'" skipped="0" errors="'+tests.error+'" failures="'+tests.failure+'" package="net.csslint" name="'+filename+'">');output.push("</testsuite>")}return output.join("")}});CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><lint>'},endFormat:function(){return"</lint>"},formatResults:function(results,filename,options){var messages=results.messages,output=[];var escapeSpecialCharacters=function(str){if(!str||str.constructor!==String){return""}return str.replace(/\"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(messages.length>0){output.push('<file name="'+filename+'">');CSSLint.Util.forEach(messages,function(message,i){if(message.rollup){output.push('<issue severity="'+message.type+'" reason="'+escapeSpecialCharacters(message.message)+'" evidence="'+escapeSpecialCharacters(message.evidence)+'"/>')}else{output.push('<issue line="'+message.line+'" char="'+message.col+'" severity="'+message.type+'" reason="'+escapeSpecialCharacters(message.message)+'" evidence="'+escapeSpecialCharacters(message.evidence)+'"/>')}});output.push("</file>")}return output.join("")}});CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};if(messages.length===0){return options.quiet?"":"\n\ncsslint: No errors in "+filename+"."}output="\n\ncsslint: There are "+messages.length+" problems in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;if(pos===-1){pos=filename.lastIndexOf("\\")}if(pos>-1){shortFilename=filename.substring(pos+1)}CSSLint.Util.forEach(messages,function(message,i){output=output+"\n\n"+shortFilename;if(message.rollup){output+="\n"+(i+1)+": "+message.type;output+="\n"+message.message}else{output+="\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col;output+="\n"+message.message;output+="\n"+message.evidence}});return output}});return CSSLint})();(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(n){var b="CodeMirror-lint-markers";function e(v,u){var t=document.createElement("div");t.className="CodeMirror-lint-tooltip";t.appendChild(u.cloneNode(true));document.body.appendChild(t);function s(w){if(!t.parentNode){return n.off(document,"mousemove",s)}t.style.top=Math.max(0,w.clientY-t.offsetHeight-5)+"px";t.style.left=(w.clientX+5)+"px"}n.on(document,"mousemove",s);s(v);if(t.style.opacity!=null){t.style.opacity=1}return t}function j(s){if(s.parentNode){s.parentNode.removeChild(s)}}function h(s){if(!s.parentNode){return}if(s.style.opacity==null){j(s)}s.style.opacity=0;setTimeout(function(){j(s)},600)}function r(w,u,t){var v=e(w,u);function s(){n.off(t,"mouseout",s);if(v){h(v);v=null}}var x=setInterval(function(){if(v){for(var y=t;;y=y.parentNode){if(y==document.body){return}if(!y){s();break}}}if(!v){return clearInterval(x)}},400);n.on(t,"mouseout",s)}function l(s,u,t){this.marked=[];this.options=u;this.timeout=null;this.hasGutter=t;this.onMouseOver=function(v){m(s,v)}}function a(s,t){if(t instanceof Function){return{getAnnotations:t}}if(!t||t===true){t={}}if(!t.getAnnotations){t.getAnnotations=s.getHelper(n.Pos(0,0),"lint")}if(!t.getAnnotations){throw new Error("Required option 'getAnnotations' missing (lint addon)")}return t}function d(s){var u=s.state.lint;if(u.hasGutter){s.clearGutter(b)}for(var t=0;t<u.marked.length;++t){u.marked[t].clear()}u.marked.length=0}function q(x,v,s,w){var t=document.createElement("div"),u=t;t.className="CodeMirror-lint-marker-"+v;if(s){u=t.appendChild(document.createElement("div"));u.className="CodeMirror-lint-marker-multiple"}if(w!=false){n.on(u,"mouseover",function(y){r(y,x,u)})}return t}function f(t,s){if(t=="error"){return t}else{return s}}function g(w){var t=[];for(var u=0;u<w.length;++u){var v=w[u],s=v.from.line;(t[s]||(t[s]=[])).push(v)}return t}function c(u){var s=u.severity;if(!s){s="error"}var t=document.createElement("div");t.className="CodeMirror-lint-message-"+s;t.appendChild(document.createTextNode(u.message));return t}function p(s){if(!s.startLinting){s.startLinting=p}var v=s.state.lint,u=v.options;var t=u.options||u;if(u.async){u.getAnnotations(s.getValue(),k,t,s)}else{k(s,u.getAnnotations(s.getValue(),t,s))}if(s.lintCallback){s.lintCallback();s.lintCallback=null}s.needLint=false}function k(z,y){d(z);var t=z.state.lint,B=t.options;var x=g(y);for(var C=0;C<x.length;++C){var v=x[C];if(!v){continue}var D=null;var u=t.hasGutter&&document.createDocumentFragment();for(var w=0;w<v.length;++w){var s=v[w];var A=s.severity;if(!A){A="error"}D=f(D,A);if(B.formatAnnotation){s=B.formatAnnotation(s)}if(t.hasGutter){u.appendChild(c(s))}if(s.to){t.marked.push(z.markText(s.from,s.to,{className:"CodeMirror-lint-mark-"+A,__annotation:s}))}}if(t.hasGutter){z.setGutterMarker(C,b,q(u,D,v.length>1,t.options.tooltips))}}if(B.onUpdateLinting){B.onUpdateLinting(y,x,z)}}function o(s){s.needLint=true;var t=s.state.lint;clearTimeout(t.timeout);t.timeout=setTimeout(function(){p(s)},t.options.delay||700)}function i(s,u){var t=u.target||u.srcElement;r(u,c(s),t)}function m(C,v){var w=v.target||v.srcElement;if(!/\bCodeMirror-lint-mark-/.test(w.className)){return}var u=w.getBoundingClientRect(),B=(u.left+u.right)/2,A=(u.top+u.bottom)/2;var z=C.findMarksAt(C.coordsChar({left:B,top:A},"client"));for(var t=0;t<z.length;++t){var s=z[t].__annotation;if(s){return i(s,v)}}}n.defineOption("lint",false,function(s,y,t){if(t&&t!=n.Init){d(s);s.off("change",o);n.off(s.getWrapperElement(),"mouseover",s.state.lint.onMouseOver);delete s.state.lint}if(y){var u=s.getOption("gutters"),w=false;for(var v=0;v<u.length;++v){if(u[v]==b){w=true}}var x=s.state.lint=new l(s,a(s,y),w);s.on("change",o);if(x.options.tooltips!=false){n.on(s.getWrapperElement(),"mouseover",x.onMouseOver)}p(s)}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(f){var d=["Dangerous comment"];var g=[["Expected '{'","Statement body should be inside '{ }' braces."]];var h=["Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"];function a(l,k){if(!window.JSHINT){return[]}JSHINT(l,k);var m=JSHINT.data().errors,j=[];if(m){i(m,j)}return j}f.registerHelper("lint","javascript",a);function c(j){e(j,g,"warning",true);e(j,h,"error");return b(j)?null:j}function e(o,p,s,j){var q,m,n,k,r;q=o.description;for(var l=0;l<p.length;l++){m=p[l];n=(typeof m==="string"?m:m[0]);k=(typeof m==="string"?null:m[1]);r=q.indexOf(n)!==-1;if(j||r){o.severity=s}if(r&&k){o.description=k}}}function b(j){var l=j.description;for(var k=0;k<d.length;k++){if(l.indexOf(d[k])!==-1){return true}}return false}function i(s,m){for(var o=0;o<s.length;o++){var q=s[o];if(q){var t,p;t=[];if(q.evidence){var j=t[q.line];if(!j){var l=q.evidence;j=[];Array.prototype.forEach.call(l,function(v,u){if(v==="\t"){j.push(u+1)}});t[q.line]=j}if(j.length>0){var r=q.character;j.forEach(function(u){if(r>u){r-=1}});q.character=r}}var k=q.character-1,n=k+1;if(q.evidence){p=q.evidence.substring(k).search(/.\b/);if(p>-1){n+=p}}q.description=q.reason;q.start=q.character;q.end=n;q=c(q);if(q){m.push({message:q.description,severity:q.severity,from:f.Pos(q.line-1,k),to:f.Pos(q.line-1,n)})}}}}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("lint","json",function(d){var b=[];jsonlint.parseError=function(g,e){var f=e.loc;b.push({from:a.Pos(f.first_line-1,f.first_column),to:a.Pos(f.last_line-1,f.last_column),message:g})};try{jsonlint.parse(d)}catch(c){}return b})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("lint","css",function(h){var k=[];if(!window.CSSLint){return k}var e=CSSLint.verify(h),d=e.messages,l=null;for(var f=0;f<d.length;f++){l=d[f];var j=l.line-1,c=l.line-1,b=l.col-1,g=l.col;k.push({from:a.Pos(j,b),to:a.Pos(c,g),message:l.message,severity:l.type})}return k})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){function c(d,h,e){var g=d.getWrapperElement();var f;f=g.appendChild(document.createElement("div"));if(e){f.className="CodeMirror-dialog CodeMirror-dialog-bottom"}else{f.className="CodeMirror-dialog CodeMirror-dialog-top"}if(typeof h=="string"){f.innerHTML=h}else{f.appendChild(h)}return f}function a(d,e){if(d.state.currentNotificationClose){d.state.currentNotificationClose()}d.state.currentNotificationClose=e}b.defineExtension("openDialog",function(i,j,l){if(!l){l={}}a(this,null);var f=c(this,i,l.bottom);var e=false,g=this;function k(m){if(typeof m=="string"){h.value=m}else{if(e){return}e=true;f.parentNode.removeChild(f);g.focus();if(l.onClose){l.onClose(f)}}}var h=f.getElementsByTagName("input")[0],d;if(h){if(l.value){h.value=l.value;h.select()}if(l.onInput){b.on(h,"input",function(m){l.onInput(m,h.value,k)})}if(l.onKeyUp){b.on(h,"keyup",function(m){l.onKeyUp(m,h.value,k)})}b.on(h,"keydown",function(m){if(l&&l.onKeyDown&&l.onKeyDown(m,h.value,k)){return}if(m.keyCode==27||(l.closeOnEnter!==false&&m.keyCode==13)){h.blur();b.e_stop(m);k()}if(m.keyCode==13){j(h.value,m)}});if(l.closeOnBlur!==false){b.on(h,"blur",k)}h.focus()}else{if(d=f.getElementsByTagName("button")[0]){b.on(d,"click",function(){k();g.focus()});if(l.closeOnBlur!==false){b.on(d,"blur",k)}d.focus()}}return k});b.defineExtension("openConfirm",function(m,g,o){a(this,null);var h=c(this,m,o&&o.bottom);var j=h.getElementsByTagName("button");var f=false,k=this,d=1;function n(){if(f){return}f=true;h.parentNode.removeChild(h);k.focus()}j[0].focus();for(var e=0;e<j.length;++e){var l=j[e];(function(i){b.on(l,"click",function(p){b.e_preventDefault(p);n();if(i){i(k)}})})(g[e]);b.on(l,"blur",function(){--d;setTimeout(function(){if(d<=0){n()}},200)});b.on(l,"focus",function(){++d})}});b.defineExtension("openNotification",function(g,e){a(this,j);var f=c(this,g,e&&e.bottom);var d=false,h;var i=e&&typeof e.duration!=="undefined"?e.duration:5000;function j(){if(d){return}d=true;clearTimeout(h);f.parentNode.removeChild(f)}b.on(f,"click",function(k){b.e_preventDefault(k);j()});if(i){h=setTimeout(j,i)}return j})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var b=a.Pos;function c(k,i,l,g){this.atOccurrence=false;this.doc=k;if(g==null&&typeof i=="string"){g=false}l=l?k.clipPos(l):b(0,0);this.pos={from:l,to:l};if(typeof i!="string"){if(!i.global){i=new RegExp(i.source,i.ignoreCase?"ig":"g")}this.matches=function(p,t){if(p){i.lastIndex=0;var m=k.getLine(t.line).slice(0,t.ch),r=0,o,s;for(;;){i.lastIndex=r;var q=i.exec(m);if(!q){break}o=q;s=o.index;r=o.index+(o[0].length||1);if(r==m.length){break}}var n=(o&&o[0].length)||0;if(!n){if(s==0&&m.length==0){o=undefined}else{if(s!=k.getLine(t.line).length){n++}}}}else{i.lastIndex=t.ch;var m=k.getLine(t.line),o=i.exec(m);var n=(o&&o[0].length)||0;var s=o&&o.index;if(s+n!=m.length&&!n){n=1}}if(o&&n){return{from:b(t.line,s),to:b(t.line,s+n),match:o}}}}else{var e=i;if(g){i=i.toLowerCase()}var f=g?function(m){return m.toLowerCase()}:function(m){return m};var j=i.split("\n");if(j.length==1){if(!i.length){this.matches=function(){}}else{this.matches=function(o,q){if(o){var p=k.getLine(q.line).slice(0,q.ch),m=f(p);var n=m.lastIndexOf(i);if(n>-1){n=d(p,m,n);return{from:b(q.line,n),to:b(q.line,n+e.length)}}}else{var p=k.getLine(q.line).slice(q.ch),m=f(p);var n=m.indexOf(i);if(n>-1){n=d(p,m,n)+q.ch;return{from:b(q.line,n),to:b(q.line,n+e.length)}}}}}}else{var h=e.split("\n");this.matches=function(n,p){var t=j.length-1;if(n){if(p.line-(j.length-1)<k.firstLine()){return}if(f(k.getLine(p.line).slice(0,h[t].length))!=j[j.length-1]){return}var s=b(p.line,h[t].length);for(var o=p.line-1,m=t-1;m>=1;--m,--o){if(j[m]!=f(k.getLine(o))){return}}var u=k.getLine(o),q=u.length-h[0].length;if(f(u.slice(q))!=j[0]){return}return{from:b(o,q),to:s}}else{if(p.line+(j.length-1)>k.lastLine()){return}var u=k.getLine(p.line),q=u.length-h[0].length;if(f(u.slice(q))!=j[0]){return}var r=b(p.line,q);for(var o=p.line+1,m=1;m<t;++m,++o){if(j[m]!=f(k.getLine(o))){return}}if(f(k.getLine(o).slice(0,h[t].length))!=j[t]){return}return{from:r,to:b(o,h[t].length)}}}}}}c.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(f){var e=this,i=this.doc.clipPos(f?this.pos.from:this.pos.to);function g(j){var k=b(j,0);e.pos={from:k,to:k};e.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(f,i)){this.atOccurrence=true;return this.pos.match||true}if(f){if(!i.line){return g(0)}i=b(i.line-1,this.doc.getLine(i.line-1).length)}else{var h=this.doc.lineCount();if(i.line==h-1){return g(h)}i=b(i.line+1,0)}}},from:function(){if(this.atOccurrence){return this.pos.from}},to:function(){if(this.atOccurrence){return this.pos.to}},replace:function(f){if(!this.atOccurrence){return}var e=a.splitLines(f);this.doc.replaceRange(e,this.pos.from,this.pos.to);this.pos.to=b(this.pos.from.line+e.length-1,e[e.length-1].length+(e.length==1?this.pos.from.ch:0))}};function d(i,g,h){if(i.length==g.length){return h}for(var f=Math.min(h,i.length);;){var e=i.slice(0,f).toLowerCase().length;if(e<h){++f}else{if(e>h){--f}else{return f}}}}a.defineExtension("getSearchCursor",function(f,g,e){return new c(this.doc,f,g,e)});a.defineDocExtension("getSearchCursor",function(f,g,e){return new c(this,f,g,e)});a.defineExtension("selectMatches",function(h,g){var e=[],f;var i=this.getSearchCursor(h,this.getCursor("from"),g);while(f=i.findNext()){if(a.cmpPos(i.to(),this.getCursor("to"))>0){break}e.push({anchor:i.from(),head:i.to()})}if(e.length){this.setSelections(e,0)}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var i=2;var b="matchhighlight";var c=100;var k=false;function h(l){if(typeof l=="object"){this.minChars=l.minChars;this.style=l.style;this.showToken=l.showToken;this.delay=l.delay;this.wordsOnly=l.wordsOnly}if(this.style==null){this.style=b}if(this.minChars==null){this.minChars=i}if(this.delay==null){this.delay=c}if(this.wordsOnly==null){this.wordsOnly=k}this.overlay=this.timeout=null}a.defineOption("highlightSelectionMatches",false,function(l,o,m){if(m&&m!=a.Init){var n=l.state.matchHighlighter.overlay;if(n){l.removeOverlay(n)}clearTimeout(l.state.matchHighlighter.timeout);l.state.matchHighlighter=null;l.off("cursorActivity",g)}if(o){l.state.matchHighlighter=new h(o);e(l);l.on("cursorActivity",g)}});function g(l){var m=l.state.matchHighlighter;clearTimeout(m.timeout);m.timeout=setTimeout(function(){e(l)},m.delay)}function e(l){l.operation(function(){var p=l.state.matchHighlighter;if(p.overlay){l.removeOverlay(p.overlay);p.overlay=null}if(l.somethingSelected()&&p.showToken){var o=p.showToken===true?/[\w$]/:p.showToken;var q=l.getCursor(),n=l.getLine(q.line),r=q.ch,m=r;while(r&&o.test(n.charAt(r-1))){--r}while(m<n.length&&o.test(n.charAt(m))){++m}if(r<m){l.addOverlay(p.overlay=d(n.slice(r,m),o,p.style,q.line,q.ch))}}})}function f(l,q,p){var n=l.getRange(q,p);if(n.match(/^\w+$/)!==null){if(q.ch>0){var o={line:q.line,ch:q.ch-1};var m=l.getRange(o,q);if(m.match(/\W/)===null){return false}}if(p.ch<l.getLine(q.line).length){var o={line:p.line,ch:p.ch+1};var m=l.getRange(p,o);if(m.match(/\W/)===null){return false}}return true}else{return false}}function j(m,l){return(!m.start||!l.test(m.string.charAt(m.start-1)))&&(m.pos==m.string.length||!l.test(m.string.charAt(m.pos)))}function d(p,o,n,l,m){return{token:function(r,q,s){if(r.match(p)&&(!o||j(r,o))&&(l!=s||m<r.start||m>r.pos)){return n}r.next();r.skipTo(p.charAt(0))||r.skipToEnd()}}}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],a)}else{a(CodeMirror)}}})(function(e){function a(s,r){if(typeof s=="string"){s=new RegExp(s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),r?"gi":"g")}else{if(!s.global){s=new RegExp(s.source,s.ignoreCase?"gi":"g")}}return{token:function(u){s.lastIndex=u.pos;var t=s.exec(u.string);if(t&&t.index==u.pos){u.pos+=t[0].length;return"searching"}else{if(t){u.pos=t.index}else{u.skipToEnd()}}}}}function m(){this.posFrom=this.posTo=this.query=null;this.overlay=null}function h(r){return r.state.search||(r.state.search=new m())}function q(r){return typeof r=="string"&&r==r.toLowerCase()}function o(r,s,t){return r.getSearchCursor(s,t,q(s))}function l(r,u,s,v,t){if(r.openDialog){r.openDialog(u,t,{value:v})}else{t(prompt(s,v))}}function p(s,u,t,r){if(s.openConfirm){s.openConfirm(u,r)}else{if(confirm(t)){r[0]()}}}function d(s){var r=s.match(/^\/(.*)\/([a-z]*)$/);if(r){try{s=new RegExp(r[1],r[2].indexOf("i")==-1?"":"i")}catch(t){}}if(typeof s=="string"?s=="":s.test("")){s=/x^/}return s}var c='<table style="width:100%;" border="0"><tr><td style="white-space:nowrap;"></td><td style="width:100%;"><input type="text" style="width:100%;font-family:Courier New;" class="CodeMirror-search-field"/></td></tr></table>';function k(r,s){var t=h(r);if(t.query){return i(r,s)}l(r,c,"Search for:",r.getSelection(),function(u){r.operation(function(){if(!u||t.query){return}t.query=d(u);r.removeOverlay(t.overlay,q(t.query));t.overlay=a(t.query,q(t.query));r.addOverlay(t.overlay);if(r.showMatchesOnScrollbar){if(t.annotate){t.annotate.clear();t.annotate=null}t.annotate=r.showMatchesOnScrollbar(t.query,q(t.query))}t.posFrom=t.posTo=r.getCursor();i(r,s)})})}function i(r,s){r.operation(function(){var t=h(r);var u=o(r,t.query,s?t.posFrom:t.posTo);if(!u.find(s)){u=o(r,t.query,s?e.Pos(r.lastLine()):e.Pos(r.firstLine(),0));if(!u.find(s)){return}}r.setSelection(u.from(),u.to());r.scrollIntoView({from:u.from(),to:u.to()});t.posFrom=u.from();t.posTo=u.to()})}function n(r){r.operation(function(){var s=h(r);if(!s.query){return}s.query=null;r.removeOverlay(s.overlay);if(s.annotate){s.annotate.clear();s.annotate=null}})}var g='<table style="width:100%;" border="0"><tr><td style="white-space:nowrap;"></td><td style="width:100%;"><input type="text" style="width:100%;font-family:Courier New;" class="CodeMirror-search-field"/></td></tr></table>';var j='<table style="width:100%;" border="0"><tr><td style="white-space:nowrap;"></td><td style="width:100%;"><input type="text" style="width:100%;font-family:Courier New;" class="CodeMirror-search-field"/></td></tr></table>';var f="&nbsp;&nbsp;<button style='width:50px;font-size:12px;'></button> <button style='width:50px;font-size:12px;'></button> <button style='width:50px;font-size:12px;'></button>";function b(r,s){if(r.getOption("readOnly")){return}l(r,g,"",r.getSelection(),function(t){if(!t){return}t=d(t);l(r,j,"","",function(x){if(s){r.operation(function(){for(var z=o(r,t);z.findNext();){if(typeof t!="string"){var y=r.getRange(z.from(),z.to()).match(t);z.replace(x.replace(/\$(\d)/g,function(A,B){return y[B]}))}else{z.replace(x)}}})}else{n(r);var w=o(r,t,r.getCursor());var v=function(){var z=w.from(),y;if(!(y=w.findNext())){w=o(r,t);if(!(y=w.findNext())||(z&&w.from().line==z.line&&w.from().ch==z.ch)){return}}r.setSelection(w.from(),w.to());r.scrollIntoView({from:w.from(),to:w.to()});p(r,f,"",[function(){u(y)},v])};var u=function(y){w.replace(typeof t=="string"?x:x.replace(/\$(\d)/g,function(z,A){return y[A]}));v()};v()}})})}e.commands.find=function(r){n(r);k(r)};e.commands.addBookmark=function(r){if(Ide){Ide.addBookmark(r)}};e.commands.findNext=k;e.commands.findPrev=function(r){k(r,true)};e.commands.clearSearch=n;e.commands.replace=b;e.commands.replaceAll=function(r){b(r,true)}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineExtension("annotateScrollbar",function(c){return new b(this,c)});function b(c,e){this.cm=c;this.className=e;this.annotations=[];this.div=c.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var d=this;c.on("refresh",this.resizeHandler=function(){if(d.computeScale()){d.redraw()}})}b.prototype.computeScale=function(){var c=this.cm;var d=(c.getWrapperElement().clientHeight-c.display.barHeight)/c.heightAtLine(c.lastLine()+1,"local");if(d!=this.hScale){this.hScale=d;return true}};b.prototype.update=function(c){this.annotations=c;this.redraw()};b.prototype.redraw=function(){var k=this.cm,n=this.hScale;if(!k.display.barWidth){return}var m=document.createDocumentFragment(),f=this.annotations;for(var g=0,h;g<f.length;g++){var d=f[g];var j=h||k.charCoords(d.from,"local").top*n;var c=k.charCoords(d.to,"local").bottom*n;while(g<f.length-1){h=k.charCoords(f[g+1].from,"local").top*n;if(h>c+0.9){break}d=f[++g];c=k.charCoords(d.to,"local").bottom*n}var l=Math.max(c-j,3);var e=m.appendChild(document.createElement("div"));e.style.cssText="position: absolute; right: 0px; width: "+Math.max(k.display.barWidth-1,2)+"px; top: "+j+"px; height: "+l+"px";e.className=this.className}this.div.textContent="";this.div.appendChild(m)};b.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.div.parentNode.removeChild(this.div)}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],a)}else{a(CodeMirror)}}})(function(b){b.defineExtension("showMatchesOnScrollbar",function(g,f,e){return new c(this,g,f,e)});function c(e,i,h,g){this.cm=e;this.annotation=e.annotateScrollbar(g||"CodeMirror-search-match");this.query=i;this.caseFold=h;this.gap={from:e.firstLine(),to:e.lastLine()+1};this.matches=[];this.update=null;this.findMatches();this.annotation.update(this.matches);var f=this;e.on("change",this.changeHandler=function(j,k){f.onChange(k)})}var d=1000;c.prototype.findMatches=function(){if(!this.gap){return}for(var f=0;f<this.matches.length;f++){var e=this.matches[f];if(e.from.line>=this.gap.to){break}if(e.to.line>=this.gap.from){this.matches.splice(f--,1)}}var g=this.cm.getSearchCursor(this.query,b.Pos(this.gap.from,0),this.caseFold);while(g.findNext()){var e={from:g.from(),to:g.to()};if(e.from.line>=this.gap.to){break}this.matches.splice(f++,0,e);if(this.matches.length>d){break}}this.gap=null};function a(e,g,f){if(e<=g){return e}return Math.max(g,e+f)}c.prototype.onChange=function(k){var l=k.from.line;var e=b.changeEnd(k).line;var f=e-k.to.line;if(this.gap){this.gap.from=Math.min(a(this.gap.from,l,f),k.from.line);this.gap.to=Math.max(a(this.gap.to,l,f),k.from.line)}else{this.gap={from:k.from.line,to:e+1}}if(f){for(var h=0;h<this.matches.length;h++){var j=this.matches[h];var g=a(j.from.line,l,f);if(g!=j.from.line){j.from=b.Pos(g,j.from.ch)}var m=a(j.to.line,l,f);if(m!=j.to.line){j.to=b.Pos(m,j.to.ch)}}}clearTimeout(this.update);var n=this;this.update=setTimeout(function(){n.updateAfterChange()},250)};c.prototype.updateAfterChange=function(){this.findMatches();this.annotation.update(this.matches)};c.prototype.clear=function(){this.cm.off("change",this.changeHandler);this.annotation.clear()}});(function(){var g={};(function(p){var r=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;var u="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var t="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f";var o=new RegExp("["+u+"]");var m=new RegExp("["+u+t+"]");var n=p.newline=/[\n\r\u2028\u2029]/;var s=/\r\n|[\n\r\u2028\u2029]/g;var q=p.isIdentifierStart=function(w){if(w<65){return w===36}if(w<91){return true}if(w<97){return w===95}if(w<123){return true}return w>=170&&o.test(String.fromCharCode(w))};var v=p.isIdentifierChar=function(w){if(w<48){return w===36}if(w<58){return true}if(w<65){return false}if(w<91){return true}if(w<97){return w===95}if(w<123){return true}return w>=170&&m.test(String.fromCharCode(w))}})(g);function i(o,m){for(var n=0;n<m.length;n+=1){if(m[n]===o){return true}}return false}function d(m){return m.replace(/^\s+|\s+$/g,"")}function l(m){return m.replace(/^\s+/g,"")}function e(m){return m.replace(/\s+$/g,"")}function c(n,m){var o=new h(n,m);return o.beautify()}var f={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function h(o,G){var J;var R=[],m;var O;var s;var Z,E,ak;var x,H,p;var W;var n,y;var am="";n={TK_START_EXPR:ai,TK_END_EXPR:N,TK_START_BLOCK:X,TK_END_BLOCK:Y,TK_WORD:A,TK_RESERVED:A,TK_SEMICOLON:M,TK_STRING:z,TK_EQUALS:S,TK_OPERATOR:ac,TK_COMMA:ae,TK_BLOCK_COMMENT:ad,TK_INLINE_COMMENT:V,TK_COMMENT:t,TK_DOT:af,TK_UNKNOWN:aa,TK_EOF:ag};function r(ap,aq){var an=0;if(ap){an=ap.indentation_level;if(!J.just_added_newline()&&ap.line_indent_level>an){an=ap.line_indent_level}}var ao={mode:aq,parent:ap,last_text:ap?ap.last_text:"",last_word:ap?ap.last_word:"",declaration_statement:false,declaration_assignment:false,multiline_frame:false,if_block:false,else_block:false,do_block:false,do_while:false,in_case_statement:false,in_case:false,case_body:false,indentation_level:an,line_indent_level:ap?ap.line_indent_level:an,start_line_index:J.get_line_number(),ternary_depth:0};return ao}G=G?G:{};y={};if(G.braces_on_own_line!==undefined){y.brace_style=G.braces_on_own_line?"expand":"collapse"}y.brace_style=G.brace_style?G.brace_style:(y.brace_style?y.brace_style:"collapse");if(y.brace_style==="expand-strict"){y.brace_style="expand"}y.indent_size=G.indent_size?parseInt(G.indent_size,10):4;y.indent_char=G.indent_char?G.indent_char:" ";y.eol=G.eol?G.eol:"\n";y.preserve_newlines=(G.preserve_newlines===undefined)?true:G.preserve_newlines;y.break_chained_methods=(G.break_chained_methods===undefined)?false:G.break_chained_methods;y.max_preserve_newlines=(G.max_preserve_newlines===undefined)?0:parseInt(G.max_preserve_newlines,10);y.space_in_paren=(G.space_in_paren===undefined)?false:G.space_in_paren;y.space_in_empty_paren=(G.space_in_empty_paren===undefined)?false:G.space_in_empty_paren;y.jslint_happy=(G.jslint_happy===undefined)?false:G.jslint_happy;y.space_after_anon_function=(G.space_after_anon_function===undefined)?false:G.space_after_anon_function;y.keep_array_indentation=(G.keep_array_indentation===undefined)?false:G.keep_array_indentation;y.space_before_conditional=(G.space_before_conditional===undefined)?true:G.space_before_conditional;y.unescape_strings=(G.unescape_strings===undefined)?false:G.unescape_strings;y.wrap_line_length=(G.wrap_line_length===undefined)?0:parseInt(G.wrap_line_length,10);y.e4x=(G.e4x===undefined)?false:G.e4x;y.end_with_newline=(G.end_with_newline===undefined)?false:G.end_with_newline;y.comma_first=(G.comma_first===undefined)?false:G.comma_first;if(y.jslint_happy){y.space_after_anon_function=true}if(G.indent_with_tabs){y.indent_char="\t";y.indent_size=1}y.eol=y.eol.replace(/\\r/,"\r").replace(/\\n/,"\n");ak="";while(y.indent_size>0){ak+=y.indent_char;y.indent_size-=1}var B=0;if(o&&o.length){while((o.charAt(B)===" "||o.charAt(B)==="\t")){am+=o.charAt(B);B+=1}o=o.substring(B)}Z="TK_START_BLOCK";E="";J=new j(ak,am);p=[];v(f.BlockStatement);this.beautify=function(){var an,ap;O=new k(o,y,ak);R=O.tokenize();m=0;while(an=D()){for(var ao=0;ao<an.comments_before.length;ao++){ah(an.comments_before[ao])}ah(an);E=x.last_text;Z=an.type;x.last_text=an.text;m+=1}ap=J.get_code();if(y.end_with_newline){ap+="\n"}if(y.eol!="\n"){ap=ap.replace(/[\r]?[\n]/mg,y.eol)}return ap};function ah(an){var aq=an.newlines;var ao=y.keep_array_indentation&&U(x.mode);if(ao){for(ap=0;ap<aq;ap+=1){I(ap>0)}}else{if(y.max_preserve_newlines&&aq>y.max_preserve_newlines){aq=y.max_preserve_newlines}if(y.preserve_newlines){if(an.newlines>1){I();for(var ap=1;ap<aq;ap+=1){I(true)}}}}s=an;n[s.type]()}function aj(ap){ap=ap.replace(/\x0d/g,"");var ao=[],an=ap.indexOf("\n");while(an!==-1){ao.push(ap.substring(0,an));ap=ap.substring(an+1);an=ap.indexOf("\n")}if(ap.length){ao.push(ap)}return ao}function u(ao){ao=(ao===undefined)?false:ao;if(J.just_added_newline()){return}if((y.preserve_newlines&&s.wanted_newline)||ao){I(false,true)}else{if(y.wrap_line_length){var an=J.current_line.get_character_count()+s.text.length+(J.space_before_token?1:0);if(an>=y.wrap_line_length){I(false,true)}}}}function I(an,ao){if(!ao){if(x.last_text!==";"&&x.last_text!==","&&x.last_text!=="="&&Z!=="TK_OPERATOR"){while(x.mode===f.Statement&&!x.if_block&&!x.do_block){q()}}}if(J.add_new_line(an)){x.multiline_frame=true}}function F(){if(J.just_added_newline()){if(y.keep_array_indentation&&U(x.mode)&&s.wanted_newline){J.current_line.push(s.whitespace_before);J.space_before_token=false}else{if(J.set_indent(x.indentation_level)){x.line_indent_level=x.indentation_level}}}}function P(an){if(y.comma_first&&Z==="TK_COMMA"&&J.just_added_newline()){if(J.previous_line.last()===","){J.previous_line.pop();F();J.add_token(",");J.space_before_token=true}}an=an||s.text;F();J.add_token(an)}function w(){x.indentation_level+=1}function C(){if(x.indentation_level>0&&((!x.parent)||x.indentation_level>x.parent.indentation_level)){x.indentation_level-=1}}function v(an){if(x){p.push(x);H=x}else{H=r(null,an)}x=r(H,an)}function U(an){return an===f.ArrayLiteral}function L(an){return i(an,[f.Expression,f.ForInitializer,f.Conditional])}function q(){if(p.length>0){H=x;x=p.pop();if(H.mode===f.Statement){J.remove_redundant_indentation(H)}}}function Q(){return x.parent.mode===f.ObjectLiteral&&x.mode===f.Statement&&((x.last_text===":"&&x.ternary_depth===0)||(Z==="TK_RESERVED"&&i(x.last_text,["get","set"])))}function K(){if((Z==="TK_RESERVED"&&i(x.last_text,["var","let","const"])&&s.type==="TK_WORD")||(Z==="TK_RESERVED"&&x.last_text==="do")||(Z==="TK_RESERVED"&&x.last_text==="return"&&!s.wanted_newline)||(Z==="TK_RESERVED"&&x.last_text==="else"&&!(s.type==="TK_RESERVED"&&s.text==="if"))||(Z==="TK_END_EXPR"&&(H.mode===f.ForInitializer||H.mode===f.Conditional))||(Z==="TK_WORD"&&x.mode===f.BlockStatement&&!x.in_case&&!(s.text==="--"||s.text==="++")&&s.type!=="TK_WORD"&&s.type!=="TK_RESERVED")||(x.mode===f.ObjectLiteral&&((x.last_text===":"&&x.ternary_depth===0)||(Z==="TK_RESERVED"&&i(x.last_text,["get","set"]))))){v(f.Statement);w();if(Z==="TK_RESERVED"&&i(x.last_text,["var","let","const"])&&s.type==="TK_WORD"){x.declaration_statement=true}if(!Q()){u(s.type==="TK_RESERVED"&&i(s.text,["do","for","if","while"]))}return true}return false}function al(ao,aq){for(var ap=0;ap<ao.length;ap++){var an=d(ao[ap]);if(an.charAt(0)!==aq){return false}}return true}function ab(aq,ao){var ar=0,an=aq.length,ap;for(;ar<an;ar++){ap=aq[ar];if(ap&&ap.indexOf(ao)!==0){return false}}return true}function T(an){return i(an,["case","return","do","if","throw","else"])}function D(ao){var an=m+(ao||0);return(an<0||an>=R.length)?null:R[an]}function ai(){if(K()){}var an=f.Expression;if(s.text==="["){if(Z==="TK_WORD"||x.last_text===")"){if(Z==="TK_RESERVED"&&i(x.last_text,O.line_starters)){J.space_before_token=true}v(an);P();w();if(y.space_in_paren){J.space_before_token=true}return}an=f.ArrayLiteral;if(U(x.mode)){if(x.last_text==="["||(x.last_text===","&&(E==="]"||E==="}"))){if(!y.keep_array_indentation){I()}}}}else{if(Z==="TK_RESERVED"&&x.last_text==="for"){an=f.ForInitializer}else{if(Z==="TK_RESERVED"&&i(x.last_text,["if","while"])){an=f.Conditional}else{}}}if(x.last_text===";"||Z==="TK_START_BLOCK"){I()}else{if(Z==="TK_END_EXPR"||Z==="TK_START_EXPR"||Z==="TK_END_BLOCK"||x.last_text==="."){u(s.wanted_newline)}else{if(!(Z==="TK_RESERVED"&&s.text==="(")&&Z!=="TK_WORD"&&Z!=="TK_OPERATOR"){J.space_before_token=true}else{if((Z==="TK_RESERVED"&&(x.last_word==="function"||x.last_word==="typeof"))||(x.last_text==="*"&&E==="function")){if(y.space_after_anon_function){J.space_before_token=true}}else{if(Z==="TK_RESERVED"&&(i(x.last_text,O.line_starters)||x.last_text==="catch")){if(y.space_before_conditional){J.space_before_token=true}}}}}}if(s.text==="("&&Z==="TK_RESERVED"&&x.last_word==="await"){J.space_before_token=true}if(s.text==="("){if(Z==="TK_EQUALS"||Z==="TK_OPERATOR"){if(!Q()){u()}}}v(an);P();if(y.space_in_paren){J.space_before_token=true}w()}function N(){while(x.mode===f.Statement){q()}if(x.multiline_frame){u(s.text==="]"&&U(x.mode)&&!y.keep_array_indentation)}if(y.space_in_paren){if(Z==="TK_START_EXPR"&&!y.space_in_empty_paren){J.trim();J.space_before_token=false}else{J.space_before_token=true}}if(s.text==="]"&&y.keep_array_indentation){P();q()}else{q();P()}J.remove_redundant_indentation(H);if(x.do_while&&H.mode===f.Conditional){H.mode=f.Expression;x.do_block=false;x.do_while=false}}function X(){var an=D(1);var ap=D(2);if(ap&&((ap.text===":"&&i(an.type,["TK_STRING","TK_WORD","TK_RESERVED"]))||(i(an.text,["get","set"])&&i(ap.type,["TK_WORD","TK_RESERVED"])))){if(!i(E,["class","interface"])){v(f.ObjectLiteral)}else{v(f.BlockStatement)}}else{v(f.BlockStatement)}var aq=!an.comments_before.length&&an.text==="}";var ao=aq&&x.last_word==="function"&&Z==="TK_END_EXPR";if(y.brace_style==="expand"||(y.brace_style==="none"&&s.wanted_newline)){if(Z!=="TK_OPERATOR"&&(ao||Z==="TK_EQUALS"||(Z==="TK_RESERVED"&&T(x.last_text)&&x.last_text!=="else"))){J.space_before_token=true}else{I(false,true)}}else{if(Z!=="TK_OPERATOR"&&Z!=="TK_START_EXPR"){if(Z==="TK_START_BLOCK"){I()}else{J.space_before_token=true}}else{if(U(H.mode)&&x.last_text===","){if(E==="}"){J.space_before_token=true}else{I()}}}}P();w()}function Y(){while(x.mode===f.Statement){q()}var an=Z==="TK_START_BLOCK";if(y.brace_style==="expand"){if(!an){I()}}else{if(!an){if(U(x.mode)&&y.keep_array_indentation){y.keep_array_indentation=false;I();y.keep_array_indentation=true}else{I()}}}q();P()}function A(){if(s.type==="TK_RESERVED"&&x.mode!==f.ObjectLiteral&&i(s.text,["set","get"])){s.type="TK_WORD"}if(s.type==="TK_RESERVED"&&x.mode===f.ObjectLiteral){var ao=D(1);if(ao.text==":"){s.type="TK_WORD"}}if(K()){}else{if(s.wanted_newline&&!L(x.mode)&&(Z!=="TK_OPERATOR"||(x.last_text==="--"||x.last_text==="++"))&&Z!=="TK_EQUALS"&&(y.preserve_newlines||!(Z==="TK_RESERVED"&&i(x.last_text,["var","let","const","set","get"])))){I()}}if(x.do_block&&!x.do_while){if(s.type==="TK_RESERVED"&&s.text==="while"){J.space_before_token=true;P();J.space_before_token=true;x.do_while=true;return}else{I();x.do_block=false}}if(x.if_block){if(!x.else_block&&(s.type==="TK_RESERVED"&&s.text==="else")){x.else_block=true}else{while(x.mode===f.Statement){q()}x.if_block=false;x.else_block=false}}if(s.type==="TK_RESERVED"&&(s.text==="case"||(s.text==="default"&&x.in_case_statement))){I();if(x.case_body||y.jslint_happy){C();x.case_body=false}P();x.in_case=true;x.in_case_statement=true;return}if(s.type==="TK_RESERVED"&&s.text==="function"){if(i(x.last_text,["}",";"])||(J.just_added_newline()&&!i(x.last_text,["[","{",":","=",","]))){if(!J.just_added_blankline()&&!s.comments_before.length){I();I(true)}}if(Z==="TK_RESERVED"||Z==="TK_WORD"){if(Z==="TK_RESERVED"&&i(x.last_text,["get","set","new","return","export","async"])){J.space_before_token=true}else{if(Z==="TK_RESERVED"&&x.last_text==="default"&&E==="export"){J.space_before_token=true}else{I()}}}else{if(Z==="TK_OPERATOR"||x.last_text==="="){J.space_before_token=true}else{if(!x.multiline_frame&&(L(x.mode)||U(x.mode))){}else{I()}}}}if(Z==="TK_COMMA"||Z==="TK_START_EXPR"||Z==="TK_EQUALS"||Z==="TK_OPERATOR"){if(!Q()){u()}}if(s.type==="TK_RESERVED"&&i(s.text,["function","get","set"])){P();x.last_word=s.text;return}W="NONE";if(Z==="TK_END_BLOCK"){if(!(s.type==="TK_RESERVED"&&i(s.text,["else","catch","finally"]))){W="NEWLINE"}else{if(y.brace_style==="expand"||y.brace_style==="end-expand"||(y.brace_style==="none"&&s.wanted_newline)){W="NEWLINE"}else{W="SPACE";J.space_before_token=true}}}else{if(Z==="TK_SEMICOLON"&&x.mode===f.BlockStatement){W="NEWLINE"}else{if(Z==="TK_SEMICOLON"&&L(x.mode)){W="SPACE"}else{if(Z==="TK_STRING"){W="NEWLINE"}else{if(Z==="TK_RESERVED"||Z==="TK_WORD"||(x.last_text==="*"&&E==="function")){W="SPACE"}else{if(Z==="TK_START_BLOCK"){W="NEWLINE"}else{if(Z==="TK_END_EXPR"){J.space_before_token=true;W="NEWLINE"}}}}}}}if(s.type==="TK_RESERVED"&&i(s.text,O.line_starters)&&x.last_text!==")"){if(x.last_text==="else"||x.last_text==="export"){W="SPACE"}else{W="NEWLINE"}}if(s.type==="TK_RESERVED"&&i(s.text,["else","catch","finally"])){if(Z!=="TK_END_BLOCK"||y.brace_style==="expand"||y.brace_style==="end-expand"||(y.brace_style==="none"&&s.wanted_newline)){I()}else{J.trim(true);var an=J.current_line;if(an.last()!=="}"){I()}J.space_before_token=true}}else{if(W==="NEWLINE"){if(Z==="TK_RESERVED"&&T(x.last_text)){J.space_before_token=true}else{if(Z!=="TK_END_EXPR"){if((Z!=="TK_START_EXPR"||!(s.type==="TK_RESERVED"&&i(s.text,["var","let","const"])))&&x.last_text!==":"){if(s.type==="TK_RESERVED"&&s.text==="if"&&x.last_text==="else"){J.space_before_token=true}else{I()}}}else{if(s.type==="TK_RESERVED"&&i(s.text,O.line_starters)&&x.last_text!==")"){I()}}}}else{if(x.multiline_frame&&U(x.mode)&&x.last_text===","&&E==="}"){I()}else{if(W==="SPACE"){J.space_before_token=true}}}}P();x.last_word=s.text;if(s.type==="TK_RESERVED"&&s.text==="do"){x.do_block=true}if(s.type==="TK_RESERVED"&&s.text==="if"){x.if_block=true}}function M(){if(K()){J.space_before_token=false}while(x.mode===f.Statement&&!x.if_block&&!x.do_block){q()}P()}function z(){if(K()){J.space_before_token=true}else{if(Z==="TK_RESERVED"||Z==="TK_WORD"){J.space_before_token=true}else{if(Z==="TK_COMMA"||Z==="TK_START_EXPR"||Z==="TK_EQUALS"||Z==="TK_OPERATOR"){if(!Q()){u()}}else{I()}}}P()}function S(){if(K()){}if(x.declaration_statement){x.declaration_assignment=true}J.space_before_token=true;P();J.space_before_token=true}function ae(){if(x.declaration_statement){if(L(x.parent.mode)){x.declaration_assignment=false}P();if(x.declaration_assignment){x.declaration_assignment=false;I(false,true)}else{J.space_before_token=true;if(y.comma_first){u()}}return}P();if(x.mode===f.ObjectLiteral||(x.mode===f.Statement&&x.parent.mode===f.ObjectLiteral)){if(x.mode===f.Statement){q()}I()}else{J.space_before_token=true;if(y.comma_first){u()}}}function ac(){if(K()){}if(Z==="TK_RESERVED"&&T(x.last_text)){J.space_before_token=true;P();return}if(s.text==="*"&&Z==="TK_DOT"){P();return}if(s.text===":"&&x.in_case){x.case_body=true;w();P();I();x.in_case=false;return}if(s.text==="::"){P();return}if(Z==="TK_OPERATOR"){u()}var ao=true;var an=true;if(i(s.text,["--","++","!","~"])||(i(s.text,["-","+"])&&(i(Z,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||i(x.last_text,O.line_starters)||x.last_text===","))){ao=false;an=false;if(s.wanted_newline&&(s.text==="--"||s.text==="++")){I(false,true)}if(x.last_text===";"&&L(x.mode)){ao=true}if(Z==="TK_RESERVED"){ao=true}else{if(Z==="TK_END_EXPR"){ao=!(x.last_text==="]"&&(s.text==="--"||s.text==="++"))}else{if(Z==="TK_OPERATOR"){ao=i(s.text,["--","-","++","+"])&&i(x.last_text,["--","-","++","+"]);if(i(s.text,["+","-"])&&i(x.last_text,["--","++"])){an=true}}}}if((x.mode===f.BlockStatement||x.mode===f.Statement)&&(x.last_text==="{"||x.last_text===";")){I()}}else{if(s.text===":"){if(x.ternary_depth===0){ao=false}else{x.ternary_depth-=1}}else{if(s.text==="?"){x.ternary_depth+=1}else{if(s.text==="*"&&Z==="TK_RESERVED"&&x.last_text==="function"){ao=false;an=false}}}}J.space_before_token=J.space_before_token||ao;P();J.space_before_token=an}function ad(){var an=aj(s.text);var ap;var ao=false;var aq=false;var ar=s.whitespace_before;var at=ar.length;I(false,true);if(an.length>1){if(al(an.slice(1),"*")){ao=true}else{if(ab(an.slice(1),ar)){aq=true}}}P(an[0]);for(ap=1;ap<an.length;ap++){I(false,true);if(ao){P(" "+l(an[ap]))}else{if(aq&&an[ap].length>at){P(an[ap].substring(at))}else{J.add_token(an[ap])}}}I(false,true)}function V(){J.space_before_token=true;P();J.space_before_token=true}function t(){if(s.wanted_newline){I(false,true)}else{J.trim(true)}J.space_before_token=true;P();I(false,true)}function af(){if(K()){}if(Z==="TK_RESERVED"&&T(x.last_text)){J.space_before_token=true}else{u(x.last_text===")"&&y.break_chained_methods)}P()}function aa(){P();if(s.text[s.text.length-1]==="\n"){I()}}function ag(){while(x.mode===f.Statement){q()}}}function b(n){var p=0;var q=-1;var o=[];var m=true;this.set_indent=function(r){p=n.baseIndentLength+r*n.indent_length;q=r};this.get_character_count=function(){return p};this.is_empty=function(){return m};this.last=function(){if(!this._empty){return o[o.length-1]}else{return null}};this.push=function(r){o.push(r);p+=r.length;m=false};this.pop=function(){var r=null;if(!m){r=o.pop();p-=r.length;m=o.length===0}return r};this.remove_indent=function(){if(q>0){q-=1;p-=n.indent_length}};this.trim=function(){while(this.last()===" "){var r=o.pop();p-=1}m=o.length===0};this.toString=function(){var r="";if(!this._empty){if(q>=0){r=n.indent_cache[q]}r+=o.join("")}return r}}function j(m,o){o=o||"";this.indent_cache=[o];this.baseIndentLength=o.length;this.indent_length=m.length;var n=[];this.baseIndentString=o;this.indent_string=m;this.previous_line=null;this.current_line=null;this.space_before_token=false;this.get_line_number=function(){return n.length};this.add_new_line=function(p){if(this.get_line_number()===1&&this.just_added_newline()){return false}if(p||!this.just_added_newline()){this.previous_line=this.current_line;this.current_line=new b(this);n.push(this.current_line);return true}return false};this.add_new_line(true);this.get_code=function(){var p=n.join("\n").replace(/[\r\n\t ]+$/,"");return p};this.set_indent=function(p){if(n.length>1){while(p>=this.indent_cache.length){this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string)}this.current_line.set_indent(p);return true}this.current_line.set_indent(0);return false};this.add_token=function(p){this.add_space_before_token();this.current_line.push(p)};this.add_space_before_token=function(){if(this.space_before_token&&!this.just_added_newline()){this.current_line.push(" ")}this.space_before_token=false};this.remove_redundant_indentation=function(s){if(s.multiline_frame||s.mode===f.ForInitializer||s.mode===f.Conditional){return}var q=s.start_line_index;var p;var r=n.length;while(q<r){n[q].remove_indent();q++}};this.trim=function(p){p=(p===undefined)?false:p;this.current_line.trim(m,o);while(p&&n.length>1&&this.current_line.is_empty()){n.pop();this.current_line=n[n.length-1];this.current_line.trim()}this.previous_line=n.length>1?n[n.length-2]:null};this.just_added_newline=function(){return this.current_line.is_empty()};this.just_added_blankline=function(){if(this.just_added_newline()){if(n.length===1){return true}var p=n[n.length-2];return p.is_empty()}return false}}var a=function(o,r,p,m,q,n){this.type=o;this.text=r;this.comments_before=[];this.newlines=p||0;this.wanted_newline=p>0;this.whitespace_before=m||"";this.parent=null};function k(x,n,A){var o="\n\r\t ".split("");var w=/[0-9]/;var q=("+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>").split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var p=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]);var y,s,t,v,z;var u;this.tokenize=function(){u=x.length;z=0;t=false;v=[];var C,E;var D;var B=null;var F=[];var G=[];while(!(E&&E.type==="TK_EOF")){D=r();C=new a(D[1],D[0],y,s);while(C.type==="TK_INLINE_COMMENT"||C.type==="TK_COMMENT"||C.type==="TK_BLOCK_COMMENT"||C.type==="TK_UNKNOWN"){G.push(C);D=r();C=new a(D[1],D[0],y,s)}if(G.length){C.comments_before=G;G=[]}if(C.type==="TK_START_BLOCK"||C.type==="TK_START_EXPR"){C.parent=E;B=C;F.push(C)}else{if((C.type==="TK_END_BLOCK"||C.type==="TK_END_EXPR")&&(B&&((C.text==="]"&&B.text==="[")||(C.text===")"&&B.text==="(")||(C.text==="}"&&B.text==="}")))){C.parent=B.parent;B=F.pop()}}v.push(C);E=C}return v};function r(){var P,O;var Y=[];y=0;s="";if(z>=u){return["","TK_EOF"]}var N;if(v.length){N=v[v.length-1]}else{N=new a("TK_START_BLOCK","{")}var U=x.charAt(z);z+=1;while(i(U,o)){if(U==="\n"){y+=1;Y=[]}else{if(y){if(U===A){Y.push(A)}else{if(U!=="\r"){Y.push(" ")}}}}if(z>=u){return["","TK_EOF"]}U=x.charAt(z);z+=1}if(Y.length){s=Y.join("")}if(w.test(U)){var I=true;var H=true;var W=w;if(U==="0"&&z<u&&/[Xx]/.test(x.charAt(z))){I=false;H=false;U+=x.charAt(z);z+=1;W=/[0123456789abcdefABCDEF]/}else{U="";z-=1}while(z<u&&W.test(x.charAt(z))){U+=x.charAt(z);z+=1;if(I&&z<u&&x.charAt(z)==="."){U+=x.charAt(z);z+=1;I=false}if(H&&z<u&&/[Ee]/.test(x.charAt(z))){U+=x.charAt(z);z+=1;if(z<u&&/[+-]/.test(x.charAt(z))){U+=x.charAt(z);z+=1}H=false;I=false}}return[U,"TK_WORD"]}if(g.isIdentifierStart(x.charCodeAt(z-1))){if(z<u){while(g.isIdentifierChar(x.charCodeAt(z))){U+=x.charAt(z);z+=1;if(z===u){break}}}if(!(N.type==="TK_DOT"||(N.type==="TK_RESERVED"&&i(N.text,["set","get"])))&&i(U,p)){if(U==="in"){return[U,"TK_OPERATOR"]}return[U,"TK_RESERVED"]}return[U,"TK_WORD"]}if(U==="("||U==="["){return[U,"TK_START_EXPR"]}if(U===")"||U==="]"){return[U,"TK_END_EXPR"]}if(U==="{"){return[U,"TK_START_BLOCK"]}if(U==="}"){return[U,"TK_END_BLOCK"]}if(U===";"){return[U,"TK_SEMICOLON"]}if(U==="/"){var C="";var L=true;if(x.charAt(z)==="*"){z+=1;if(z<u){while(z<u&&!(x.charAt(z)==="*"&&x.charAt(z+1)&&x.charAt(z+1)==="/")){U=x.charAt(z);C+=U;if(U==="\n"||U==="\r"){L=false}z+=1;if(z>=u){break}}}z+=2;if(L&&y===0){return["/*"+C+"*/","TK_INLINE_COMMENT"]}else{return["/*"+C+"*/","TK_BLOCK_COMMENT"]}}if(x.charAt(z)==="/"){C=U;while(x.charAt(z)!=="\r"&&x.charAt(z)!=="\n"){C+=x.charAt(z);z+=1;if(z>=u){break}}return[C,"TK_COMMENT"]}}if(U==="`"||U==="'"||U==='"'||((U==="/")||(n.e4x&&U==="<"&&x.slice(z-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/)))&&((N.type==="TK_RESERVED"&&i(N.text,["return","case","throw","else","do","typeof","yield"]))||(N.type==="TK_END_EXPR"&&N.text===")"&&N.parent&&N.parent.type==="TK_RESERVED"&&i(N.parent.text,["if","while","for"]))||(i(N.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"])))){var M=U,V=false,E=false;O=U;if(M==="/"){var F=false;while(z<u&&((V||F||x.charAt(z)!==M)&&!g.newline.test(x.charAt(z)))){O+=x.charAt(z);if(!V){V=x.charAt(z)==="\\";if(x.charAt(z)==="["){F=true}else{if(x.charAt(z)==="]"){F=false}}}else{V=false}z+=1}}else{if(n.e4x&&M==="<"){var T=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g;var D=x.slice(z-1);var J=T.exec(D);if(J&&J.index===0){var R=J[2];var X=0;while(J){var S=!!J[1];var G=J[2];var B=(!!J[J.length-1])||(G.slice(0,8)==="![CDATA[");if(G===R&&!B){if(S){--X}else{++X}}if(X<=0){break}J=T.exec(D)}var Q=J?J.index+J[0].length:D.length;D=D.slice(0,Q);z+=Q-1;return[D,"TK_STRING"]}}else{while(z<u&&(V||(x.charAt(z)!==M&&(M==="`"||!g.newline.test(x.charAt(z)))))){O+=x.charAt(z);if(x.charAt(z)==="\r"&&x.charAt(z+1)==="\n"){z+=1;O+="\n"}if(V){if(x.charAt(z)==="x"||x.charAt(z)==="u"){E=true}V=false}else{V=x.charAt(z)==="\\"}z+=1}}}if(E&&n.unescape_strings){O=m(O)}if(z<u&&x.charAt(z)===M){O+=M;z+=1;if(M==="/"){while(z<u&&g.isIdentifierStart(x.charCodeAt(z))){O+=x.charAt(z);z+=1}}}return[O,"TK_STRING"]}if(U==="#"){if(v.length===0&&x.charAt(z)==="!"){O=U;while(z<u&&U!=="\n"){U=x.charAt(z);O+=U;z+=1}return[d(O)+"\n","TK_UNKNOWN"]}var K="#";if(z<u&&w.test(x.charAt(z))){do{U=x.charAt(z);K+=U;z+=1}while(z<u&&U!=="#"&&U!=="=");if(U==="#"){}else{if(x.charAt(z)==="["&&x.charAt(z+1)==="]"){K+="[]";z+=2}else{if(x.charAt(z)==="{"&&x.charAt(z+1)==="}"){K+="{}";z+=2}}}return[K,"TK_WORD"]}}if(U==="<"&&x.substring(z-1,z+3)==="<!--"){z+=3;U="<!--";while(x.charAt(z)!=="\n"&&z<u){U+=x.charAt(z);z++}t=true;return[U,"TK_COMMENT"]}if(U==="-"&&t&&x.substring(z-1,z+2)==="-->"){t=false;z+=2;return["-->","TK_COMMENT"]}if(U==="."){return[U,"TK_DOT"]}if(i(U,q)){while(z<u&&i(U+x.charAt(z),q)){U+=x.charAt(z);z+=1;if(z>=u){break}}if(U===","){return[U,"TK_COMMA"]}else{if(U==="="){return[U,"TK_EQUALS"]}else{return[U,"TK_OPERATOR"]}}}return[U,"TK_UNKNOWN"]}function m(E){var B=false,C="",H=0,D="",F=0,G;while(B||H<E.length){G=E.charAt(H);H++;if(B){B=false;if(G==="x"){D=E.substr(H,2);H+=2}else{if(G==="u"){D=E.substr(H,4);H+=4}else{C+="\\"+G;continue}}if(!D.match(/^[0123456789abcdefABCDEF]+$/)){return E}F=parseInt(D,16);if(F>=0&&F<32){if(G==="x"){C+="\\x"+D}else{C+="\\u"+D}continue}else{if(F===34||F===39||F===92){C+="\\"+String.fromCharCode(F)}else{if(G==="x"&&F>126&&F<=255){return E}else{C+=String.fromCharCode(F)}}}}else{if(G==="\\"){B=true}else{C+=G}}}return C}}window.js_beautify=c}());(function(){function a(N,t){t=t||{};var I=t.indent_size||4;var q=t.indent_char||" ";var H=(t.selector_separator_newline===undefined)?true:t.selector_separator_newline;var E=(t.end_with_newline===undefined)?false:t.end_with_newline;var C=(t.newline_between_rules===undefined)?true:t.newline_between_rules;if(typeof I==="string"){I=parseInt(I,10)}var p=/^\s+$/;var s=/[\w$\-_]/;var y=-1,x;var r=0;function e(){x=N.charAt(++y);return x||""}function i(O){var P=y;if(O){z()}result=N.charAt(y+1)||"";y=P-1;e();return result}function A(P){var O=y;while(e()){if(x==="\\"){e()}else{if(P.indexOf(x)!==-1){break}else{if(x==="\n"){break}}}}return N.substring(O,y+1)}function j(Q){var P=y;var O=A(Q);y=P-1;e();return O}function z(){var O="";while(p.test(i())){e();O+=x}return O}function l(){var O="";if(x&&p.test(x)){O=x}while(p.test(e())){O+=x}return O}function M(O){var P=y;O=i()==="/";e();while(e()){if(!O&&x==="*"&&i()==="/"){e();break}else{if(O&&x==="\n"){return N.substring(P,y)}}}return N.substring(P,y)+x}function h(O){return N.substring(y-O.length,y).toLowerCase()===O}function F(){for(var O=y+1;O<N.length;O++){var P=N.charAt(O);if(P==="{"){return true}else{if(P===";"||P==="}"||P===")"){return false}}}return false}var b=N.match(/^[\t ]*/)[0];var c=new Array(I+1).join(q);var k=0;var J=0;function o(){k++;b+=c}function g(){k--;b=b.slice(0,-I)}var K={};K["{"]=function(O){K.singleSpace();u.push(O);K.newLine()};K["}"]=function(O){K.newLine();u.push(O);K.newLine()};K._lastCharWhitespace=function(){return p.test(u[u.length-1])};K.newLine=function(O){if(!O){K.trim()}if(u.length){u.push("\n")}if(b){u.push(b)}};K.singleSpace=function(){if(u.length&&!K._lastCharWhitespace()){u.push(" ")}};K.trim=function(){while(K._lastCharWhitespace()){u.pop()}};var u=[];if(b){u.push(b)}var D=false;var m=false;var d="";var B="";while(true){var v=l();var w=v!=="";var G=v.indexOf("\n")!==-1;B=d;d=x;if(!x){break}else{if(x==="/"&&i()==="*"){var f=h("");K.newLine();u.push(M());K.newLine();if(f){K.newLine(true)}}else{if(x==="/"&&i()==="/"){if(!G&&B!=="{"){K.trim()}K.singleSpace();u.push(M());K.newLine()}else{if(x==="@"){if(w){K.singleSpace()}u.push(x);var n=j(": ,;{}()[]/='\"").replace(/\s$/,"");if(n in a.NESTED_AT_RULE){J+=1;if(n in a.CONDITIONAL_GROUP_RULE){m=true}}else{if(": ".indexOf(n[n.length-1])>=0){e();n=A(": ").replace(/\s$/,"");u.push(n);K.singleSpace()}}}else{if(x==="{"){if(i(true)==="}"){z();e();K.singleSpace();u.push("{}");K.newLine();if(C&&k===0){K.newLine(true)}}else{o();K["{"](x);if(m){m=false;D=(k>J)}else{D=(k>=J)}}}else{if(x==="}"){g();K["}"](x);D=false;if(J){J--}if(C&&k===0){K.newLine(true)}}else{if(x===":"){z();if((D||m)&&!(h("&")||F())){u.push(":");K.singleSpace()}else{if(i()===":"){e();u.push("::")}else{u.push(":")}}}else{if(x==='"'||x==="'"){if(w){K.singleSpace()}u.push(A(x))}else{if(x===";"){u.push(x);K.newLine()}else{if(x==="("){if(h("url")){u.push(x);z();if(e()){if(x!==")"&&x!=='"'&&x!=="'"){u.push(A(")"))}else{y--}}}else{r++;if(w){K.singleSpace()}u.push(x);z()}}else{if(x===")"){u.push(x);r--}else{if(x===","){u.push(x);z();if(!D&&H&&r<1){K.newLine()}else{K.singleSpace()}}else{if(x==="]"){u.push(x)}else{if(x==="["){if(w){K.singleSpace()}u.push(x)}else{if(x==="="){z();x="=";u.push(x)}else{if(w){K.singleSpace()}u.push(x)}}}}}}}}}}}}}}}}var L=u.join("").replace(/[\r\n\t ]+$/,"");if(E){L+="\n"}return L}a.NESTED_AT_RULE={"@page":true,"@font-face":true,"@keyframes":true,"@media":true,"@supports":true,"@document":true};a.CONDITIONAL_GROUP_RULE={"@media":true,"@supports":true,"@document":true};window.css_beautify=a}());CodeMirror.defineExtension("autoFormatRange",function(q,c){var k=this,n=k.getMode().name,j;if(n=="javascript"){j=js_beautify(k.getValue(),{indent_size:2});if(j!==k.getValue()){k.setValue(j)}return}if(n=="css"){j=css_beautify(k.getValue(),{indent_size:2});if(j!==k.getValue()){k.setValue(j)}return}var a=k.getMode(),l=k.getRange(q,c).split("\n");var e=CodeMirror.copyState(a,k.getTokenAt(q).state);var o=k.getOption("tabSize");var s="",b=0,m=q.ch==0,g=l.length,h=g-1;function p(){s+="\n";m=true;++b}for(var r=0;r<g;++r){var f=new CodeMirror.StringStream(l[r],o);while(!f.eol()){var u=CodeMirror.innerMode(a,e);var t=a.token(f,e),d=f.current();f.start=f.pos;if(!m||/\S/.test(d)){s+=d;m=false}if(!m&&u.mode.newlineAfterToken&&u.mode.newlineAfterToken(t,d,f.string.slice(f.pos)||l[r+1]||"",u.state)){p()}}if(!f.pos&&a.blankLine){a.blankLine(e)}if(!m&&r<h){p()}}k.operation(function(){k.replaceRange(s,q,c);for(var v=q.line+1,i=q.line+b;v<=i;++v){k.indentLine(v,"smart")}k.setSelection(q,k.getCursor(false))})});