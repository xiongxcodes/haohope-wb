{"hidden":true,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"layout":"fit","itemId":"win","editWin":"true","resizable":"true","width":"1000","maximizable":"true","height":"420"},"expanded":true,"children":[{"configs":{"itemId":"xwl1","file":"m?xwl=sys/app/user/user-select-panel"},"expanded":false,"children":[],"type":"xwl"}],"type":"window","events":{"hide":"app.xwl1.sourceStore.removeAll();\napp.xwl1.destStore.removeAll();","ok":"var recs = app.xwl1.destStore.getRange(),\n  userId = Wb.pluck(recs, 'USER_ID'),\n  userName = Wb.pluck(recs, 'USER_NAME'),\n  displayName = Wb.pluck(recs, 'DISPLAY_NAME');\nif (app.required && !recs.length) {\n  Wb.warn('请选择至少1个用户。');\n  return;\n}\nExt.callback(app.callback, app, [{\n  userId: userId,\n  userName: userName,\n  displayName: displayName\n}, win]);"}}],"type":"module","events":{"initialize":"Wb.apply(app, {\n  /**\n   * 显示人员选择对话框。\n   * @param {Function} callback 点击确定按钮后的回调函数。\n   * @param {Object} callback.userData 用户数据对象，包括userId 用户id列表，userName 用户名称列表,displayName 显示名称列表。\n   * @param {Ext.window.Window} callback.win 窗口对象。\n   * @param {Object} [params] 可选参数。\n   * @param {String} [params.required] 是否必须选择用户，默认为false。\n   * @param {String} [params.title] 窗口标题。\n   * @param {String} [params.iconCls] 窗口图标。\n   * @param {String[]} [params.userId] 已经选择的用户id列表。\n   */\n  show: function(callback, params) {\n    if (!params)\n      params = {};\n    app.callback = callback;\n    app.required = params.required;\n    app.win.show();\n    app.win.setTitle(params.title || '用户选择');\n    app.win.setIconCls(params.iconCls || 'user_icon');\n    app.xwl1.load(params.userId);\n  }\n});"}}],"roles":{},"title":"用户选择","iconCls":"","inframe":false,"pageLink":""}