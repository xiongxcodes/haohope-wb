{"hidden":false,"children":[{"configs":{"serverScript":"var userIds = [],\n  recs = Wb.decode(request.getParameter('destroy'));\n\nWb.each(recs, function(rec) {\n  if (rec.USER_ID == 'admin')\n    Wb.error('不能删除默认管理员帐户。');\n  userIds.push(rec.USER_ID);\n});\n\napp.run('delete from WB_USER where USER_ID={?USER_ID?}', {\n  arrayName: 'destroy'\n});\n\napp.run('delete from WB_USER_ROLE where USER_ID={?USER_ID?}', {\n  arrayName: 'destroy'\n});\n\napp.run('delete from WB_PERSON where USER_ID={?USER_ID?}', {\n  arrayName: 'destroy'\n});\n\nWb.each(recs, function(rec) {\n  request.setAttribute('likeId', rec.USER_ID + '@%');\n  app.run('delete from WB_VALUE where VAL_ID like {?likeId?}');\n  app.run('delete from WB_RESOURCE where RES_ID like {?likeId?}');\n});\n\n//移除会话\ncom.wb.common.UserList.invalidate(userIds);","itemId":"module"},"expanded":true,"children":[],"type":"module"}],"roles":{},"title":"删除","iconCls":"","inframe":false,"pageLink":""}