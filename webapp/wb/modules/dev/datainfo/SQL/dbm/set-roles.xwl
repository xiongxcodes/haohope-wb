{"hidden":true,"children":[{"configs":{"itemId":"module","serverScript":"var rows = [],\n  objectName, type = app.get('type');\n\nif (type == 'db')\n  objectName = app.get('jndi');\nelse\n  objectName = app.get('jndi') + '.' + app.get('prefix') + '.' + app.get(type);\n\ncreateRoleRecs(1);\ncreateRoleRecs(2);\ncreateRoleRecs(3);\napp.set({\n  objectName: objectName,\n  create: Wb.encode(rows)\n});\napp.run('delete from WB_DBM where OBJECT_NAME={?objectName?}', {\n  transaction: 'start'\n});\napp.update({\n  tableName: 'WB_DBM'\n});\n\nfunction createRoleRecs(type) {\n  Wb.each(app.getObject('permx' + type), function(roleName) {\n    rows.push({\n      S_ID: SysUtil.getId(),\n      OBJECT_NAME: objectName,\n      ROLE_NAME: roleName,\n      PERM_TYPE: type\n    });\n  });\n}"},"expanded":true,"children":[{"configs":{"itemId":"updater1"},"expanded":false,"children":[],"type":"updater"}],"type":"module"}],"roles":{},"title":"设置角色","iconCls":"","inframe":false,"pageLink":""}