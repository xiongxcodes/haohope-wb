{"hidden":true,"children":[{"configs":{"serverScript":"Wb.apply(app, {\n  /**\n   * 加载任务，并把相关参数数据发送到客户端。\n   * @param {String} taskId 任务id号。\n   */\n  reloadTask: function(taskId) {\n    var triggers, trigger, data = app.get(),\n      TaskManager = com.wb.tool.TaskManager;\n    TaskManager.loadTask(taskId, data.TASK_NAME,\n      data.INTERVAL_TYPE, data.INTERVAL_EXPRESS, data.CLASS_NAME,\n      data.SERVER_SCRIPT, DateUtil.strToDate(data.BEGIN_DATE), DateUtil.strToDate(data.END_DATE));\n    if (TaskManager.scheduler) {\n      Wb.sleep(Var.getInt('sys.task.waitFireDelay'));\n      triggers = TaskManager.scheduler.getTriggersOfJob(taskId, org.quartz.Scheduler.DEFAULT_GROUP);\n      trigger = triggers && triggers.length ? triggers[0] : null;\n      WebUtil.send(response, Wb.encode({\n        PREVIOUS: trigger ? trigger.getPreviousFireTime() : null,\n        NEXT: trigger ? trigger.getNextFireTime() : null,\n        TASK_ID: taskId\n      }));\n    } else {\n      WebUtil.send(response, Wb.encode({\n        PREVIOUS: null,\n        NEXT: null,\n        TASK_ID: taskId\n      }));\n    }\n  }\n});","itemId":"module","internalCall":"true"},"expanded":false,"children":[],"type":"module"}],"roles":{},"title":"公共类","iconCls":"","inframe":false,"pageLink":""}