{"hidden":false,"children":[{"configs":{"serverScript":"var data = app.get(); //获取request parameter，request attribute和session attributes值组成的对象。\nif (data.type == 2)\n  Wb.error('这是一个异常测试。'); //抛出Java Exception异常\nvar file = new File(Base.path, data.file1__name);\nvar os = new java.io.FileOutputStream(file); //在应用根目录创建文件输出流\ntry {\n  //复制文件流内容至文件输出流，data.file1为上传文件内容的输入流，data.file1__name为文件名称，data.file1__size为文件大小，可以使用app.getFiles获取。\n  IOUtils.copy(data.file1, os);\n} finally {\n  os.close(); //关闭输出流\n}\n//app.run('update table set blob_field={?file1?} 使用此方法可以把上传的文件更新到blob_field字段\n//前台上传的参数无论是什么类型，传到后台后都是字符串\nvar result = {\n  text1: data.text1, //等于request.getAttribute('text1')。采用文件上传的方式传递的参数置于attribute中而非parameters中。\n  abc: data.abc, //abc在form的baseParams中传递\n  foo: data.foo, //字符串\n  num: data.num, //parseFloat(data.num)可转成js数值，Double.parseDouble(data.num)可转成java数值\n  date: data.date //Wb.strToDate(data.date)可转成js日期，DateUtil.strToDate(data.date)可转成java日期\n};\napp.send('您上传的文件位于：<strong>应用根目录<\/strong><br><br>您提交的参数为：' + Wb.encode(result));","itemId":"module"},"expanded":true,"children":[],"type":"module"}],"roles":{},"title":"处理上传","iconCls":"","inframe":false,"pageLink":""}